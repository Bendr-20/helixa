import{j as e}from"./vendor-wallet-iWeBopzN.js";import{r as o,R as y}from"./vendor-react-NLnOsXgy.js";import{A as f,a as S}from"./AgentCard-DrRdjn14.js";import{a as k,b as C}from"./useAgents-BbUs2UDr.js";import{A}from"./constants-B-A5LG6g.js";import{m as d}from"./proxy-8kKveTum.js";import"./AuraPreview-BsLrNM_O.js";import"./CredBadge-P-GCNkbr.js";import"./Icons-3VwMs7kR.js";import"./createLucideIcon-DLk6n4fe.js";const g={initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,ease:"easeOut"}};function W(){const[a,c]=o.useState(""),[t,h]=o.useState(""),[i,m]=o.useState(void 0),[x,b]=o.useState("credScore"),{data:l}=k(),{data:u,isLoading:j,error:p}=C({search:a.trim()||void 0,framework:t||void 0,soulbound:i}),v=y.useMemo(()=>u?[...u].filter(s=>s.name&&s.name.length>0).sort((s,r)=>{switch(x){case"credScore":return r.credScore-s.credScore;case"points":return r.points-s.points;case"name":return s.name.localeCompare(r.name);case"recent":return r.tokenId-s.tokenId;default:return 0}}):[],[u,x]),N=()=>{c(""),h(""),m(void 0)},n=a||t||i!==void 0;return e.jsx("div",{className:"dir-page",children:e.jsxs("div",{className:"dir-container",children:[e.jsxs(d.div,{...g,className:"dir-header",children:[e.jsxs("h1",{children:["Agent ",e.jsx("span",{className:"text-gradient",children:"Directory"})]}),e.jsx("p",{children:"Discover and explore AI agents across the ecosystem"})]}),e.jsxs(d.div,{...g,transition:{duration:.5,delay:.1},className:"lb-stats-row",children:[e.jsxs("div",{className:"lb-mini-stat",children:[e.jsx("div",{className:"val purple",children:l?.totalAgents??"—"}),e.jsx("div",{className:"lbl",children:"Total Agents"})]}),e.jsxs("div",{className:"lb-mini-stat",children:[e.jsx("div",{className:"val gold",children:l?.totalCredScore?.toLocaleString()??"—"}),e.jsx("div",{className:"lbl",children:"Total Cred"})]}),e.jsxs("div",{className:"lb-mini-stat",children:[e.jsx("div",{className:"val blue",children:l?.frameworks??"—"}),e.jsx("div",{className:"lbl",children:"Frameworks"})]}),e.jsxs("div",{className:"lb-mini-stat",children:[e.jsx("div",{className:"val green",children:l?.soulboundCount??"—"}),e.jsx("div",{className:"lbl",children:"Soulbound"})]})]}),e.jsxs(d.div,{...g,transition:{duration:.5,delay:.15},className:"dir-filters",children:[e.jsxs("div",{className:"dir-filters-grid",children:[e.jsxs("div",{className:"dir-filter-group dir-filter-search",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:a,onChange:s=>c(s.target.value)})]}),e.jsxs("div",{className:"dir-filter-group",children:[e.jsx("label",{children:"Framework"}),e.jsxs("select",{value:t,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"",children:"All"}),A.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"dir-filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:i===void 0?"":i.toString(),onChange:s=>m(s.target.value===""?void 0:s.target.value==="true"),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Soulbound"}),e.jsx("option",{value:"false",children:"Transferable"})]})]}),e.jsxs("div",{className:"dir-filter-group",children:[e.jsx("label",{children:"Sort"}),e.jsxs("select",{value:x,onChange:s=>b(s.target.value),children:[e.jsx("option",{value:"credScore",children:"Cred Score"}),e.jsx("option",{value:"points",children:"Points"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"recent",children:"Recent"})]})]}),n&&e.jsxs("div",{className:"dir-filter-group dir-filter-clear",children:[e.jsx("label",{children:" "}),e.jsx("button",{onClick:N,children:"Clear"})]})]}),n&&e.jsxs("div",{className:"dir-active-filters",children:[e.jsx("span",{className:"dir-filter-label",children:"Active:"}),a&&e.jsxs("span",{className:"dir-filter-tag",children:['"',a,'" ',e.jsx("button",{onClick:()=>c(""),children:"×"})]}),t&&e.jsxs("span",{className:"dir-filter-tag",children:[t," ",e.jsx("button",{onClick:()=>h(""),children:"×"})]}),i!==void 0&&e.jsxs("span",{className:"dir-filter-tag",children:[i?"Soulbound":"Transferable"," ",e.jsx("button",{onClick:()=>m(void 0),children:"×"})]})]})]}),e.jsx("div",{className:"dir-results-bar",children:e.jsx("span",{children:j?"Loading...":p?"Error loading agents":`${v.length} agents`})}),p&&e.jsxs("div",{className:"lb-empty",children:[e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.3},children:e.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("h3",{children:"Failed to Load"}),e.jsx("p",{children:"There was an error loading the agent directory."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"Try Again"})]}),!j&&!p&&v.length===0&&e.jsxs("div",{className:"lb-empty",children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:.3},children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("h3",{children:"No Agents Found"}),e.jsx("p",{children:n?"Try adjusting your filters.":"No agents minted yet."}),n?e.jsx("button",{onClick:N,className:"btn btn-primary",children:"Clear Filters"}):e.jsx("a",{href:"/mint",className:"btn btn-primary",children:"Mint First Aura"})]}),j?e.jsx("div",{className:"dir-grid",children:Array.from({length:12}).map((s,r)=>e.jsx(f,{},r))}):e.jsx("div",{className:"dir-grid",children:v.map((s,r)=>e.jsx(d.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:Math.min(r*.05,.4)},children:e.jsx(S,{agent:s})},s.tokenId))})]})})}export{W as Directory};
