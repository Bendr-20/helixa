import{g as Ed,r as q,a as fc}from"./vendor-react-Cdhzczvq.js";var Xr={exports:{}},hn={};var zi;function Pd(){if(zi)return hn;zi=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var i=null;if(o!==void 0&&(i=""+o),s.key!==void 0&&(i=""+s.key),"key"in s){o={};for(var a in s)a!=="key"&&(o[a]=s[a])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:i,ref:s!==void 0?s:null,props:o}}return hn.Fragment=t,hn.jsx=n,hn.jsxs=n,hn}var ji;function Id(){return ji||(ji=1,Xr.exports=Pd()),Xr.exports}var Sd=Id();const Ad="modulepreload",Cd=function(e){return"/"+e},Li={},dc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Cd(u),u in Li)return;Li[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Ad,f||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((h,p)=>{l.addEventListener("load",h),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},$d="1.2.3";let ue=class Fs extends Error{constructor(t,n={}){const r=n.cause instanceof Fs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Fs&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${$d}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ke(e,t){return e.exec(t)?.groups}const lc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,pc=/^\(.+?\).*?$/,Ui=/^tuple(?<array>(\[(\d*)\])*)$/;function Ns(e){let t=e.type;if(Ui.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Ns(o),s<n-1&&(t+=", ")}const r=Ke(Ui,e.type);return t+=`)${r?.array||""}`,Ns({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Lt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ns(s),r!==n-1&&(t+=", ")}return t}function mr(e){return e.type==="function"?`function ${e.name}(${Lt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Lt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Lt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Lt(e.inputs)})`:e.type==="constructor"?`constructor(${Lt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const bc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Bd(e){return bc.test(e)}function Td(e){return Ke(bc,e)}const mc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Od(e){return mc.test(e)}function Rd(e){return Ke(mc,e)}const yc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function kd(e){return yc.test(e)}function Fd(e){return Ke(yc,e)}const gc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ar(e){return gc.test(e)}function Nd(e){return Ke(gc,e)}const wc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Md(e){return wc.test(e)}function _d(e){return Ke(wc,e)}const vc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function zd(e){return vc.test(e)}function jd(e){return Ke(vc,e)}const Ld=/^receive\(\) external payable$/;function Ud(e){return Ld.test(e)}const qi=new Set(["memory","indexed","storage","calldata"]),qd=new Set(["indexed"]),Ms=new Set(["calldata","memory","storage"]);class Dd extends ue{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Gd extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Hd extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Vd extends ue{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Wd extends ue{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Kd extends ue{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Qd extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Zd extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Yd extends ue{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class nn extends ue{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Jd extends ue{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Xd extends ue{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class el extends ue{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tl extends ue{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nl(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const es=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function _s(e,t={}){if(kd(e))return rl(e,t);if(Od(e))return sl(e,t);if(Bd(e))return ol(e,t);if(Md(e))return il(e,t);if(zd(e))return al(e);if(Ud(e))return{type:"receive",stateMutability:"payable"};throw new Jd({signature:e})}function rl(e,t={}){const n=Fd(e);if(!n)throw new nn({signature:e,type:"function"});const r=he(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(He(r[a],{modifiers:Ms,structs:t,type:"function"}));const i=[];if(n.returns){const a=he(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(He(a[u],{modifiers:Ms,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function sl(e,t={}){const n=Rd(e);if(!n)throw new nn({signature:e,type:"event"});const r=he(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(He(r[i],{modifiers:qd,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function ol(e,t={}){const n=Td(e);if(!n)throw new nn({signature:e,type:"error"});const r=he(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(He(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function il(e,t={}){const n=_d(e);if(!n)throw new nn({signature:e,type:"constructor"});const r=he(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(He(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function al(e){const t=jd(e);if(!t)throw new nn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const cl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ul=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fl=/^u?int$/;function He(e,t){const n=nl(e,t?.type,t?.structs);if(es.has(n))return es.get(n);const r=pc.test(e),s=Ke(r?ul:cl,e);if(!s)throw new Wd({param:e});if(s.name&&ll(s.name))throw new Kd({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=he(s.type),l=[],h=d.length;for(let p=0;p<h;p++)l.push(He(d[p],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(fl.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!xc(c))throw new Hd({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Qd({param:e,type:t?.type,modifier:s.modifier});if(Ms.has(s.modifier)&&!hl(c,!!s.array))throw new Zd({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return es.set(n,f),f}function he(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?he(a,[...t,n.trim()]):he(a,t,`${n}${i}`,r);case"(":return he(a,t,`${n}${i}`,r+1);case")":return he(a,t,`${n}${i}`,r-1);default:return he(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new tl({current:n,depth:r});return t.push(n.trim()),t}function xc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||lc.test(e)||hc.test(e)}const dl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ll(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||lc.test(e)||hc.test(e)||dl.test(e)}function hl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function $o(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Ar(a))continue;const c=Nd(a);if(!c)throw new nn({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const b=He(p,{type:"struct"});f.push(b)}if(!f.length)throw new Xd({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Ec(c,t)}return r}const pl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ec(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(pc.test(i.type))r.push(i);else{const c=Ke(pl,i.type);if(!c?.type)throw new Yd({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new el({type:f});r.push({...i,type:`tuple${u??""}`,components:Ec(t[f],t,new Set([...n,f]))})}else if(xc(f))r.push(i);else throw new Gd({type:f})}}return r}function Pc(e){const t=$o(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Ar(o)||n.push(_s(o,t))}return n}function Di(e){let t;if(typeof e=="string")t=_s(e);else{const n=$o(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Ar(o)){t=_s(o,n);break}}}if(!t)throw new Dd({signature:e});return t}function Gi(e){const t=[];if(typeof e=="string"){const n=he(e),r=n.length;for(let s=0;s<r;s++)t.push(He(n[s],{modifiers:qi}))}else{const n=$o(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Ar(o))continue;const i=he(o),a=i.length;for(let c=0;c<a;c++)t.push(He(i[c],{modifiers:qi,structs:n}))}}if(t.length===0)throw new Vd({params:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Ae(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Al(e.type);return`${e.name}(${Cr(e.inputs,{includeName:t})})`}function Cr(e,{includeName:t=!1}={}){return e?e.map(n=>bl(n,{includeName:t})).join(t?", ":","):""}function bl(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Cr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ce(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function H(e){return Ce(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Ic="2.46.2";let ts={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Ic}`},A=class zs extends Error{constructor(t,n={}){const r=n.cause instanceof zs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof zs&&n.cause.docsPath||n.docsPath,o=ts.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...ts.version?[`Version: ${ts.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Ic}walk(t){return Sc(this,t)}};function Sc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Sc(e.cause,t):t?null:e}class ml extends A{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Hi extends A{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ac extends A{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Cr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class qn extends A{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class yl extends A{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class gl extends A{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Cc extends A{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class wl extends A{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Vi extends A{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class $c extends A{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class vl extends A{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class xl extends A{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Wi extends A{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Kt extends A{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Bc extends A{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class El extends A{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Pl extends A{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ae(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ae(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Tc=class extends A{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class yr extends A{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Cr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Bo extends A{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ae(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Il extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Sl extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Oc=class extends A{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Al extends A{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Cl extends A{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class $l extends A{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Rc=class extends A{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},kc=class extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ki extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function qe(e,{dir:t,size:n=32}={}){return typeof e=="string"?et(e,{dir:t,size:n}):Bl(e,{dir:t,size:n})}function et(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new kc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Bl(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new kc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let To=class extends A{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Tl=class extends A{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Ol extends A{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Rl=class extends A{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function ie(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function xe(e,{size:t}){if(H(e)>t)throw new Rl({givenSize:H(e),maxSize:t})}function pe(e,t={}){const{signed:n}=t;t.size&&xe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function kl(e,t={}){let n=e;if(t.size&&(xe(n,{size:t.size}),n=ie(n)),ie(n)==="0x00")return!1;if(ie(n)==="0x01")return!0;throw new Ol(n)}function we(e,t={}){const n=pe(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new To({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}function Fc(e,t={}){let n=Be(e);return t.size&&(xe(n,{size:t.size}),n=ie(n,{dir:"right"})),new TextDecoder().decode(n)}const Fl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $e(e,t={}){return typeof e=="number"||typeof e=="bigint"?B(e,t):typeof e=="string"?gt(e,t):typeof e=="boolean"?Oo(e,t):W(e,t)}function Oo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(xe(n,{size:t.size}),qe(n,{size:t.size})):n}function W(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Fl[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(xe(r,{size:t.size}),qe(r,{dir:"right",size:t.size})):r}function B(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new To({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?qe(a,{size:r}):a}const Nl=new TextEncoder;function gt(e,t={}){const n=Nl.encode(e);return W(n,t)}const Ml=new TextEncoder;function rn(e,t={}){return typeof e=="number"||typeof e=="bigint"?zl(e,t):typeof e=="boolean"?_l(e,t):Ce(e)?Be(e,t):ht(e,t)}function _l(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(xe(n,{size:t.size}),qe(n,{size:t.size})):n}const Me={zero:48,nine:57,A:65,F:70,a:97,f:102};function Qi(e){if(e>=Me.zero&&e<=Me.nine)return e-Me.zero;if(e>=Me.A&&e<=Me.F)return e-(Me.A-10);if(e>=Me.a&&e<=Me.f)return e-(Me.a-10)}function Be(e,t={}){let n=e;t.size&&(xe(n,{size:t.size}),n=qe(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Qi(r.charCodeAt(a++)),u=Qi(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new A(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function zl(e,t){const n=B(e,t);return Be(n)}function ht(e,t={}){const n=Ml.encode(e);return typeof t.size=="number"?(xe(n,{size:t.size}),qe(n,{dir:"right",size:t.size})):n}const rr=BigInt(2**32-1),Zi=BigInt(32);function jl(e,t=!1){return t?{h:Number(e&rr),l:Number(e>>Zi&rr)}:{h:Number(e>>Zi&rr)|0,l:Number(e&rr)|0}}function Ll(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=jl(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Ul=(e,t,n)=>e<<n|t>>>32-n,ql=(e,t,n)=>t<<n|e>>>32-n,Dl=(e,t,n)=>t<<n-32|e>>>64-n,Gl=(e,t,n)=>e<<n-32|t>>>64-n,_t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Hl(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function wt(e,...t){if(!Hl(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Vl(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yn(e.outputLen),yn(e.blockLen)}function Qt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nc(e,t){wt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Wl(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Zt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ns(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ke(e,t){return e<<32-t|e>>>t}const Kl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ql(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Zl(e){for(let t=0;t<e.length;t++)e[t]=Ql(e[t]);return e}const Yi=Kl?e=>e:Zl;function Yl(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $r(e){return typeof e=="string"&&(e=Yl(e)),wt(e),e}function Jl(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];wt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let Ro=class{};function Mc(e){const t=r=>e().update($r(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Xl(e=32){if(_t&&typeof _t.getRandomValues=="function")return _t.getRandomValues(new Uint8Array(e));if(_t&&typeof _t.randomBytes=="function")return Uint8Array.from(_t.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const e0=BigInt(0),pn=BigInt(1),t0=BigInt(2),n0=BigInt(7),r0=BigInt(256),s0=BigInt(113),_c=[],zc=[],jc=[];for(let e=0,t=pn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],_c.push(2*(5*r+n)),zc.push((e+1)*(e+2)/2%64);let s=e0;for(let o=0;o<7;o++)t=(t<<pn^(t>>n0)*s0)%r0,t&t0&&(s^=pn<<(pn<<BigInt(o))-pn);jc.push(s)}const Lc=Ll(jc,!0),o0=Lc[0],i0=Lc[1],Ji=(e,t,n)=>n>32?Dl(e,t,n):Ul(e,t,n),Xi=(e,t,n)=>n>32?Gl(e,t,n):ql(e,t,n);function a0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Ji(u,f,1)^n[a],l=Xi(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=zc[i],c=Ji(s,o,a),u=Xi(s,o,a),f=_c[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=o0[r],e[1]^=i0[r]}Zt(n)}let c0=class Uc extends Ro{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,yn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wl(this.state)}clone(){return this._cloneInto()}keccak(){Yi(this.state32),a0(this.state32,this.rounds),Yi(this.state32),this.posOut=0,this.pos=0}update(t){Qt(this),t=$r(t),wt(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Qt(this,!1),wt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return yn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Nc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Uc(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const u0=(e,t,n)=>Mc(()=>new c0(t,e,n)),f0=u0(1,136,256/8);function Y(e,t){const n=t||"hex",r=f0(Ce(e,{strict:!1})?rn(e):e);return n==="bytes"?r:$e(r)}const d0=e=>Y(rn(e));function l0(e){return d0(e)}function h0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new A("Unable to normalize signature.");return s}const p0=e=>{const t=typeof e=="string"?e:mr(e);return h0(t)};function qc(e){return l0(p0(e))}const Br=qc;let ce=class extends A{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},sn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const rs=new sn(8192);function Dn(e,t){if(rs.has(`${e}.${t}`))return rs.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Y(ht(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return rs.set(`${e}.${t}`,o),o}function Xe(e,t){if(!Z(e,{strict:!1}))throw new ce({address:e});return Dn(e,t)}const b0=/^0x[a-fA-F0-9]{40}$/,ss=new sn(8192);function Z(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ss.has(r))return ss.get(r);const s=b0.test(e)?e.toLowerCase()===e?!0:n?Dn(e)===e:!0:!1;return ss.set(r,s),s}function J(e){return typeof e[0]=="string"?Ee(e):m0(e)}function m0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ee(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function vt(e,t,n,{strict:r}={}){return Ce(e,{strict:!1})?js(e,t,n,{strict:r}):Hc(e,t,n,{strict:r})}function Dc(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new Rc({offset:t,position:"start",size:H(e)})}function Gc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new Rc({offset:n,position:"end",size:H(e)})}function Hc(e,t,n,{strict:r}={}){Dc(e,t);const s=e.slice(t,n);return r&&Gc(s,t,n),s}function js(e,t,n,{strict:r}={}){Dc(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Gc(s,t,n),s}const y0=/^(.*)\[([0-9]*)\]$/,Vc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ko=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function rt(e,t){if(e.length!==t.length)throw new Cc({expectedLength:e.length,givenLength:t.length});const n=g0({params:e,values:t}),r=No(n);return r.length===0?"0x":r}function g0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Fo({param:e[r],value:t[r]}));return n}function Fo({param:e,value:t}){const n=Mo(e.type);if(n){const[r,s]=n;return v0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return S0(t,{param:e});if(e.type==="address")return w0(t);if(e.type==="bool")return E0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ko.exec(e.type)??[];return P0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return x0(t,{param:e});if(e.type==="string")return I0(t);throw new Il(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function No(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(B(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return J([...n,...r])}function w0(e){if(!Z(e))throw new ce({address:e});return{dynamic:!1,encoded:et(e.toLowerCase())}}function v0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Oc(e);if(!r&&e.length!==t)throw new yl({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Fo({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=No(o);if(r){const a=B(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?J([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:J(o.map(({encoded:i})=>i))}}function x0(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=et(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:J([et(B(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new gl({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:et(e,{dir:"right"})}}function E0(e){if(typeof e!="boolean")throw new A(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:et(Oo(e))}}function P0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new To({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:B(e,{size:32,signed:t})}}function I0(e){const t=gt(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(et(vt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:J([et(B(H(t),{size:32})),...r])}}function S0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Fo({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?No(r):J(r.map(({encoded:s})=>s))}}function Mo(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Gn=e=>vt(qc(e),0,4);function Rt(e){const{abi:t,args:n=[],name:r}=e,s=Ce(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Gn(a)===r:a.type==="event"?Br(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Ls(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Wc(a.inputs,i.inputs,n);if(u)throw new Pl({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Ls(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Z(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Ls(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ls(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Wc(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Wc(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Z(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Z(n[r],{strict:!1}):!1)return i}}const ea="/docs/contract/encodeEventTopics";function Hn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Rt({abi:t,name:n});if(!c)throw new Wi(n,{docsPath:ea});s=c}if(s.type!=="event")throw new Wi(void 0,{docsPath:ea});const o=Ae(s),i=Br(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>ta({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?ta({param:f,value:u[d]}):null)??[])}return[i,...a]}function ta({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Y(rn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new $l(e.type);return rt([e],[t])}function Tr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Kc(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Tr(e,{method:"eth_newFilter"}),f=o?Hn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?B(i):i,toBlock:typeof c=="bigint"?B(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function G(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const na="/docs/contract/encodeFunctionData";function A0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Rt({abi:t,args:n,name:r});if(!o)throw new Kt(r,{docsPath:na});s=o}if(s.type!=="function")throw new Kt(void 0,{docsPath:na});return{abi:[s],functionName:Gn(Ae(s))}}function fe(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:A0(e),s=n[0],o=r,i="inputs"in s&&s.inputs?rt(s.inputs,t??[]):void 0;return Ee([o,i??"0x"])}const C0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Qc={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},$0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let ra=class extends A{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Zc=class extends A{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},B0=class extends A{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const T0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new B0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Zc({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ra({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ra({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function _o(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(T0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function O0(e,t={}){typeof t.size<"u"&&xe(e,{size:t.size});const n=W(e,t);return pe(n,t)}function R0(e,t={}){let n=e;if(typeof t.size<"u"&&(xe(n,{size:t.size}),n=ie(n)),n.length>1||n[0]>1)throw new Tl(n);return!!n[0]}function De(e,t={}){typeof t.size<"u"&&xe(e,{size:t.size});const n=W(e,t);return we(n,t)}function k0(e,t={}){let n=e;return typeof t.size<"u"&&(xe(n,{size:t.size}),n=ie(n,{dir:"right"})),new TextDecoder().decode(n)}function Vn(e,t){const n=typeof t=="string"?Be(t):t,r=_o(n);if(H(n)===0&&e.length>0)throw new qn;if(H(t)&&H(t)<32)throw new Ac({data:typeof t=="string"?t:W(t),params:e,size:H(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Gt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Gt(e,t,{staticPosition:n}){const r=Mo(t.type);if(r){const[s,o]=r;return N0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return j0(e,t,{staticPosition:n});if(t.type==="address")return F0(e);if(t.type==="bool")return M0(e);if(t.type.startsWith("bytes"))return _0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return z0(e,t);if(t.type==="string")return L0(e,{staticPosition:n});throw new Sl(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const sa=32,Us=32;function F0(e){const t=e.readBytes(32);return[Dn(W(Hc(t,-20))),32]}function N0(e,t,{length:n,staticPosition:r}){if(!n){const i=De(e.readBytes(Us)),a=r+i,c=a+sa;e.setPosition(a);const u=De(e.readBytes(sa)),f=gn(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[p,b]=Gt(e,t,{staticPosition:c});d+=b,l.push(p)}return e.setPosition(r+32),[l,32]}if(gn(t)){const i=De(e.readBytes(Us)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Gt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Gt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function M0(e){return[R0(e.readBytes(32),{size:32}),32]}function _0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=De(e.readBytes(32));e.setPosition(n+i);const a=De(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[W(c),32]}return[W(e.readBytes(Number.parseInt(s,10),32)),32]}function z0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?O0(s,{signed:n}):De(s,{signed:n}),32]}function j0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(gn(t)){const i=De(e.readBytes(Us)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=Gt(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Gt(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function L0(e,{staticPosition:t}){const n=De(e.readBytes(32)),r=t+n;e.setPosition(r);const s=De(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=k0(ie(o));return e.setPosition(t+32),[i,32]}function gn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(gn);const n=Mo(e.type);return!!(n&&gn({...e,type:n[1]}))}function Yc(e){const{abi:t,data:n}=e,r=vt(n,0,4);if(r==="0x")throw new qn;const o=[...t||[],Qc,$0].find(i=>i.type==="error"&&r===Gn(Ae(i)));if(!o)throw new $c(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Vn(o.inputs,vt(n,4)):void 0,errorName:o.name}}const V=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Jc({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?V(t[o]):t[o]}`).join(", ")})`}const U0={gwei:9,wei:18},q0={ether:-9,wei:9},D0={ether:-18,gwei:-9};function Or(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function zo(e,t="wei"){return Or(e,U0[t])}function ae(e,t="wei"){return Or(e,q0[t])}class G0 extends A{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class H0 extends A{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function oa(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function V0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=oa(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=oa(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Wn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class W0 extends A{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class K0 extends A{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Wn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Q0 extends A{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Z0 extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Wn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${zo(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Xc extends A{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class eu extends A{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class tu extends A{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Y0 extends A{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const J0=e=>e,Kn=e=>e;class nu extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const p=n?G(n):void 0;let b=Wn({from:p?.address,to:d,value:typeof l<"u"&&`${zo(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});h&&(b+=`
${V0(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class jo extends A{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Rt({abi:n,args:r,name:i}),u=c?Jc({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ae(c,{includeName:!0}):void 0,d=Wn({address:s&&J0(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class qs extends A{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Yc({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=C0[h]}else{const h=f?Ae(f,{includeName:!0}):void 0,p=f&&l?Jc({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof $c&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class X0 extends A{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class eh extends A{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Rr extends A{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class pt extends A{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Kn(i)}`,t&&`Request body: ${V(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Lo extends A{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Kn(r)}`,`Request body: ${V(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class ia extends A{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Kn(n)}`,`Request body: ${V(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const th=-1;class de extends A{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Lo?t.code:n??th}}class le extends de{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class wn extends de{constructor(t){super(t,{code:wn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class vn extends de{constructor(t){super(t,{code:vn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class xn extends de{constructor(t,{method:n}={}){super(t,{code:xn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class En extends de{constructor(t){super(t,{code:En.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class xt extends de{constructor(t){super(t,{code:xt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class nt extends de{constructor(t){super(t,{code:nt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Pn extends de{constructor(t){super(t,{code:Pn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class tt extends de{constructor(t){super(t,{code:tt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class In extends de{constructor(t){super(t,{code:In.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class dt extends de{constructor(t,{method:n}={}){super(t,{code:dt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Yt extends de{constructor(t){super(t,{code:Yt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Sn extends de{constructor(t){super(t,{code:Sn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ee extends le{constructor(t){super(t,{code:ee.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class An extends le{constructor(t){super(t,{code:An.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Cn extends le{constructor(t,{method:n}={}){super(t,{code:Cn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class $n extends le{constructor(t){super(t,{code:$n.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Bn extends le{constructor(t){super(t,{code:Bn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Et extends le{constructor(t){super(t,{code:Et.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Jt extends le{constructor(t){super(t,{code:Jt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Tn extends le{constructor(t){super(t,{code:Tn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class On extends le{constructor(t){super(t,{code:On.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Rn extends le{constructor(t){super(t,{code:Rn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class kn extends le{constructor(t){super(t,{code:kn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Fn extends le{constructor(t){super(t,{code:Fn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xt extends le{constructor(t){super(t,{code:Xt.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Nn extends le{constructor(t){super(t,{code:Nn.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class nh extends de{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const rh=3;function Pt(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Rr?e:e instanceof A?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof qn?new X0({functionName:o}):[rh,xt.code].includes(c)&&(u||f||d||l)||c===nt.code&&f==="execution reverted"&&u?new qs({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Lo?f:l??d}):e;return new jo(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function sh(e){const t=Y(`0x${e.substring(4)}`).substring(26);return Dn(`0x${t}`)}async function oh({hash:e,signature:t}){const n=Ce(e)?e:$e(e),{secp256k1:r}=await dc(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Km);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),p=aa(h);return new r.Signature(pe(u),pe(f)).addRecoveryBit(p)}const i=Ce(t)?t:$e(t);if(H(i)!==65)throw new Error("invalid signature length");const a=we(`0x${i.slice(130)}`),c=aa(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function aa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ru({hash:e,signature:t}){return sh(await oh({hash:e,signature:t}))}function It(e,t="hex"){const n=su(e),r=_o(new Uint8Array(n.length));return n.encode(r),t==="hex"?W(r.bytes):r.bytes}function su(e){return Array.isArray(e)?ih(e.map(t=>su(t))):ah(e)}function ih(e){const t=e.reduce((s,o)=>s+o.length,0),n=ou(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function ah(e){const t=typeof e=="string"?Be(e):e,n=ou(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function ou(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new A("Length is too large.")}function ch(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Y(Ee(["0x05",It([t?B(t):"0x",s,n?B(n):"0x"])]));return r==="bytes"?Be(o):o}async function kr(e){const{authorization:t,signature:n}=e;return ru({hash:ch(t),signature:n??t})}class uh extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Wn({from:n?.address,to:d,value:typeof l<"u"&&`${zo(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ae(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ae(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ae(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ut extends A{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ut,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class St extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ae(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(St,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ds extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ae(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Gs extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Hs extends A{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Vs extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Vs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ws extends A{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ws,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Ks extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Qs extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Zs extends A{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Mn extends A{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ae(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ae(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Qn extends A{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Fr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof A?e.walk(s=>s?.code===Ut.code):e;return r instanceof A?new Ut({cause:e,message:r.details}):Ut.nodeMessage.test(n)?new Ut({cause:e,message:e.details}):St.nodeMessage.test(n)?new St({cause:e,maxFeePerGas:t?.maxFeePerGas}):Ds.nodeMessage.test(n)?new Ds({cause:e,maxFeePerGas:t?.maxFeePerGas}):Gs.nodeMessage.test(n)?new Gs({cause:e,nonce:t?.nonce}):Hs.nodeMessage.test(n)?new Hs({cause:e,nonce:t?.nonce}):Vs.nodeMessage.test(n)?new Vs({cause:e,nonce:t?.nonce}):Ws.nodeMessage.test(n)?new Ws({cause:e}):Ks.nodeMessage.test(n)?new Ks({cause:e,gas:t?.gas}):Qs.nodeMessage.test(n)?new Qs({cause:e,gas:t?.gas}):Zs.nodeMessage.test(n)?new Zs({cause:e}):Mn.nodeMessage.test(n)?new Mn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Qn({cause:e})}function fh(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Qn?e:s})();return new uh(r,{docsPath:t,...n})}function on(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Uo(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const dh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function st(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=lh(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>W(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=B(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=B(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=B(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=B(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=B(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=B(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=dh[e.type]),typeof e.value<"u"&&(n.value=B(e.value)),n}function lh(e){return e.map(t=>({address:t.address,r:t.r?B(BigInt(t.r)):t.r,s:t.s?B(BigInt(t.s)):t.s,chainId:B(t.chainId),nonce:B(t.nonce),...typeof t.yParity<"u"?{yParity:B(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:B(t.v)}:{}}))}function ca(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ki({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ki({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function hh(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=B(t)),n!==void 0&&(i.nonce=B(n)),r!==void 0&&(i.state=ca(r)),s!==void 0){if(i.state)throw new H0;i.stateDiff=ca(s)}return i}function qo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Z(n,{strict:!1}))throw new ce({address:n});if(t[n])throw new G0({address:n});t[n]=hh(r)}return t}const Nr=2n**256n-1n;function Qe(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?G(t):void 0;if(o&&!Z(o.address))throw new ce({address:o.address});if(s&&!Z(s))throw new ce({address:s});if(n&&n>Nr)throw new St({maxFeePerGas:n});if(r&&n&&r>n)throw new Mn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class iu extends A{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Do extends A{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ph extends A{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ae(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class au extends A{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const cu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Mr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?we(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?we(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?cu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=bh(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const B6=Uo("transaction",Mr);function bh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Go(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Mr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const T6=Uo("block",Go);async function Se(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?B(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new au({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Go)(a,"getBlock")}async function Ho(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function mh(e,t){return uu(e,t)}async function uu(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await M(e,Se,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return pe(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):M(e,Se,"getBlock")({}),M(e,Ho,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Do;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function yh(e,t){return Ys(e,t)}async function Ys(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new iu;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await M(e,Se,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Do;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await uu(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await M(e,Ho,"getGasPrice")({}))}}async function Vo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?B(r):n]},{dedupe:!!r});return we(s)}function Wo(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Be(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>W(o))}function Ko(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Be(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Be(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>W(i))}function gh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function wh(e,t,n){return e&t^~e&n}function vh(e,t,n){return e&t^e&n^t&n}class xh extends Ro{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ns(this.buffer)}update(t){Qt(this),t=$r(t),wt(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=ns(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qt(this),Nc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Zt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;gh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=ns(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Ye=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Je=new Uint32Array(64);class Ph extends xh{constructor(t=32){super(64,t,8,!1),this.A=Ye[0]|0,this.B=Ye[1]|0,this.C=Ye[2]|0,this.D=Ye[3]|0,this.E=Ye[4]|0,this.F=Ye[5]|0,this.G=Ye[6]|0,this.H=Ye[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Je[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Je[d-15],h=Je[d-2],p=ke(l,7)^ke(l,18)^l>>>3,b=ke(h,17)^ke(h,19)^h>>>10;Je[d]=b+Je[d-7]+p+Je[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=ke(a,6)^ke(a,11)^ke(a,25),h=f+l+wh(a,c,u)+Eh[d]+Je[d]|0,b=(ke(r,2)^ke(r,13)^ke(r,22))+vh(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Zt(Je)}destroy(){this.set(0,0,0,0,0,0,0,0),Zt(this.buffer)}}const fu=Mc(()=>new Ph),Ih=fu;function Sh(e,t){return Ih(Ce(e,{strict:!1})?rn(e):e)}function Ah(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Sh(t);return s.set([n],0),r==="bytes"?s:W(s)}function du(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Ah({commitment:o,to:r,version:n}));return s}const ua=6,lu=32,Qo=4096,hu=lu*Qo,fa=hu*ua-1-1*Qo*ua,pu=1;class Ch extends A{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class bu extends A{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class $h extends A{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Bh extends A{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${pu}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Th(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Be(e.data):e.data,r=H(n);if(!r)throw new bu;if(r>fa)throw new Ch({maxSize:fa,size:r});const s=[];let o=!0,i=0;for(;o;){const a=_o(new Uint8Array(hu));let c=0;for(;c<Qo;){const u=n.slice(i,i+(lu-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>W(a.bytes))}function mu(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Th({data:t,to:r}),o=e.commitments??Wo({blobs:s,kzg:n,to:r}),i=e.proofs??Ko({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function yu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new K0({transaction:e})}function _r(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Qn?e:s})();return new Z0(r,{docsPath:t,...n})}async function ot(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return we(t)}async function Zo(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,nonceManager:b,to:g,type:E,value:P,...v}=t,y=await(async()=>{if(!n||!b||typeof p<"u")return p;const I=G(n),C=o?o.id:await M(e,ot,"getChainId")({});return await b.consume({address:I.address,chainId:C,client:e})})();Qe(t);const m=o?.formatters?.transactionRequest?.format,x=(m||st)({...on(v,{format:m}),account:n?G(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:y,to:g,type:E,value:P},"fillTransaction");try{const I=await e.request({method:"eth_fillTransaction",params:[x]}),S=(o?.formatters?.transaction?.format||Mr)(I.tx);delete S.blockHash,delete S.blockNumber,delete S.r,delete S.s,delete S.transactionIndex,delete S.v,delete S.yParity,S.data=S.input,S.gas&&(S.gas=t.gas??S.gas),S.gasPrice&&(S.gasPrice=t.gasPrice??S.gasPrice),S.maxFeePerBlobGas&&(S.maxFeePerBlobGas=t.maxFeePerBlobGas??S.maxFeePerBlobGas),S.maxFeePerGas&&(S.maxFeePerGas=t.maxFeePerGas??S.maxFeePerGas),S.maxPriorityFeePerGas&&(S.maxPriorityFeePerGas=t.maxPriorityFeePerGas??S.maxPriorityFeePerGas),S.nonce&&(S.nonce=t.nonce??S.nonce);const $=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const O=await M(e,Se,"getBlock")({});return o.fees.baseFeeMultiplier({block:O,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if($<1)throw new iu;const F=10**($.toString().split(".")[1]?.length??0),z=O=>O*BigInt(Math.ceil($*F))/BigInt(F);return S.maxFeePerGas&&!t.maxFeePerGas&&(S.maxFeePerGas=z(S.maxFeePerGas)),S.gasPrice&&!t.gasPrice&&(S.gasPrice=z(S.gasPrice)),{raw:I.raw,transaction:{from:x.from,...S}}}catch(I){throw _r(I,{...t,chain:e.chain})}}const Yo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],da=new Map,os=new sn(128);async function Zn(e,t){let n=t;n.account??=e.account,n.parameters??=Yo;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await M(e,ot,"getChainId")({}),c))}const f=r&&G(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const y=await u();d=await o.consume({address:f.address,chainId:y,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||os.get(e.uid)===!1||!["fees","gas"].some(m=>i.includes(m))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await M(e,Zo,"fillTransaction")({...n,nonce:d}).then(y=>{const{chainId:m,from:w,gas:x,gasPrice:I,nonce:C,maxFeePerBlobGas:S,maxFeePerGas:$,maxPriorityFeePerGas:k,type:F,...z}=y.transaction;return os.set(e.uid,!0),{...n,...w?{from:w}:{},...F?{type:F}:{},...typeof m<"u"?{chainId:m}:{},...typeof x<"u"?{gas:x}:{},...typeof I<"u"?{gasPrice:I}:{},...typeof C<"u"?{nonce:C}:{},...typeof S<"u"?{maxFeePerBlobGas:S}:{},...typeof $<"u"?{maxFeePerGas:$}:{},...typeof k<"u"?{maxPriorityFeePerGas:k}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(y=>{const m=y;return m.name!=="TransactionExecutionError"||m.walk?.(x=>{const I=x;return I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"})&&os.set(e.uid,!1),n}):n;d??=h.nonce,n={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:b,kzg:g,type:E}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let P;async function v(){return P||(P=await M(e,Se,"getBlock")({blockTag:"latest"}),P)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await M(e,Vo,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&g){const y=Wo({blobs:p,kzg:g});if(i.includes("blobVersionedHashes")){const m=du({commitments:y,to:"hex"});n.blobVersionedHashes=m}if(i.includes("sidecars")){const m=Ko({blobs:p,commitments:y,kzg:g}),w=mu({blobs:p,commitments:y,proofs:m,to:"hex"});n.sidecars=w}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{n.type=yu(n)}catch{let y=da.get(e.uid);typeof y>"u"&&(y=typeof(await v())?.baseFeePerGas=="bigint",da.set(e.uid,y)),n.type=y?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const y=await v(),{maxFeePerGas:m,maxPriorityFeePerGas:w}=await Ys(e,{block:y,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<w)throw new ph({maxPriorityFeePerGas:w});n.maxPriorityFeePerGas=w,n.maxFeePerGas=m}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Do;if(typeof n.gasPrice>"u"){const y=await v(),{gasPrice:m}=await Ys(e,{block:y,chain:s,request:n,type:"legacy"});n.gasPrice=m}}return i.includes("gas")&&typeof b>"u"&&(n.gas=await M(e,Jo,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),Qe(n),delete n.parameters,n}async function Jo(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?G(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await kr({authorization:t.authorizationList[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,value:y,stateOverride:m,...w}=r?await Zn(e,{...t,parameters:o,to:i}):t;if(p&&t.gas!==p)return p;const I=(typeof d=="bigint"?B(d):void 0)||l,C=qo(m);Qe(t);const S=e.chain?.formatters?.transactionRequest?.format,k=(S||st)({...on(w,{format:S}),account:s,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:i,value:y},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:C?[k,I??e.experimental_blockTag??"latest",C]:I?[k,I]:[k]}))}catch(i){throw fh(i,{...t,account:s,chain:e.chain})}}async function Oh(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=fe({abi:n,args:s,functionName:o});try{return await M(e,Jo,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?G(a.account):void 0;throw Pt(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function an(e,t){if(!Z(e,{strict:!1}))throw new ce({address:e});if(!Z(t,{strict:!1}))throw new ce({address:t});return e.toLowerCase()===t.toLowerCase()}const la="/docs/contract/decodeEventLog";function gr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new vl({docsPath:la});const c=t.find(E=>E.type==="event"&&i===Br(Ae(E)));if(!(c&&"name"in c)||c.type!=="event")throw new xl(i,{docsPath:la});const{name:u,inputs:f}=c,d=f?.some(E=>!("name"in E&&E.name)),l=d?[]:{},h=f.map((E,P)=>[E,P]).filter(([E])=>"indexed"in E&&E.indexed),p=[];for(let E=0;E<h.length;E++){const[P,v]=h[E],y=a[E];if(!y){if(o)throw new Bo({abiItem:c,param:P});p.push([P,v]);continue}l[d?v:P.name||v]=Rh({param:P,value:y})}const b=f.filter(E=>!("indexed"in E&&E.indexed)),g=o?b:[...p.map(([E])=>E),...b];if(g.length>0){if(n&&n!=="0x")try{const E=Vn(g,n);if(E){let P=0;if(!o)for(const[v,y]of p)l[d?y:v.name||y]=E[P++];if(d)for(let v=0;v<f.length;v++)l[v]===void 0&&P<E.length&&(l[v]=E[P++]);else for(let v=0;v<b.length;v++)l[b[v].name]=E[P++]}}catch(E){if(o)throw E instanceof Ac||E instanceof Zc?new yr({abiItem:c,data:n,params:g,size:H(n)}):E}else if(o)throw new yr({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Rh({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Vn([e],t)||[])[0]}function Xo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Br(a)}));return r.map(a=>{const c=i.filter(d=>a.topics[0]===d.selector);if(c.length===0)return null;let u,f;for(const d of c)try{u=gr({...a,abi:[d.abi],strict:!0}),f=d;break}catch{}if(!u&&!s){f=c[0];try{u=gr({data:a.data,topics:a.topics,abi:[f.abi],strict:!1})}catch{const d=f.abi.inputs?.some(l=>!("name"in l&&l.name));return{...a,args:d?[]:{},eventName:f.abi.name}}}return!u||!f||o&&!o.includes(u.eventName)||!kh({args:u.args,inputs:f.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function kh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?an(i,a):o.type==="string"||o.type==="bytes"?Y(rn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Ve(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function ei(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(b=>Hn({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?B(r):r,toBlock:typeof s=="bigint"?B(s):s}]});const h=l.map(p=>Ve(p));return f?Xo({abi:f,args:a,logs:h,strict:u}):h}async function gu(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Rt({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return M(e,ei,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const is="/docs/contract/decodeFunctionResult";function it(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Rt({abi:t,args:n,name:r});if(!a)throw new Kt(r,{docsPath:is});o=a}if(o.type!=="function")throw new Kt(void 0,{docsPath:is});if(!o.outputs)throw new Bc(o.name,{docsPath:is});const i=Vn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Fh="0.1.1";function Nh(){return Fh}let L=class je extends Error{static setStaticOptions(t){je.prototype.docsOrigin=t.docsOrigin,je.prototype.showVersion=t.showVersion,je.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof je){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof je&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??je.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??je.prototype.showVersion),c=n.version??je.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return wu(this,t)}};Object.defineProperty(L,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Nh()}`}});L.setStaticOptions(L.defaultStaticOptions);function wu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?wu(e.cause,t):t?null:e}function Yn(e,t){if(qt(e)>t)throw new Jh({givenSize:qt(e),maxSize:t})}const _e={zero:48,nine:57,A:65,F:70,a:97,f:102};function ha(e){if(e>=_e.zero&&e<=_e.nine)return e-_e.zero;if(e>=_e.A&&e<=_e.F)return e-(_e.A-10);if(e>=_e.a&&e<=_e.f)return e-(_e.a-10)}function Mh(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Xh({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function vu(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function zr(e,t){if(be(e)>t)throw new op({givenSize:be(e),maxSize:t})}function _h(e,t){if(typeof t=="number"&&t>0&&t>be(e)-1)throw new Bu({offset:t,position:"start",size:be(e)})}function zh(e,t,n){if(typeof t=="number"&&typeof n=="number"&&be(e)!==n-t)throw new Bu({offset:n,position:"end",size:be(e)})}function xu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new ip({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const jh="#__bigint";function Eu(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+jh:s,n)}const Lh=new TextDecoder,Uh=new TextEncoder;function qh(e){return e instanceof Uint8Array?e:typeof e=="string"?Pu(e):Dh(e)}function Dh(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Pu(e,t={}){const{size:n}=t;let r=e;n&&(zr(e,n),r=Ct(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=ha(s.charCodeAt(c++)),f=ha(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|f}return i}function Gh(e,t={}){const{size:n}=t,r=Uh.encode(e);return typeof n=="number"?(Yn(r,n),Hh(r,n)):r}function Hh(e,t){return Mh(e,{dir:"right",size:t})}function qt(e){return e.length}function Vh(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Wh(e,t={}){const{size:n}=t;typeof n<"u"&&Yn(e,n);const r=Oe(e,t);return Au(r,t)}function Kh(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Yn(r,n),r=Iu(r)),r.length>1||r[0]>1)throw new Yh(r);return!!r[0]}function Ge(e,t={}){const{size:n}=t;typeof n<"u"&&Yn(e,n);const r=Oe(e,t);return Cu(r,t)}function Qh(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Yn(r,n),r=Zh(r)),Lh.decode(r)}function Iu(e){return vu(e,{dir:"left"})}function Zh(e){return vu(e,{dir:"right"})}class Yh extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Jh=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Xh=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ep=new TextEncoder,tp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function np(e,t={}){const{strict:n=!1}=t;if(!e)throw new pa(e);if(typeof e!="string")throw new pa(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ba(e);if(!e.startsWith("0x"))throw new ba(e)}function Te(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function rp(e){return e instanceof Uint8Array?Oe(e):Array.isArray(e)?Oe(new Uint8Array(e)):e}function Su(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(zr(n,t.size),At(n,t.size)):n}function Oe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=tp[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(zr(r,t.size),Ct(r,t.size)):r}function te(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new $u({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?At(c,r):c}function ti(e,t={}){return Oe(ep.encode(e),t)}function At(e,t){return xu(e,{dir:"left",size:t})}function Ct(e,t){return xu(e,{dir:"right",size:t})}function Ne(e,t,n,r={}){const{strict:s}=r;_h(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&zh(o,t,n),o}function be(e){return Math.ceil((e.length-2)/2)}function Au(e,t={}){const{signed:n}=t;t.size&&zr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Cu(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Au(e,t))}function sp(e,t={}){const{strict:n=!1}=t;try{return np(e,{strict:n}),!0}catch{return!1}}class $u extends L{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class pa extends L{constructor(t){super(`Value \`${typeof t=="object"?Eu(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ba extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class op extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Bu extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class ip extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function ap(e){return{address:e.address,amount:te(e.amount),index:te(e.index),validatorIndex:te(e.validatorIndex)}}function Tu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:te(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:te(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:te(e.gasLimit)},...typeof e.number=="bigint"&&{number:te(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:te(e.prevRandao)},...typeof e.time=="bigint"&&{time:te(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(ap)}}}const en=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Js=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Ou=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Ru=[...Ou,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],cp=[...Ou,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ma=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ya=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ku=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ga=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],up="0x82ad56cb",Fu="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",fp="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",dp="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ni="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Xs extends A{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class lp extends A{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class hp extends A{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Nu extends A{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class jr extends A{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const as="/docs/contract/encodeDeployData";function Lr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ml({docsPath:as});if(!("inputs"in s))throw new Hi({docsPath:as});if(!s.inputs||s.inputs.length===0)throw new Hi({docsPath:as});const o=rt(s.inputs,n);return Ee([r,o])}function cn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Xs({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Xs({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Mu(e,{docsPath:t,...n}){const r=(()=>{const s=Fr(e,n);return s instanceof Qn?e:s})();return new nu(r,{docsPath:t,...n})}function ri(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const cs=new Map;function _u({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:p}=f[h];p?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:p}=f[h];p?.(l)}})},i=()=>cs.delete(t),a=()=>c().map(({args:f})=>f),c=()=>cs.get(t)||[],u=f=>cs.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=ri();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}async function kt(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:y,value:m,stateOverride:w,...x}=t,I=n?G(n):void 0;if(f&&(l||h))throw new A("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new A("Cannot provide both `code` & `to` as parameters.");const C=f&&d,S=l&&h&&y&&d,$=C||S,k=C?zu({code:f,data:d}):S?mp({data:d,factory:l,factoryData:h,to:y}):d;try{Qe(t);const z=(typeof o=="bigint"?B(o):void 0)||i,O=u?Tu(u):void 0,T=qo(w),N=e.chain?.formatters?.transactionRequest?.format,_=(N||st)({...on(x,{format:N}),accessList:a,account:I,authorizationList:r,blobs:c,data:k,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:$?void 0:y,value:m},"call");if(s&&pp({request:_})&&!T&&!O)try{return await bp(e,{..._,blockNumber:o,blockTag:i})}catch(D){if(!(D instanceof Nu)&&!(D instanceof Xs))throw D}const j=(()=>{const D=[_,z];return T&&O?[...D,T,O]:T?[...D,T]:O?[...D,{},O]:D})(),U=await e.request({method:"eth_call",params:j});return U==="0x"?{data:void 0}:{data:U}}catch(F){const z=yp(F),{offchainLookup:O,offchainLookupSignature:T}=await dc(async()=>{const{offchainLookup:N,offchainLookupSignature:R}=await Promise.resolve().then(()=>Pb);return{offchainLookup:N,offchainLookupSignature:R}},void 0);if(e.ccipRead!==!1&&z?.slice(0,10)===T&&y)return{data:await O(e,{data:z,to:y})};throw $&&z?.slice(0,10)==="0x101bb98d"?new eh({factory:l}):Mu(F,{...t,account:I,chain:e.chain})}}function pp({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(up)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function bp(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return cn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Nu})(),d=(typeof o=="bigint"?B(o):void 0)||i,{schedule:l}=_u({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(b){return b.reduce((E,{data:P})=>E+(P.length-2),0)>n*2},fn:async b=>{const g=b.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),E=fe({abi:en,args:[g],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...u===null?{data:zu({code:ni,data:E})}:{to:u,data:E}},d]});return it({abi:en,args:[g],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:h,success:p}]=await l({data:a,to:c});if(!p)throw new Rr({data:h});return h==="0x"?{data:void 0}:{data:h}}function zu(e){const{code:t,data:n}=e;return Lr({abi:Pc(["constructor(bytes, bytes)"]),bytecode:Fu,args:[t,n]})}function mp(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Lr({abi:Pc(["constructor(address, bytes, address, bytes)"]),bytecode:fp,args:[s,t,n,r]})}function yp(e){if(!(e instanceof A))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function ve(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=fe({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,kt,"call")({...i,data:a,to:r});return it({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Pt(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function gp(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=a.account?G(a.account):e.account,u=fe({abi:n,args:s,functionName:o});try{const{data:f}=await M(e,kt,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=it({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw Pt(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const us=new Map,wa=new Map;let wp=0;function We(e,t,n){const r=++wp,s=()=>us.get(e)||[],o=()=>{const f=s();us.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=wa.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(us.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&wa.set(e,u),i}async function eo(e){return new Promise(t=>setTimeout(t,e))}function un(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await eo(c);const u=async()=>{s&&(await e({unpoll:o}),await eo(r),u())};u()})(),o}const vp=new Map,xp=new Map;function Ep(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,vp),r=t(e,xp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Pp(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ep(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Ip=e=>`blockNumber.${e}`;async function Jn(e,{cacheTime:t=e.cacheTime}={}){const n=await Pp(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ip(e.uid),cacheTime:t});return BigInt(n)}async function Ur(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ve(o));return!("abi"in t)||!t.abi?s:Xo({abi:t.abi,logs:s,strict:n})}async function qr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Sp(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,E=V(["watchContractEvent",r,s,o,e.uid,i,d,g,a]);return We(E,{onLogs:u,onError:c},P=>{let v;a!==void 0&&(v=a-1n);let y,m=!1;const w=un(async()=>{if(!m){try{y=await M(e,Kc,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:a})}catch{}m=!0;return}try{let x;if(y)x=await M(e,Ur,"getFilterChanges")({filter:y});else{const I=await M(e,Jn,"getBlockNumber")({});v&&v<I?x=await M(e,gu,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:I,strict:g}):x=[],v=I}if(x.length===0)return;if(o)P.onLogs(x);else for(const I of x)P.onLogs([I])}catch(x){y&&x instanceof nt&&(m=!1),P.onError?.(x)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await M(e,qr,"uninstallFilter")({filter:y}),w()}})})():(()=>{const g=l??!1,E=V(["watchContractEvent",r,s,o,e.uid,i,d,g]);let P=!0,v=()=>P=!1;return We(E,{onLogs:u,onError:c},y=>((async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),w=i?Hn({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await m.subscribe({params:["logs",{address:r,topics:w}],onData(I){if(!P)return;const C=I.result;try{const{eventName:S,args:$}=gr({abi:n,data:C.data,topics:C.topics,strict:l}),k=Ve(C,{args:$,eventName:S});y.onLogs([k])}catch(S){let $,k;if(S instanceof yr||S instanceof Bo){if(l)return;$=S.abiItem.name,k=S.abiItem.inputs?.some(z=>!("name"in z&&z.name))}const F=Ve(C,{args:k?[]:{},eventName:$});y.onLogs([F])}},onError(I){y.onError?.(I)}});v=x,P||v()}catch(m){c?.(m)}})(),()=>v()))})()}class at extends A{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class bt extends A{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function si({chain:e,currentChainId:t}){if(!e)throw new hp;if(t!==e.id)throw new lp({chain:e,currentChainId:t})}async function oi(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const fs=new sn(128);async function Dr(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,type:g,value:E,...P}=t;if(typeof n>"u")throw new at({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?G(n):null;try{Qe(t);const y=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await kr({authorization:i[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`.")})})();if(v?.type==="json-rpc"||v===null){let m;s!==null&&(m=await M(e,ot,"getChainId")({}),r&&si({currentChainId:m,chain:s}));const w=e.chain?.formatters?.transactionRequest?.format,I=(w||st)({...on(P,{format:w}),accessList:o,account:v,authorizationList:i,blobs:a,chainId:m,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:y,type:g,value:E},"sendTransaction"),C=fs.get(e.uid),S=C?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:S,params:[I]},{retryCount:0})}catch($){if(C===!1)throw $;const k=$;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(F=>(fs.set(e.uid,!0),F)).catch(F=>{const z=F;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(fs.set(e.uid,!1),k):z});throw k}}if(v?.type==="local"){const m=await M(e,Zn,"prepareTransactionRequest")({account:v,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:v.nonceManager,parameters:[...Yo,"sidecars"],type:g,value:E,...P,to:y}),w=s?.serializers?.transaction,x=await v.signTransaction(m,{serializer:w});return await M(e,oi,"sendRawTransaction")({serializedTransaction:x})}throw v?.type==="smart"?new bt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new bt({docsPath:"/docs/actions/wallet/sendTransaction",type:v?.type})}catch(y){throw y instanceof bt?y:_r(y,{...t,account:v,chain:t.chain||void 0})}}async function tn(e,t){return tn.internal(e,Dr,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:f,...d}=o;if(typeof a>"u")throw new at({docsPath:"/docs/contract/writeContract"});const l=a?G(a):null,h=fe({abi:i,args:u,functionName:f});try{return await M(n,r,s)({data:h,to:c,account:l,...d})}catch(p){throw Pt(p,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:l?.address})}}e.internal=t})(tn||(tn={}));class Ap extends A{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function _n(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await eo(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const ju={"0x0":"reverted","0x1":"success"};function ii(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ve(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?we(e.transactionIndex):null,status:e.status?ju[e.status]:null,type:e.type?cu[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const k6=Uo("transactionReceipt",ii),Lu="0x5792579257925792579257925792579257925792579257925792579257925792",Uu=B(0,{size:32});async function qu(e,t){const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?G(n):null;let f=t.capabilities;e.dataSuffix&&!t.capabilities?.dataSuffix&&(typeof e.dataSuffix=="string"?f={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:f={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const d=t.calls.map(l=>{const h=l,p=h.abi?fe({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&p?J([p,h.dataSuffix]):p,to:h.to,value:h.value?B(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:d,capabilities:f,chainId:B(r.id),from:u?.address,id:a,version:c}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(s&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(f&&Object.values(f).some(P=>!P.optional)){const P="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Jt(new A(P,{details:P}))}if(i&&d.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Xt(new A(E,{details:E}))}const p=[];for(const E of d){const P=Dr(e,{account:u,chain:r,data:E.data,to:E.to,value:E.value?pe(E.value):void 0});p.push(P),o>0&&await new Promise(v=>setTimeout(v,o))}const b=await Promise.allSettled(p);if(b.every(E=>E.status==="rejected"))throw b[0].reason;const g=b.map(E=>E.status==="fulfilled"?E.value:Uu);return{id:J([...g,B(r.id,{size:32}),Lu])}}throw _r(l,{...t,account:u,chain:t.chain})}}async function Du(e,t){async function n(f){if(f.endsWith(Lu.slice(2))){const l=ie(js(f,-64,-32)),h=js(f,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(g=>Uu.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),b=p.some(g=>g===null)?100:p.every(g=>g?.status==="0x1")?200:p.every(g=>g?.status==="0x0")?500:600;return{atomic:!1,chainId:we(l),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?we(s):void 0,receipts:o?.map(f=>({...f,blockNumber:pe(f.blockNumber),gasUsed:pe(f.gasUsed),status:ju[f.status]}))??[],statusCode:u,status:c,version:i}}async function Gu(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=V(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=ri();let h;const p=We(u,{resolve:d,reject:l},b=>{const g=un(async()=>{const E=P=>{clearTimeout(h),g(),P(),p()};try{const P=await _n(async()=>{const v=await M(e,Du,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new Ap(v);return v},{retryCount:o,delay:i});if(!s(P))return;E(()=>b.resolve(P))}catch(P){E(()=>b.reject(P))}},{interval:r,emitOnBegin:!0});return g});return h=a?setTimeout(()=>{p(),clearTimeout(h),l(new Cp({id:n}))},a):void 0,await f}class Cp extends A{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const to=256;let sr=to,or;function Hu(e=11){if(!or||sr+e>to*2){or="",sr=0;for(let t=0;t<to;t++)or+=(256+Math.random()*256|0).toString(16).substring(1)}return or.substring(sr,sr+++e)}function ai(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??f,l=e.cacheTime??d,h=e.account?G(e.account):void 0,{config:p,request:b,value:g}=e.transport({account:h,chain:n,pollingInterval:d}),E={...p,...g},P={account:h,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:d,request:b,transport:E,type:a,uid:Hu(),...c?{experimental_blockTag:c}:{}};function v(y){return m=>{const w=m(y);for(const I in P)delete w[I];const x={...y,...w};return Object.assign(x,{extend:v(x)})}}return Object.assign(P,{extend:v(P)})}function ci(e){if(!(e instanceof A))return!1;const t=e.walk(n=>n instanceof qs);return t instanceof qs?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function $p(e){const{abi:t,data:n}=e,r=vt(n,0,4),s=t.find(o=>o.type==="function"&&r===Gn(Ae(o)));if(!s)throw new El(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Vn(s.inputs,vt(n,4)):void 0}}const ds="/docs/contract/encodeErrorResult";function va(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Rt({abi:t,args:r,name:n});if(!c)throw new Vi(n,{docsPath:ds});s=c}if(s.type!=="error")throw new Vi(void 0,{docsPath:ds});const o=Ae(s),i=Gn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new wl(s.name,{docsPath:ds});a=rt(s.inputs,r)}return Ee([i,a])}const ls="/docs/contract/encodeFunctionResult";function Bp(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Rt({abi:t,name:n});if(!i)throw new Kt(n,{docsPath:ls});s=i}if(s.type!=="function")throw new Kt(void 0,{docsPath:ls});if(!s.outputs)throw new Bc(s.name,{docsPath:ls});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Oc(r)})();return rt(s.outputs,o)}const Xn="x-batch-gateway:true";async function Vu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=$p({abi:Js,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Xn)?await Vu({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Tp(c)}})),Bp({abi:Js,functionName:"query",result:[s,o]})}function Tp(e){return e.name==="HttpRequestError"&&e.status?va({abi:Js,errorName:"HttpError",args:[e.status,e.shortMessage]}):va({abi:[Qc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Wu(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ce(t)?t:null}function no(e){let t=new Uint8Array(32).fill(0);if(!e)return W(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Wu(n[r]),o=s?rn(s):Y(ht(n[r]),"bytes");t=Y(J([t,o]),"bytes")}return W(t)}function Op(e){return`[${e.slice(2)}]`}function Rp(e){const t=new Uint8Array(32).fill(0);return e?Wu(e)||Y(ht(e)):W(t)}function ui(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ht(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=ht(s[o]);i.byteLength>255&&(i=ht(Op(Rp(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function kp(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[no(o),BigInt(s)]:[no(o)];try{const l=fe({abi:ya,functionName:"addr",args:d}),h={address:u,abi:Ru,functionName:"resolveWithGateways",args:[$e(ui(o)),l,i??[Xn]],blockNumber:n,blockTag:r},b=await M(e,ve,"readContract")(h);if(b[0]==="0x")return null;const g=it({abi:ya,args:d,functionName:"addr",data:b[0]});return g==="0x"||ie(g)==="0x00"?null:g}catch(l){if(a)throw l;if(ci(l))return null;throw l}}class Fp extends A{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class bn extends A{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class fi extends A{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Np extends A{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Mp=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,_p=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,zp=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,jp=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Lp(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function xa(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ku({uri:e,gatewayUrls:t}){const n=zp.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=xa(t?.ipfs,"https://ipfs.io"),s=xa(t?.arweave,"https://arweave.net"),o=e.match(Mp),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||_p.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(jp,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new fi({uri:e})}function Qu(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Fp({data:e});return e.image||e.image_url||e.image_data}async function Up({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await di({gatewayUrls:e,uri:Qu(n)})}catch{throw new fi({uri:t})}}async function di({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ku({uri:t,gatewayUrls:e});if(r||await Lp(n))return n;throw new fi({uri:t})}function qp(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new bn({reason:"Only EIP-155 supported"});if(!i)throw new bn({reason:"Chain ID not found"});if(!c)throw new bn({reason:"Contract address not found"});if(!s)throw new bn({reason:"Token ID not found"});if(!a)throw new bn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function Dp(e,{nft:t}){if(t.namespace==="erc721")return ve(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ve(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Np({namespace:t.namespace})}async function Gp(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Hp(e,{gatewayUrls:t,record:n}):di({uri:n,gatewayUrls:t})}async function Hp(e,{gatewayUrls:t,record:n}){const r=qp(n),s=await Dp(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Ku({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return di({uri:Qu(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Up({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Zu(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Ru,args:[$e(ui(o)),fe({abi:ma,functionName:"text",args:[no(o),s]}),i??[Xn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await M(e,ve,"readContract")(d);if(h[0]==="0x")return null;const p=it({abi:ma,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(ci(d))return null;throw d}}async function Vp(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,Zu,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Gp(e,{record:c,gatewayUrls:r})}catch{return null}}async function Wp(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:cp,args:[n,o,i??[Xn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=M(e,ve,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(ci(f))return null;throw f}}async function Kp(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,ve,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$e(ui(s))],blockNumber:n,blockTag:r});return c}async function Yu(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...p}=t,b=n?G(n):void 0;try{Qe(t);const E=(typeof r=="bigint"?B(r):void 0)||s,P=e.chain?.formatters?.transactionRequest?.format,y=(P||st)({...on(p,{format:P}),account:b,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),m=await e.request({method:"eth_createAccessList",params:[y,E]});return{accessList:m.accessList,gasUsed:BigInt(m.gasUsed)}}catch(g){throw Mu(g,{...t,account:b,chain:e.chain})}}async function Qp(e){const t=Tr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ju(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Tr(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Hn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?B(o):o,toBlock:typeof a=="bigint"?B(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Xu(e){const t=Tr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ef(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){if(e.batch?.multicall&&e.chain?.contracts?.multicall3){const i=e.chain.contracts.multicall3.address,a=fe({abi:en,functionName:"getEthBalance",args:[t]}),{data:c}=await M(e,kt,"call")({to:i,data:a,blockNumber:n,blockTag:r});return it({abi:en,functionName:"getEthBalance",args:[t],data:c||"0x"})}const s=typeof n=="bigint"?B(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Zp(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Yp(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?B(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),we(o)}async function ro(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?B(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Jp extends A{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Xp(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await M(e,ve,"readContract")({abi:eb,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Jp({address:n}):i}}const eb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function tb(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function nb(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?B(n):void 0,i=await e.request({method:"eth_feeHistory",params:[B(t),o||r,s]},{dedupe:!!o});return tb(i)}async function rb(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ve(o));return t.abi?Xo({abi:t.abi,logs:s,strict:n}):s}function F6(e,t){if(e.length!==t.length)throw new Cc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(tf(s,o))}return Ee(n)}function tf(e,t,n=!1){if(e==="address"){const i=t;if(!Z(i))throw new ce({address:i});return qe(i.toLowerCase(),{size:n?32:null})}if(e==="string")return gt(t);if(e==="bytes")return t;if(e==="bool")return qe(Oo(t),{size:n?32:1});const r=e.match(ko);if(r){const[i,a,c="256"]=r,u=Number.parseInt(c,10)/8;return B(t,{size:n?32:u,signed:a==="int"})}const s=e.match(Vc);if(s){const[i,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Tc({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return qe(t,{dir:"right",size:n?32:null})}const o=e.match(y0);if(o&&Array.isArray(t)){const[i,a]=o,c=[];for(let u=0;u<t.length;u++)c.push(tf(a,t[u],!0));return c.length===0?"0x":Ee(c)}throw new Cl(e)}function sb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!Z(s))throw new ce({address:s});if(r<0)throw new jr({chainId:r})}li(e)}function ob(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new bu;for(const n of t){const r=H(n),s=we(vt(n,0,1));if(r!==32)throw new $h({hash:n,size:r});if(s!==pu)throw new Bh({hash:n,version:s})}}li(e)}function li(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new jr({chainId:t});if(s&&!Z(s))throw new ce({address:s});if(r&&r>Nr)throw new St({maxFeePerGas:r});if(n&&r&&n>r)throw new Mn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function ib(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new jr({chainId:t});if(o&&!Z(o))throw new ce({address:o});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Nr)throw new St({maxFeePerGas:r})}function ab(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!Z(o))throw new ce({address:o});if(typeof t<"u"&&t<=0)throw new jr({chainId:t});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Nr)throw new St({maxFeePerGas:r})}function Gr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Q0({storageKey:s[o]});if(!Z(r,{strict:!1}))throw new ce({address:r});t.push([r,s])}return t}function N6(e,t){const n=yu(e);return n==="eip1559"?fb(e,t):n==="eip2930"?db(e,t):n==="eip4844"?ub(e,t):n==="eip7702"?cb(e,t):lb(e,t)}function cb(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;sb(e);const l=Gr(f),h=hb(n);return Ee(["0x04",It([B(r),o?B(o):"0x",u?B(u):"0x",c?B(c):"0x",s?B(s):"0x",i??"0x",a?B(a):"0x",d??"0x",l,h,...er(e,t)])])}function ub(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;ob(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(w=>W(w)),y=e.kzg,m=Wo({blobs:v,kzg:y});if(typeof l>"u"&&(l=du({commitments:m})),typeof h>"u"){const w=Ko({blobs:v,commitments:m,kzg:y});h=mu({blobs:v,commitments:m,proofs:w})}}const p=Gr(f),b=[B(n),s?B(s):"0x",u?B(u):"0x",c?B(c):"0x",r?B(r):"0x",o??"0x",i?B(i):"0x",d??"0x",p,a?B(a):"0x",l??[],...er(e,t)],g=[],E=[],P=[];if(h)for(let v=0;v<h.length;v++){const{blob:y,commitment:m,proof:w}=h[v];g.push(y),E.push(m),P.push(w)}return Ee(["0x03",It(h?[b,g,E,P]:b)])}function fb(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;li(e);const d=Gr(u),l=[B(n),s?B(s):"0x",c?B(c):"0x",a?B(a):"0x",r?B(r):"0x",o??"0x",i?B(i):"0x",f??"0x",d,...er(e,t)];return Ee(["0x02",It(l)])}function db(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;ib(e);const f=Gr(c),d=[B(n),o?B(o):"0x",u?B(u):"0x",r?B(r):"0x",i??"0x",a?B(a):"0x",s??"0x",f,...er(e,t)];return Ee(["0x01",It(d)])}function lb(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;ab(e);let u=[o?B(o):"0x",c?B(c):"0x",r?B(r):"0x",i??"0x",a?B(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new W0({v:t.v});return h})(),d=ie(t.r),l=ie(t.s);u=[...u,B(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,B(n),"0x","0x"]);return It(u)}function er(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=ie(n.r),i=ie(n.s);return[typeof s=="number"?s?B(1):"0x":r===0n?"0x":r===1n?B(1):r===27n?"0x":B(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function hb(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?$e(r):"0x",i,s?$e(s):"0x",...er({},o)])}return t}async function pb({address:e,authorization:t,signature:n}){return an(Xe(e),await kr({authorization:t,signature:n}))}const ir=new sn(8192);function bb(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ir.get(n))return ir.get(n);const r=e().finally(()=>ir.delete(n));return ir.set(n,r),r}function mb(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new dt(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new dt(new Error("method not supported"),{method:u});const f=s?gt(`${c}.${V(n)}`):void 0;return bb(()=>_n(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case wn.code:throw new wn(l);case vn.code:throw new vn(l);case xn.code:throw new xn(l,{method:n.method});case En.code:throw new En(l);case xt.code:throw new xt(l);case nt.code:throw new nt(l);case Pn.code:throw new Pn(l);case tt.code:throw new tt(l);case In.code:throw new In(l);case dt.code:throw new dt(l,{method:n.method});case Yt.code:throw new Yt(l);case Sn.code:throw new Sn(l);case ee.code:throw new ee(l);case An.code:throw new An(l);case Cn.code:throw new Cn(l);case $n.code:throw new $n(l);case Bn.code:throw new Bn(l);case Et.code:throw new Et(l);case Jt.code:throw new Jt(l);case Tn.code:throw new Tn(l);case On.code:throw new On(l);case Rn.code:throw new Rn(l);case kn.code:throw new kn(l);case Fn.code:throw new Fn(l);case Xt.code:throw new Xt(l);case 5e3:throw new ee(l);case Nn.code:throw new Nn(l);default:throw d instanceof A?d:new nh(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof pt){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>yb(d)}),{enabled:s,id:f})}}function yb(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Yt.code||e.code===xt.code:e instanceof pt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class gb extends A{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Kn(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class wb extends A{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Kn(n)}`,`Response: ${V(t)}`],name:"OffchainLookupResponseMalformedError"})}}class vb extends A{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const xb="0x556f1830",nf={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Eb(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Yc({data:r,abi:[nf]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:rf;try{if(!an(s,i))throw new vb({sender:i,to:s});const h=a.includes(Xn)?await Vu({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:p}=await kt(e,{blockNumber:t,blockTag:n,data:J([u,rt([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return p}catch(h){throw new gb({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function rf({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new pt({body:a,details:f?.error?V(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!Ce(f)){r=new wb({result:f,url:o});continue}return f}catch(u){r=new pt({body:a,details:u.message,url:o})}}throw r}const Pb=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:rf,offchainLookup:Eb,offchainLookupAbiItem:nf,offchainLookupSignature:xb},Symbol.toStringTag,{value:"Module"}));function M6(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}function sf(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Ib(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ea=Ib();function Sb(e,t={}){const{url:n,headers:r}=Ab(e);return{async request(s){const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,f={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:l,signal:h}=f;try{const p=await sf(async({signal:g})=>{const E={...f,body:Array.isArray(o)?V(o.map(m=>({jsonrpc:"2.0",id:m.id??Ea.take(),...m}))):V({jsonrpc:"2.0",id:o.id??Ea.take(),...o}),headers:{...r,"Content-Type":"application/json",...d},method:l||"POST",signal:h||(u>0?g:null)},P=new Request(n,E),v=await a?.(P,E)??{...E,url:n};return await i(v.url??n,v)},{errorInstance:new ia({body:o,url:n}),timeout:u,signal:!0});c&&await c(p);let b;if(p.headers.get("Content-Type")?.startsWith("application/json"))b=await p.json();else{b=await p.text();try{b=JSON.parse(b||"{}")}catch(g){if(p.ok)throw g;b={error:b}}}if(!p.ok)throw new pt({body:o,details:V(b.error)||p.statusText,headers:p.headers,status:p.status,url:n});return b}catch(p){throw p instanceof pt||p instanceof ia?p:new pt({body:o,cause:p,url:n})}}}}function Ab(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const Cb=`Ethereum Signed Message:
`;function $b(e){const t=typeof e=="string"?gt(e):typeof e.raw=="string"?e.raw:W(e.raw),n=gt(`${Cb}${H(t)}`);return J([n,t])}function of(e,t){return Y($b(e),t)}class Bb extends A{constructor({domain:t}){super(`Invalid domain "${V(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Tb extends A{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Ob extends A{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Rb(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return V({domain:i,message:a,primaryType:r,types:s})}function af(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(ko);if(l&&(typeof d=="number"||typeof d=="bigint")){const[b,g,E]=l;B(d,{signed:g==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!Z(d))throw new ce({address:d});const h=f.match(Vc);if(h){const[b,g]=h;if(g&&H(d)!==Number.parseInt(g,10))throw new Tc({expectedSize:Number.parseInt(g,10),givenSize:H(d)})}const p=s[f];p&&(kb(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Bb({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Tb({primaryType:r,types:s})}function cf({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function kb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Ob({type:e})}function Fb(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:cf({domain:t}),...e.types};af({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Nb({domain:t,types:s})),r!=="EIP712Domain"&&o.push(uf({data:n,primaryType:r,types:s})),Y(J(o))}function Nb({domain:e,types:t}){return uf({data:e,primaryType:"EIP712Domain",types:t})}function uf({data:e,primaryType:t,types:n}){const r=ff({data:e,primaryType:t,types:n});return Y(r)}function ff({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Mb({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=lf({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return rt(r,s)}function Mb({primaryType:e,types:t}){const n=$e(_b({primaryType:e,types:t}));return Y(n)}function _b({primaryType:e,types:t}){let n="";const r=df({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function df({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])df({primaryType:o.type,types:t},n);return n}function lf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Y(ff({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},Y(r)];if(n==="string")return[{type:"bytes32"},Y($e(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>lf({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Y(rt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class zb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const jb={checksum:new zb(8192)},hs=jb.checksum;function Lb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function wr(e,...t){if(!Lb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ia(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ub(e,t){wr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qb(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function hf(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Db=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gb(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Hb(e){for(let t=0;t<e.length;t++)e[t]=Gb(e[t]);return e}const Sa=Db?e=>e:Hb;function Vb(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function pf(e){return typeof e=="string"&&(e=Vb(e)),wr(e),e}class Wb{}function Kb(e){const t=r=>e().update(pf(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const ar=BigInt(2**32-1),Aa=BigInt(32);function Qb(e,t=!1){return t?{h:Number(e&ar),l:Number(e>>Aa&ar)}:{h:Number(e>>Aa&ar)|0,l:Number(e&ar)|0}}function Zb(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=Qb(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Yb=(e,t,n)=>e<<n|t>>>32-n,Jb=(e,t,n)=>t<<n|e>>>32-n,Xb=(e,t,n)=>t<<n-32|e>>>64-n,e1=(e,t,n)=>e<<n-32|t>>>64-n,t1=BigInt(0),mn=BigInt(1),n1=BigInt(2),r1=BigInt(7),s1=BigInt(256),o1=BigInt(113),bf=[],mf=[],yf=[];for(let e=0,t=mn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],bf.push(2*(5*r+n)),mf.push((e+1)*(e+2)/2%64);let s=t1;for(let o=0;o<7;o++)t=(t<<mn^(t>>r1)*o1)%s1,t&n1&&(s^=mn<<(mn<<BigInt(o))-mn);yf.push(s)}const gf=Zb(yf,!0),i1=gf[0],a1=gf[1],Ca=(e,t,n)=>n>32?Xb(e,t,n):Yb(e,t,n),$a=(e,t,n)=>n>32?e1(e,t,n):Jb(e,t,n);function c1(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Ca(u,f,1)^n[a],l=$a(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=mf[i],c=Ca(s,o,a),u=$a(s,o,a),f=bf[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=i1[r],e[1]^=a1[r]}hf(n)}class hi extends Wb{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Pa(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=qb(this.state)}clone(){return this._cloneInto()}keccak(){Sa(this.state32),c1(this.state32,this.rounds),Sa(this.state32),this.posOut=0,this.pos=0}update(t){Ia(this),t=pf(t),wr(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ia(this,!1),wr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pa(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ub(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hf(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new hi(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const u1=(e,t,n)=>Kb(()=>new hi(t,e,n)),f1=u1(1,136,256/8);function wf(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=f1(qh(e));return n==="Bytes"?r:Oe(r)}const d1=/^0x[a-fA-F0-9]{40}$/;function Hr(e,t={}){const{strict:n=!0}=t;if(!d1.test(e))throw new Ba({address:e,cause:new l1});if(n){if(e.toLowerCase()===e)return;if(vf(e)!==e)throw new Ba({address:e,cause:new h1})}}function vf(e){if(hs.has(e))return hs.get(e);Hr(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=wf(Gh(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return hs.set(e,s),s}function so(e,t={}){const{strict:n=!0}=t??{};try{return Hr(e,{strict:n}),!0}catch{return!1}}class Ba extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class l1 extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class h1 extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const p1=/^(.*)\[([0-9]*)\]$/,b1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ta=2n**256n-1n;function Ht(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=mi(t.type);if(o){const[i,a]=o;return y1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return x1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return m1(e,{checksum:r});if(t.type==="bool")return g1(e);if(t.type.startsWith("bytes"))return w1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return v1(e,t);if(t.type==="string")return E1(e,{staticPosition:s});throw new gi(t.type)}const Oa=32,oo=32;function m1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?vf(o):o)(Oe(Vh(r,-20))),32]}function y1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ge(e.readBytes(oo)),u=o+c,f=u+Oa;e.setPosition(u);const d=Ge(e.readBytes(Oa)),l=zn(t);let h=0;const p=[];for(let b=0;b<d;++b){e.setPosition(f+(l?b*32:h));const[g,E]=Ht(e,t,{checksumAddress:r,staticPosition:f});h+=E,p.push(g)}return e.setPosition(o+32),[p,32]}if(zn(t)){const c=Ge(e.readBytes(oo)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Ht(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Ht(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function g1(e){return[Kh(e.readBytes(32),{size:32}),32]}function w1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ge(e.readBytes(32));e.setPosition(n+i);const a=Ge(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Oe(c),32]}return[Oe(e.readBytes(Number.parseInt(s,10),32)),32]}function v1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Wh(s,{signed:n}):Ge(s,{signed:n}),32]}function x1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(zn(t)){const c=Ge(e.readBytes(oo)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Ht(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Ht(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function E1(e,{staticPosition:t}){const n=Ge(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ge(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Qh(Iu(o));return e.setPosition(t+32),[i,32]}function P1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(pi({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function pi({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=mi(r.type);if(s){const[o,i]=s;return S1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return T1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return I1(n,{checksum:e});if(r.type==="bool")return C1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=xf.exec(r.type)??[];return $1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return A1(n,{type:r.type});if(r.type==="string")return B1(n);throw new gi(r.type)}function bi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=be(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(te(t+s,{size:32})),r.push(a),s+=be(a)):n.push(a)}return Te(...n,...r)}function I1(e,t){const{checksum:n=!1}=t;return Hr(e,{strict:n}),{dynamic:!1,encoded:At(e.toLowerCase())}}function S1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new j1(e);if(!o&&e.length!==r)throw new z1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=pi({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=bi(a);if(o){const u=te(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Te(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Te(...a.map(({encoded:c})=>c))}}function A1(e,{type:t}){const[,n]=t.split("bytes"),r=be(e);if(!n){let s=e;return r%32!==0&&(s=Ct(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Te(At(te(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Pf({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ct(e)}}function C1(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:At(Su(e))}}function $1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new $u({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:te(e,{size:32,signed:t})}}function B1(e){const t=ti(e),n=Math.ceil(be(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ct(Ne(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Te(Ct(te(be(t),{size:32})),...r)}}function T1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=pi({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?bi(o):Te(...o.map(({encoded:i})=>i))}}function mi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function zn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(zn);const n=mi(e.type);return!!(n&&zn({...e,type:n[1]}))}const O1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new F1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new k1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ra({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ra({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function R1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(O1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ra extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class k1 extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class F1 extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function N1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Pu(t):t,i=R1(o);if(qt(o)===0&&e.length>0)throw new _1;if(qt(o)&&qt(o)<32)throw new M1({data:typeof t=="string"?t:Oe(t),parameters:e,size:qt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=Ht(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function yi(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new If({expectedLength:e.length,givenLength:t.length});const s=P1({checksumAddress:r,parameters:e,values:t}),o=bi(s);return o.length===0?"0x":o}function io(e,t){if(e.length!==t.length)throw new If({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(io.encode(s,o))}return Te(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Hr(c),At(c.toLowerCase(),s?32:0)}if(n==="string")return ti(r);if(n==="bytes")return r;if(n==="bool")return At(Su(r),s?32:1);const o=n.match(xf);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return te(r,{size:s?32:d,signed:u==="int"})}const i=n.match(b1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Pf({expectedSize:Number.parseInt(u,10),value:r});return Ct(r,s?32:0)}const a=n.match(p1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Te(...f)}throw new gi(n)}e.encode=t})(io||(io={}));function Ef(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Gi(e):e}class M1 extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Lt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class _1 extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class z1 extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Pf extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${be(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class If extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class j1 extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class gi extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Sf(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new ps({signature:e});if(typeof e.s>"u")throw new ps({signature:e});if(n&&typeof e.yParity>"u")throw new ps({signature:e});if(e.r<0n||e.r>Ta)throw new V1({value:e.r});if(e.s<0n||e.s>Ta)throw new W1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new vi({value:e.yParity})}function L1(e){return Af(Oe(e))}function Af(e){if(e.length!==130&&e.length!==132)throw new H1({signature:e});const t=BigInt(Ne(e,0,32)),n=BigInt(Ne(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return wi(s)}catch{throw new vi({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function U1(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return q1(e)}function q1(e){const t=typeof e=="string"?Af(e):e instanceof Uint8Array?L1(e):typeof e.r=="string"?G1(e):e.v?D1(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Sf(t),t}function D1(e){return{r:e.r,s:e.s,yParity:wi(e.v)}}function G1(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=wi(n)),typeof r!="number")throw new vi({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function wi(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new K1({value:e})}class H1 extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${be(rp(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ps extends L{constructor({signature:t}){super(`Signature \`${Eu(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class V1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class W1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class vi extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class K1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Q1(e,t={}){return typeof e.chainId=="string"?Z1(e):{...e,...t.signature}}function Z1(e){const{address:t,chainId:n,nonce:r}=e,s=U1(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Y1="0x8010801080108010801080108010801080108010801080108010801080108010",J1=Ef("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Cf(e){if(typeof e=="string"){if(Ne(e,-32)!==Y1)throw new tm(e)}else Sf(e.authorization)}function X1(e){Cf(e);const t=Cu(Ne(e,-64,-32)),n=Ne(e,-t-64,-64),r=Ne(e,0,-t-64),[s,o,i]=N1(J1,n);return{authorization:Q1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function em(e){try{return Cf(e),!0}catch{return!1}}let tm=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function nm(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function rm(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?we(e.nonce):void 0,storageProof:e.storageProof?nm(e.storageProof):void 0}}async function sm(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?B(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return rm(a)}async function om(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?B(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Vr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?B(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,B(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,B(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,B(a)]},{dedupe:!0})),!f)throw new Xc({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Mr)(f,"getTransaction")}async function im(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Jn,"getBlockNumber")({}),t?M(e,Vr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function hr(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new eu({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ii)(n,"getTransactionReceipt")}async function $f(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return cn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let P=0;P<u.length;P++){const{abi:v,address:y,args:m,functionName:w}=u[P];try{const x=fe({abi:v,args:m,functionName:w});b+=(x.length-2)/2,f>0&&b>f&&h[p].length>0&&(p++,b=(x.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:x,target:y}]}catch(x){const I=Pt(x,{abi:v,address:y,args:m,docsPath:"/docs/contract/multicall",functionName:w,sender:n});if(!s)throw I;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:y}]}}const g=await Promise.allSettled(h.map(P=>M(e,ve,"readContract")({...l===null?{code:ni}:{address:l},abi:en,account:n,args:[P],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let P=0;P<g.length;P++){const v=g[P];if(v.status==="rejected"){if(!s)throw v.reason;for(let m=0;m<h[P].length;m++)E.push({status:"failure",error:v.reason,result:void 0});continue}const y=v.value;for(let m=0;m<y.length;m++){const{returnData:w,success:x}=y[m],{callData:I}=h[P][m],{abi:C,address:S,functionName:$,args:k}=u[E.length];try{if(I==="0x")throw new qn;if(!x)throw new Rr({data:w});const F=it({abi:C,args:k,data:w,functionName:$});E.push(s?{result:F,status:"success"}:F)}catch(F){const z=Pt(F,{abi:C,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:$});if(!s)throw z;E.push({error:z,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new A("multicall results mismatch");return E}async function ao(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Tu(l.blockOverrides):void 0,p=l.calls.map(g=>{const E=g,P=E.account?G(E.account):void 0,v=E.abi?fe(E):E.data,y={...E,account:P,data:E.dataSuffix?J([v||"0x",E.dataSuffix]):v,from:E.from??P?.address};return Qe(y),st(y)}),b=l.stateOverrides?qo(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:b})}const f=(typeof n=="bigint"?B(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...Go(l),calls:l.calls.map((p,b)=>{const{abi:g,args:E,functionName:P,to:v}=s[h].calls[b],y=p.error?.data??p.returnData,m=BigInt(p.gasUsed),w=p.logs?.map(S=>Ve(S)),x=p.status==="0x1"?"success":"failure",I=g&&x==="success"&&y!=="0x"?it({abi:g,data:y,functionName:P}):null,C=(()=>{if(x==="success")return;let S;if(y==="0x"?S=new qn:y&&(S=new Rr({data:y})),!!S)return Pt(S,{abi:g??[],address:v??"0x",args:E,functionName:P??"<unknown>"})})();return{data:y,gasUsed:m,logs:w,status:x,...x==="success"?{result:I}:{error:C}}})}))}catch(c){const u=c,f=Fr(u,{});throw f instanceof Qn?u:f}}function co(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new L("Unable to normalize signature.");return s}function uo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return so(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>uo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>uo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Bf(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Bf(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?so(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?so(n[r],{strict:!1}):!1)return i}}function Tf(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Di(e):e;return{...r,...n?{hash:Dt(r)}:{}}}function Wr(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=sp(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Of(u)===Ne(t,0,4):u.type==="event"?Dt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new vr({name:t});if(i.length===1)return{...i[0],...s?{hash:Dt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Dt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?uo(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=Bf(u.inputs,a.inputs,r);if(d)throw new cm({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new vr({name:t});return{...c,...s?{hash:Dt(c)}:{}}}function Of(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Wr(n,r)}return e[0]})();return Ne(Dt(t),0,4)}function am(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Wr(r,s)}return e[0]})(),n=typeof t=="string"?t:mr(t);return co(n)}function Dt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Wr(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:wf(ti(am(t)))}class cm extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${co(mr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${co(mr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class vr extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function um(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[dm(o),i]}return e})(),{bytecode:r,args:s}=n;return Te(r,t.inputs?.length&&s?.length?yi(t.inputs,s):"0x")}function fm(e){return Tf(e)}function dm(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new vr({name:"constructor"});return t}function lm(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[ka(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?ka([t,...r],t.name,{args:n}):t,o=hm(s),i=n.length>0?yi(s.inputs,n):void 0;return i?Te(o,i):o}function zt(e,t={}){return Tf(e,t)}function ka(e,t,n){const r=Wr(e,t,n);if(r.type!=="function")throw new vr({name:t,type:"function"});return r}function hm(e){return Of(e)}const pm="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Fe="0x0000000000000000000000000000000000000000",bm="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function mm(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?G(t.account):void 0;if(i&&!u)throw new A("`account` is required when `traceAssetChanges` is true");const f=u?um(fm("constructor(bytes, bytes)"),{bytecode:Fu,args:[bm,lm(zt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:_}=await Yu(e,{account:u.address,...R,data:R.abi?fe(R):R.data});return _.map(({address:j,storageKeys:U})=>U.length>0?j:null)})).then(R=>R.flat().filter(Boolean)):[],l=await ao(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((R,_)=>({abi:[zt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Fe,nonce:_})),stateOverrides:[{address:Fe,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((R,_)=>({abi:[zt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:Fe,nonce:_})),stateOverrides:[{address:Fe,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[zt("function decimals() returns (uint256)")],functionName:"decimals",from:Fe,nonce:_})),stateOverrides:[{address:Fe,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[zt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Fe,nonce:_})),stateOverrides:[{address:Fe,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[zt("function symbol() returns (string)")],functionName:"symbol",from:Fe,nonce:_})),stateOverrides:[{address:Fe,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[p,b,,g,E,P,v,y]=i?l:[],{calls:m,...w}=h,x=m.slice(0,-1)??[],I=p?.calls??[],C=b?.calls??[],S=[...I,...C].map(R=>R.status==="success"?pe(R.data):null),$=g?.calls??[],k=E?.calls??[],F=[...$,...k].map(R=>R.status==="success"?pe(R.data):null),z=(P?.calls??[]).map(R=>R.status==="success"?R.result:null),O=(y?.calls??[]).map(R=>R.status==="success"?R.result:null),T=(v?.calls??[]).map(R=>R.status==="success"?R.result:null),N=[];for(const[R,_]of F.entries()){const j=S[R];if(typeof _!="bigint"||typeof j!="bigint")continue;const U=z[R-1],D=O[R-1],Pe=T[R-1],re=R===0?{address:pm,decimals:18,symbol:"ETH"}:{address:d[R-1],decimals:Pe||U?Number(U??1):void 0,symbol:D??void 0};N.some(X=>X.token.address===re.address)||N.push({token:re,value:{pre:j,post:_,diff:_-j}})}return{assetChanges:N,block:w,results:x}}const Rf="0x6492649264926492649264926492649264926492649264926492649264926492";function ym(e){if(Ne(e,-32)!==Rf)throw new vm(e)}function gm(e){const{data:t,signature:n,to:r}=e;return Te(yi(Ef("address, bytes, bytes"),[r,t,n]),Rf)}function wm(e){try{return ym(e),!0}catch{return!1}}class vm extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class kf extends Ro{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Vl(t);const r=$r(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Zt(o)}update(t){return Qt(this),this.iHash.update(t),this}digestInto(t){Qt(this),wt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ff=(e,t,n)=>new kf(e,t).update(n).digest();Ff.create=(e,t)=>new kf(e,t);const xi=BigInt(0),fo=BigInt(1);function tr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ei(e){if(!tr(e))throw new Error("Uint8Array expected")}function jn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function cr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Nf(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?xi:BigInt("0x"+e)}const Mf=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",xm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ln(e){if(Ei(e),Mf)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=xm[e[n]];return t}const ze={_0:48,_9:57,A:65,F:70,a:97,f:102};function Fa(e){if(e>=ze._0&&e<=ze._9)return e-ze._0;if(e>=ze.A&&e<=ze.F)return e-(ze.A-10);if(e>=ze.a&&e<=ze.f)return e-(ze.a-10)}function xr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Mf)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Fa(e.charCodeAt(o)),a=Fa(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function mt(e){return Nf(Ln(e))}function _f(e){return Ei(e),Nf(Ln(Uint8Array.from(e).reverse()))}function nr(e,t){return xr(e.toString(16).padStart(t*2,"0"))}function zf(e,t){return nr(e,t).reverse()}function ye(e,t,n){let r;if(typeof t=="string")try{r=xr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(tr(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Er(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ei(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const bs=e=>typeof e=="bigint"&&xi<=e;function Pi(e,t,n){return bs(e)&&bs(t)&&bs(n)&&t<=e&&e<n}function Vt(e,t,n,r){if(!Pi(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Em(e){let t;for(t=0;e>xi;e>>=fo,t+=1);return t}const Kr=e=>(fo<<BigInt(e))-fo,ms=e=>new Uint8Array(e),Na=e=>Uint8Array.from(e);function Pm(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ms(e),s=ms(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=ms(0))=>{s=a(Na([0]),d),r=a(),d.length!==0&&(s=a(Na([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return Er(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const Im={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||tr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Qr(e,t,n={}){const r=(s,o,i)=>{const a=Im[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Ma(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const oe=BigInt(0),ne=BigInt(1),lt=BigInt(2),Sm=BigInt(3),jf=BigInt(4),Lf=BigInt(5),Uf=BigInt(8);function se(e,t){const n=e%t;return n>=oe?n:t+n}function me(e,t,n){let r=e;for(;t-- >oe;)r*=r,r%=n;return r}function lo(e,t){if(e===oe)throw new Error("invert: expected non-zero number");if(t<=oe)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,s=oe,o=ne;for(;n!==oe;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==ne)throw new Error("invert: does not exist");return se(s,t)}function qf(e,t){const n=(e.ORDER+ne)/jf,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Am(e,t){const n=(e.ORDER-Lf)/Uf,r=e.mul(t,lt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,lt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Cm(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ne,n=0;for(;t%lt===oe;)t/=lt,n++;let r=lt;const s=Ii(e);for(;_a(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qf;let o=s.pow(r,t);const i=(t+ne)/lt;return function(c,u){if(c.is0(u))return u;if(_a(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let p=1,b=c.sqr(l);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===f)throw new Error("Cannot find square root");const g=ne<<BigInt(f-p-1),E=c.pow(d,g);f=p,d=c.sqr(E),l=c.mul(l,d),h=c.mul(h,E)}return h}}function $m(e){return e%jf===Sm?qf:e%Uf===Lf?Am:Cm(e)}const Bm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Tm(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bm.reduce((r,s)=>(r[s]="function",r),t);return Qr(e,n)}function Om(e,t,n){if(n<oe)throw new Error("invalid exponent, negatives unsupported");if(n===oe)return e.ONE;if(n===ne)return t;let r=e.ONE,s=t;for(;n>oe;)n&ne&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ne;return r}function Df(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function _a(e,t){const n=(e.ORDER-ne)/lt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Gf(e,t){t!==void 0&&yn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ii(e,t,n=!1,r={}){if(e<=oe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Gf(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Kr(s),ZERO:oe,ONE:ne,create:c=>se(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return oe<=c&&c<e},is0:c=>c===oe,isOdd:c=>(c&ne)===ne,neg:c=>se(-c,e),eql:(c,u)=>c===u,sqr:c=>se(c*c,e),add:(c,u)=>se(c+u,e),sub:(c,u)=>se(c-u,e),mul:(c,u)=>se(c*u,e),pow:(c,u)=>Om(a,c,u),div:(c,u)=>se(c*lo(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>lo(c,e),sqrt:r.sqrt||(c=>(i||(i=$m(e)),i(a,c))),toBytes:c=>n?zf(c,o):nr(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?_f(c):mt(c)},invertBatch:c=>Df(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Hf(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Vf(e){const t=Hf(e);return t+Math.ceil(t/2)}function Rm(e,t,n=!1){const r=e.length,s=Hf(t),o=Vf(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?_f(e):mt(e),a=se(i,t-ne)+ne;return n?zf(a,s):nr(a,s)}const za=BigInt(0),ho=BigInt(1);function ys(e,t){const n=t.negate();return e?n:t}function Wf(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function gs(e,t){Wf(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Kr(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function ja(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ho);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function km(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Fm(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ws=new WeakMap,Kf=new WeakMap;function vs(e){return Kf.get(e)||1}function Nm(e,t){return{constTimeNegate:ys,hasPrecomputes(n){return vs(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>za;)r&ho&&(s=s.add(o)),o=o.double(),r>>=ho;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=gs(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=gs(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:p}=ja(s,c,a);s=u,d?i=i.add(ys(h,r[p])):o=o.add(ys(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=gs(n,t);for(let a=0;a<i.windows&&s!==za;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=ja(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=ws.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&ws.set(r,s(o))),o},wNAFCached(n,r,s){const o=vs(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=vs(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Wf(r,t),Kf.set(n,r),ws.delete(n)}}}function Mm(e,t,n,r){km(n,e),Fm(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Em(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Kr(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let b=0;b<o;b++){const g=r[b],E=Number(g>>BigInt(h)&u);f[E]=f[E].add(n[b])}let p=i;for(let b=f.length-1,g=i;b>0;b--)g=g.add(f[b]),p=p.add(g);if(l=l.add(p),h!==0)for(let b=0;b<c;b++)l=l.double()}return l}function Qf(e){return Tm(e.Fp),Qr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function La(e){e.lowS!==void 0&&jn("lowS",e.lowS),e.prehash!==void 0&&jn("prehash",e.prehash)}function _m(e){const t=Qf(e);Qr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class zm extends Error{constructor(t=""){super(t)}}const Le={Err:zm,_tlv:{encode:(e,t)=>{const{Err:n}=Le;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=cr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?cr(s.length/2|128):"";return cr(e)+o+s+t},decode(e,t){const{Err:n}=Le;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Le;if(e<Ue)throw new t("integer: negative integers are not allowed");let n=cr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Le;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return mt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Le,s=ye("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Le,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function xs(e,t){return Ln(nr(e,t))}const Ue=BigInt(0),Q=BigInt(1);BigInt(2);const Es=BigInt(3),jm=BigInt(4);function Lm(e){const t=_m(e),{Fp:n}=t,r=Ii(t.n,t.nBitLength),s=t.toBytes||((v,y,m)=>{const w=y.toAffine();return Er(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(v=>{const y=v.subarray(1),m=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:m,y:w}});function i(v){const{a:y,b:m}=t,w=n.sqr(v),x=n.mul(w,v);return n.add(n.add(x,n.mul(v,y)),m)}function a(v,y){const m=n.sqr(y),w=i(v);return n.eql(m,w)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Es),jm),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(v){return Pi(v,Q,t.n)}function d(v){const{allowedPrivateKeyLengths:y,nByteLength:m,wrapPrivateKey:w,n:x}=t;if(y&&typeof v!="bigint"){if(tr(v)&&(v=Ln(v)),typeof v!="string"||!y.includes(v.length))throw new Error("invalid private key");v=v.padStart(m*2,"0")}let I;try{I=typeof v=="bigint"?v:mt(ye("private key",v,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof v)}return w&&(I=se(I,x)),Vt("private key",I,Q,x),I}function l(v){if(!(v instanceof b))throw new Error("ProjectivePoint expected")}const h=Ma((v,y)=>{const{px:m,py:w,pz:x}=v;if(n.eql(x,n.ONE))return{x:m,y:w};const I=v.is0();y==null&&(y=I?n.ONE:n.inv(x));const C=n.mul(m,y),S=n.mul(w,y),$=n.mul(x,y);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:C,y:S}}),p=Ma(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:y,y:m}=v.toAffine();if(!n.isValid(y)||!n.isValid(m))throw new Error("bad point: x or y not FE");if(!a(y,m))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(y,m,w){if(y==null||!n.isValid(y))throw new Error("x required");if(m==null||!n.isValid(m)||n.is0(m))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");this.px=y,this.py=m,this.pz=w,Object.freeze(this)}static fromAffine(y){const{x:m,y:w}=y||{};if(!y||!n.isValid(m)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof b)throw new Error("projective point not allowed");const x=I=>n.eql(I,n.ZERO);return x(m)&&x(w)?b.ZERO:new b(m,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const m=Df(n,y.map(w=>w.pz));return y.map((w,x)=>w.toAffine(m[x])).map(b.fromAffine)}static fromHex(y){const m=b.fromAffine(o(ye("pointHex",y)));return m.assertValidity(),m}static fromPrivateKey(y){return b.BASE.multiply(d(y))}static msm(y,m){return Mm(b,r,y,m)}_setWindowSize(y){P.setWindowSize(this,y)}assertValidity(){p(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:m,py:w,pz:x}=this,{px:I,py:C,pz:S}=y,$=n.eql(n.mul(m,S),n.mul(I,x)),k=n.eql(n.mul(w,S),n.mul(C,x));return $&&k}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:m}=t,w=n.mul(m,Es),{px:x,py:I,pz:C}=this;let S=n.ZERO,$=n.ZERO,k=n.ZERO,F=n.mul(x,x),z=n.mul(I,I),O=n.mul(C,C),T=n.mul(x,I);return T=n.add(T,T),k=n.mul(x,C),k=n.add(k,k),S=n.mul(y,k),$=n.mul(w,O),$=n.add(S,$),S=n.sub(z,$),$=n.add(z,$),$=n.mul(S,$),S=n.mul(T,S),k=n.mul(w,k),O=n.mul(y,O),T=n.sub(F,O),T=n.mul(y,T),T=n.add(T,k),k=n.add(F,F),F=n.add(k,F),F=n.add(F,O),F=n.mul(F,T),$=n.add($,F),O=n.mul(I,C),O=n.add(O,O),F=n.mul(O,T),S=n.sub(S,F),k=n.mul(O,z),k=n.add(k,k),k=n.add(k,k),new b(S,$,k)}add(y){l(y);const{px:m,py:w,pz:x}=this,{px:I,py:C,pz:S}=y;let $=n.ZERO,k=n.ZERO,F=n.ZERO;const z=t.a,O=n.mul(t.b,Es);let T=n.mul(m,I),N=n.mul(w,C),R=n.mul(x,S),_=n.add(m,w),j=n.add(I,C);_=n.mul(_,j),j=n.add(T,N),_=n.sub(_,j),j=n.add(m,x);let U=n.add(I,S);return j=n.mul(j,U),U=n.add(T,R),j=n.sub(j,U),U=n.add(w,x),$=n.add(C,S),U=n.mul(U,$),$=n.add(N,R),U=n.sub(U,$),F=n.mul(z,j),$=n.mul(O,R),F=n.add($,F),$=n.sub(N,F),F=n.add(N,F),k=n.mul($,F),N=n.add(T,T),N=n.add(N,T),R=n.mul(z,R),j=n.mul(O,j),N=n.add(N,R),R=n.sub(T,R),R=n.mul(z,R),j=n.add(j,R),T=n.mul(N,j),k=n.add(k,T),T=n.mul(U,j),$=n.mul(_,$),$=n.sub($,T),T=n.mul(_,N),F=n.mul(U,F),F=n.add(F,T),new b($,k,F)}subtract(y){return this.add(y.negate())}is0(){return this.equals(b.ZERO)}wNAF(y){return P.wNAFCached(this,y,b.normalizeZ)}multiplyUnsafe(y){const{endo:m,n:w}=t;Vt("scalar",y,Ue,w);const x=b.ZERO;if(y===Ue)return x;if(this.is0()||y===Q)return this;if(!m||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,y,b.normalizeZ);let{k1neg:I,k1:C,k2neg:S,k2:$}=m.splitScalar(y),k=x,F=x,z=this;for(;C>Ue||$>Ue;)C&Q&&(k=k.add(z)),$&Q&&(F=F.add(z)),z=z.double(),C>>=Q,$>>=Q;return I&&(k=k.negate()),S&&(F=F.negate()),F=new b(n.mul(F.px,m.beta),F.py,F.pz),k.add(F)}multiply(y){const{endo:m,n:w}=t;Vt("scalar",y,Q,w);let x,I;if(m){const{k1neg:C,k1:S,k2neg:$,k2:k}=m.splitScalar(y);let{p:F,f:z}=this.wNAF(S),{p:O,f:T}=this.wNAF(k);F=P.constTimeNegate(C,F),O=P.constTimeNegate($,O),O=new b(n.mul(O.px,m.beta),O.py,O.pz),x=F.add(O),I=z.add(T)}else{const{p:C,f:S}=this.wNAF(y);x=C,I=S}return b.normalizeZ([x,I])[0]}multiplyAndAddUnsafe(y,m,w){const x=b.BASE,I=(S,$)=>$===Ue||$===Q||!S.equals(x)?S.multiplyUnsafe($):S.multiply($),C=I(this,m).add(I(y,w));return C.is0()?void 0:C}toAffine(y){return h(this,y)}isTorsionFree(){const{h:y,isTorsionFree:m}=t;if(y===Q)return!0;if(m)return m(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:m}=t;return y===Q?this:m?m(b,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return jn("isCompressed",y),this.assertValidity(),s(b,this,y)}toHex(y=!0){return jn("isCompressed",y),Ln(this.toRawBytes(y))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:E}=t,P=Nm(b,g?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Um(e){const t=Qf(e);return Qr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function qm(e){const t=Um(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(O){return se(O,r)}function u(O){return lo(O,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=Lm({...t,toBytes(O,T,N){const R=T.toAffine(),_=n.toBytes(R.x),j=Er;return jn("isCompressed",N),N?j(Uint8Array.from([T.hasEvenY()?2:3]),_):j(Uint8Array.from([4]),_,n.toBytes(R.y))},fromBytes(O){const T=O.length,N=O[0],R=O.subarray(1);if(T===i&&(N===2||N===3)){const _=mt(R);if(!Pi(_,Q,n.ORDER))throw new Error("Point is not on curve");const j=l(_);let U;try{U=n.sqrt(j)}catch(re){const X=re instanceof Error?": "+re.message:"";throw new Error("Point is not on curve"+X)}const D=(U&Q)===Q;return(N&1)===1!==D&&(U=n.neg(U)),{x:_,y:U}}else if(T===a&&N===4){const _=n.fromBytes(R.subarray(0,n.BYTES)),j=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:_,y:j}}else{const _=i,j=a;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+j+", got "+T)}}});function p(O){const T=r>>Q;return O>T}function b(O){return p(O)?c(-O):O}const g=(O,T,N)=>mt(O.slice(T,N));class E{constructor(T,N,R){Vt("r",T,Q,r),Vt("s",N,Q,r),this.r=T,this.s=N,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(T){const N=s;return T=ye("compactSignature",T,N*2),new E(g(T,0,N),g(T,N,2*N))}static fromDER(T){const{r:N,s:R}=Le.toSig(ye("DER",T));return new E(N,R)}assertValidity(){}addRecoveryBit(T){return new E(this.r,this.s,T)}recoverPublicKey(T){const{r:N,s:R,recovery:_}=this,j=x(ye("msgHash",T));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const U=_===2||_===3?N+t.n:N;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(_&1)===0?"02":"03",Pe=f.fromHex(D+xs(U,n.BYTES)),re=u(U),X=c(-j*re),Ft=c(R*re),Ze=f.BASE.multiplyAndAddUnsafe(Pe,X,Ft);if(!Ze)throw new Error("point at infinify");return Ze.assertValidity(),Ze}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return xr(this.toDERHex())}toDERHex(){return Le.hexFromSig(this)}toCompactRawBytes(){return xr(this.toCompactHex())}toCompactHex(){const T=s;return xs(this.r,T)+xs(this.s,T)}}const P={isValidPrivateKey(O){try{return d(O),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const O=Vf(t.n);return Rm(t.randomBytes(O),t.n)},precompute(O=8,T=f.BASE){return T._setWindowSize(O),T.multiply(BigInt(3)),T}};function v(O,T=!0){return f.fromPrivateKey(O).toRawBytes(T)}function y(O){if(typeof O=="bigint")return!1;if(O instanceof f)return!0;const N=ye("key",O).length,R=n.BYTES,_=R+1,j=2*R+1;if(!(t.allowedPrivateKeyLengths||s===_))return N===_||N===j}function m(O,T,N=!0){if(y(O)===!0)throw new Error("first arg must be private key");if(y(T)===!1)throw new Error("second arg must be public key");return f.fromHex(T).multiply(d(O)).toRawBytes(N)}const w=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const T=mt(O),N=O.length*8-o;return N>0?T>>BigInt(N):T},x=t.bits2int_modN||function(O){return c(w(O))},I=Kr(o);function C(O){return Vt("num < 2^"+o,O,Ue,I),nr(O,s)}function S(O,T,N=$){if(["recovered","canonical"].some(ut=>ut in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:_}=t;let{lowS:j,prehash:U,extraEntropy:D}=N;j==null&&(j=!0),O=ye("msgHash",O),La(N),U&&(O=ye("prehashed msgHash",R(O)));const Pe=x(O),re=d(T),X=[C(re),C(Pe)];if(D!=null&&D!==!1){const ut=D===!0?_(n.BYTES):D;X.push(ye("extraEntropy",ut))}const Ft=Er(...X),Ze=Pe;function Yr(ut){const Nt=w(ut);if(!h(Nt))return;const Jr=u(Nt),dn=f.BASE.multiply(Nt).toAffine(),ft=c(dn.x);if(ft===Ue)return;const ln=c(Jr*c(Ze+ft*re));if(ln===Ue)return;let Mt=(dn.x===ft?0:2)|Number(dn.y&Q),_i=ln;return j&&p(ln)&&(_i=b(ln),Mt^=1),new E(ft,_i,Mt)}return{seed:Ft,k2sig:Yr}}const $={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function F(O,T,N=$){const{seed:R,k2sig:_}=S(O,T,N),j=t;return Pm(j.hash.outputLen,j.nByteLength,j.hmac)(R,_)}f.BASE._setWindowSize(8);function z(O,T,N,R=k){const _=O;T=ye("msgHash",T),N=ye("publicKey",N);const{lowS:j,prehash:U,format:D}=R;if(La(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const Pe=typeof _=="string"||tr(_),re=!Pe&&!D&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!Pe&&!re)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let X,Ft;try{if(re&&(X=new E(_.r,_.s)),Pe){try{D!=="compact"&&(X=E.fromDER(_))}catch(Mt){if(!(Mt instanceof Le.Err))throw Mt}!X&&D!=="der"&&(X=E.fromCompact(_))}Ft=f.fromHex(N)}catch{return!1}if(!X||j&&X.hasHighS())return!1;U&&(T=t.hash(T));const{r:Ze,s:Yr}=X,ut=x(T),Nt=u(Yr),Jr=c(ut*Nt),dn=c(Ze*Nt),ft=f.BASE.multiplyAndAddUnsafe(Ft,Jr,dn)?.toAffine();return ft?c(ft.x)===Ze:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:m,sign:F,verify:z,ProjectivePoint:f,Signature:E,utils:P}}function Dm(e){return{hash:e,hmac:(t,...n)=>Ff(e,t,Jl(...n)),randomBytes:Xl}}function Gm(e,t){const n=r=>qm({...e,...Dm(r)});return{...n(t),create:n}}const Zf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ua=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hm=BigInt(0),Vm=BigInt(1),po=BigInt(2),qa=(e,t)=>(e+t/po)/t;function Wm(e){const t=Zf,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=me(f,n,t)*f%t,l=me(d,n,t)*f%t,h=me(l,po,t)*u%t,p=me(h,s,t)*h%t,b=me(p,o,t)*p%t,g=me(b,a,t)*b%t,E=me(g,c,t)*g%t,P=me(E,a,t)*b%t,v=me(P,n,t)*f%t,y=me(v,i,t)*p%t,m=me(y,r,t)*u%t,w=me(m,po,t);if(!bo.eql(bo.sqr(w),e))throw new Error("Cannot find square root");return w}const bo=Ii(Zf,void 0,void 0,{sqrt:Wm}),Yf=Gm({a:Hm,b:BigInt(7),Fp:bo,n:Ua,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ua,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Vm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=qa(o*e,t),c=qa(-r*e,t);let u=se(e-a*n-c*s,t),f=se(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},fu),Km=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Yf},Symbol.toStringTag,{value:"Module"}));function Qm({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Yf.Signature(pe(e),pe(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Be(i)}async function Zr(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return Ce(c)?c:typeof c=="object"&&"r"in c&&"s"in c?Qm(c):W(c)})();try{return em(a)?await Zm(e,{...t,multicallAddress:i,signature:a}):await Ym(e,{...t,verifierAddress:o,signature:a})}catch(c){try{if(an(Xe(n),await ru({hash:s,signature:a})))return!0}catch{}if(c instanceof $t)return!1;throw c}}async function Zm(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=X1(t.signature);if(await ro(e,{address:n,blockNumber:r,blockTag:s})===Ee(["0xef0100",a.address]))return await Jm(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:B(a.r,{size:32}),s:B(a.s,{size:32}),yParity:a.yParity};if(!await pb({address:n,authorization:l}))throw new $t;const p=await M(e,ve,"readContract")({...i?{address:i}:{code:ni},authorizationList:[l],abi:en,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:fe({abi:ku,functionName:"isValidSignature",args:[o,u]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new $t}async function Ym(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||wm(i)?i:gm({data:s,signature:i,to:r}))(),f=a?{to:a,data:fe({abi:ga,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Lr({abi:ga,args:[n,o,u],bytecode:dp}),...c},{data:d}=await M(e,kt,"call")(f).catch(l=>{throw l instanceof nu?new $t:l});if(kl(d??"0x0"))return!0;throw new $t}async function Jm(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await M(e,ve,"readContract")({address:n,abi:ku,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof jo?new $t:c})).startsWith("0x1626ba7e"))return!0;throw new $t}class $t extends Error{}async function Xm(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=of(n);return M(e,Zr,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function ey(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Fb({message:i,primaryType:a,types:c,domain:u});return M(e,Zr,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Jf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=V(["watchBlockNumber",e.uid,t,n,i]);return We(d,{onBlockNumber:r,onError:s},l=>un(async()=>{try{const h=await M(e,Jn,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)l.onBlockNumber(p,c),c=p}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=V(["watchBlockNumber",e.uid,t,n]);return We(d,{onBlockNumber:r,onError:s},l=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(E){if(!h)return;const P=pe(E.result?.number);l.onBlockNumber(P,c),c=P},onError(E){l.onError?.(E)}});p=g,h||p()}catch(b){s?.(b)}})(),()=>p()})})()}async function Si(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:c=18e4}=t,u=V(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,p=!1,b,g;const{promise:E,resolve:P,reject:v}=ri(),y=c?setTimeout(()=>{g?.(),b?.(),v(new Y0({hash:s}))},c):void 0;return b=We(u,{onReplaced:o,resolve:P,reject:v},async m=>{if(h=await M(e,hr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(y),m.resolve(h),b?.();return}g=M(e,Jf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(w){const x=C=>{clearTimeout(y),g?.(),C(),b?.()};let I=w;if(!p)try{if(h){if(r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;x(()=>m.resolve(h));return}if(n&&!d&&(p=!0,await _n(async()=>{d=await M(e,Vr,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:a,retryCount:i}),p=!1),h=await M(e,hr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;x(()=>m.resolve(h))}catch(C){if(C instanceof Xc||C instanceof eu){if(!d){p=!1;return}try{l=d,p=!0;const S=await _n(()=>M(e,Se,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:F})=>F instanceof au});p=!1;const $=S.transactions.find(({from:F,nonce:z})=>F===l.from&&z===l.nonce);if(!$||(h=await M(e,hr,"getTransactionReceipt")({hash:$.hash}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r)))return;let k="replaced";$.to===l.to&&$.value===l.value&&$.input===l.input?k="repriced":$.from===$.to&&$.value===0n&&(k="cancelled"),x(()=>{m.onReplaced?.({reason:k,replacedTransaction:l,transaction:$,transactionReceipt:h}),m.resolve(h)})}catch(S){x(()=>m.reject(S))}}else x(()=>m.reject(C))}}})}),E}function ty(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=V(["watchBlocks",e.uid,t,n,r,f,c]);return We(p,{onBlock:s,onError:o},b=>un(async()=>{try{const g=await M(e,Se,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&d?.number!=null){if(g.number===d.number)return;if(g.number-d.number>1&&n)for(let E=d?.number+1n;E<g.number;E++){const P=await M(e,Se,"getBlock")({blockNumber:E,includeTransactions:f});b.onBlock(P,d),d=P}}(d?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>d.number)&&(b.onBlock(g,d),d=g)}catch(g){b.onError?.(g)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=!0,g=()=>p=!1;return(async()=>{try{r&&M(e,Se,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{p&&b&&(s(v,void 0),b=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:P}=await E.subscribe({params:["newHeads"],async onData(v){if(!p)return;const y=await M(e,Se,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});p&&(s(y,d),b=!1,d=y)},onError(v){o?.(v)}});g=P,p||g()}catch(E){o?.(E)}})(),()=>g()})()}function ny(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const g=V(["watchEvent",t,n,r,e.uid,s,f,i]);return We(g,{onLogs:c,onError:a},E=>{let P;i!==void 0&&(P=i-1n);let v,y=!1;const m=un(async()=>{if(!y){try{v=await M(e,Ju,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}y=!0;return}try{let w;if(v)w=await M(e,Ur,"getFilterChanges")({filter:v});else{const x=await M(e,Jn,"getBlockNumber")({});P&&P!==x?w=await M(e,ei,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:P+1n,toBlock:x}):w=[],P=x}if(w.length===0)return;if(r)E.onLogs(w);else for(const x of w)E.onLogs([x])}catch(w){v&&w instanceof nt&&(y=!1),E.onError?.(w)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await M(e,qr,"uninstallFilter")({filter:v}),m()}})})():(()=>{let g=!0,E=()=>g=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let y=[];v&&(y=[v.flatMap(x=>Hn({abi:[x],eventName:x.name,args:n}))],s&&(y=y[0]));const{unsubscribe:m}=await P.subscribe({params:["logs",{address:t,topics:y}],onData(w){if(!g)return;const x=w.result;try{const{eventName:I,args:C}=gr({abi:v??[],data:x.data,topics:x.topics,strict:h}),S=Ve(x,{args:C,eventName:I});c([S])}catch(I){let C,S;if(I instanceof yr||I instanceof Bo){if(d)return;C=I.abiItem.name,S=I.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const $=Ve(x,{args:S?[]:{},eventName:C});c([$])}},onError(w){a?.(w)}});E=m,g||E()}catch(P){a?.(P)}})(),()=>E()})()}function ry(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=V(["watchPendingTransactions",e.uid,t,o]);return We(u,{onTransactions:r,onError:n},f=>{let d;const l=un(async()=>{try{if(!d)try{d=await M(e,Xu,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const h=await M(e,Ur,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const p of h)f.onTransactions([p])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await M(e,qr,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function sy(e){const{scheme:t,statement:n,...r}=e.match(oy)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(iy)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const oy=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,iy=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ay(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!Z(r.address,{strict:!1})||t&&!an(r.address,t))return!1}catch{return!1}return!0}async function cy(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=sy(s);if(!f.address||!ay({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=of(s);return Zr(e,{address:f.address,hash:l,signature:a,...u})}async function Ai(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,B(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||ii)(s);if(i.status==="reverted"&&n)throw new tu({receipt:i});return i}function uy(e){return{call:t=>kt(e,t),createAccessList:t=>Yu(e,t),createBlockFilter:()=>Qp(e),createContractEventFilter:t=>Kc(e,t),createEventFilter:t=>Ju(e,t),createPendingTransactionFilter:()=>Xu(e),estimateContractGas:t=>Oh(e,t),estimateGas:t=>Jo(e,t),getBalance:t=>ef(e,t),getBlobBaseFee:()=>Zp(e),getBlock:t=>Se(e,t),getBlockNumber:t=>Jn(e,t),getBlockTransactionCount:t=>Yp(e,t),getBytecode:t=>ro(e,t),getChainId:()=>ot(e),getCode:t=>ro(e,t),getContractEvents:t=>gu(e,t),getEip712Domain:t=>Xp(e,t),getEnsAddress:t=>kp(e,t),getEnsAvatar:t=>Vp(e,t),getEnsName:t=>Wp(e,t),getEnsResolver:t=>Kp(e,t),getEnsText:t=>Zu(e,t),getFeeHistory:t=>nb(e,t),estimateFeesPerGas:t=>yh(e,t),getFilterChanges:t=>Ur(e,t),getFilterLogs:t=>rb(e,t),getGasPrice:()=>Ho(e),getLogs:t=>ei(e,t),getProof:t=>sm(e,t),estimateMaxPriorityFeePerGas:t=>mh(e,t),fillTransaction:t=>Zo(e,t),getStorageAt:t=>om(e,t),getTransaction:t=>Vr(e,t),getTransactionConfirmations:t=>im(e,t),getTransactionCount:t=>Vo(e,t),getTransactionReceipt:t=>hr(e,t),multicall:t=>$f(e,t),prepareTransactionRequest:t=>Zn(e,t),readContract:t=>ve(e,t),sendRawTransaction:t=>oi(e,t),sendRawTransactionSync:t=>Ai(e,t),simulate:t=>ao(e,t),simulateBlocks:t=>ao(e,t),simulateCalls:t=>mm(e,t),simulateContract:t=>gp(e,t),verifyHash:t=>Zr(e,t),verifyMessage:t=>Xm(e,t),verifySiweMessage:t=>cy(e,t),verifyTypedData:t=>ey(e,t),uninstallFilter:t=>qr(e,t),waitForTransactionReceipt:t=>Si(e,t),watchBlocks:t=>ty(e,t),watchBlockNumber:t=>Jf(e,t),watchContractEvent:t=>Sp(e,t),watchEvent:t=>ny(e,t),watchPendingTransactions:t=>ry(e,t)}}async function fy(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:B(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function dy(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Lr({abi:n,args:r,bytecode:s});return Dr(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function ly(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Dn(n))}async function hy(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?G(n):void 0,o=r?[s?.address,[B(r)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function py(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Xf(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new at({docsPath:"/docs/eip7702/prepareAuthorization"});const o=G(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:G(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await M(e,ot,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await M(e,Vo,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&an(i.address,o.address))&&(a.nonce+=1)),a}async function by(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Xe(n))}async function my(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function yy(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await M(e,qu,"sendCalls")(t);return await M(e,Gu,"waitForCallsStatus")({...t,id:s.id,timeout:r})}const Ps=new sn(128);async function ed(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,pollingInterval:g,throwOnReceiptRevert:E,type:P,value:v,...y}=t,m=t.timeout??Math.max((s?.blockTime??0)*3,5e3);if(typeof n>"u")throw new at({docsPath:"/docs/actions/wallet/sendTransactionSync"});const w=n?G(n):null;try{Qe(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await kr({authorization:i[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`.")})})();if(w?.type==="json-rpc"||w===null){let I;s!==null&&(I=await M(e,ot,"getChainId")({}),r&&si({currentChainId:I,chain:s}));const C=e.chain?.formatters?.transactionRequest?.format,$=(C||st)({...on(y,{format:C}),accessList:o,account:w,authorizationList:i,blobs:a,chainId:I,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:x,type:P,value:v},"sendTransaction"),k=Ps.get(e.uid),F=k?"wallet_sendTransaction":"eth_sendTransaction",z=await(async()=>{try{return await e.request({method:F,params:[$]},{retryCount:0})}catch(T){if(k===!1)throw T;const N=T;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[$]},{retryCount:0}).then(R=>(Ps.set(e.uid,!0),R)).catch(R=>{const _=R;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(Ps.set(e.uid,!1),N):_});throw N}})(),O=await M(e,Si,"waitForTransactionReceipt")({checkReplacement:!1,hash:z,pollingInterval:g,timeout:m});if(E&&O.status==="reverted")throw new tu({receipt:O});return O}if(w?.type==="local"){const I=await M(e,Zn,"prepareTransactionRequest")({account:w,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:w.nonceManager,parameters:[...Yo,"sidecars"],type:P,value:v,...y,to:x}),C=s?.serializers?.transaction,S=await w.signTransaction(I,{serializer:C});return await M(e,Ai,"sendRawTransactionSync")({serializedTransaction:S,throwOnReceiptRevert:E,timeout:t.timeout})}throw w?.type==="smart"?new bt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new bt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:w?.type})}catch(x){throw x instanceof bt?x:_r(x,{...t,account:w,chain:t.chain||void 0})}}async function gy(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function wy(e,t){const{account:n=e.account}=t;if(!n)throw new at({docsPath:"/docs/eip7702/signAuthorization"});const r=G(n);if(!r.signAuthorization)throw new bt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Xf(e,t);return r.signAuthorization(s)}async function vy(e,{account:t=e.account,message:n}){if(!t)throw new at({docsPath:"/docs/actions/wallet/signMessage"});const r=G(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?gt(n):n.raw instanceof Uint8Array?$e(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function xy(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/signTransaction"});const o=G(n);Qe({account:o,...t});const i=await M(e,ot,"getChainId")({});r!==null&&si({currentChainId:i,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||st;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:B(i),from:o.address}]},{retryCount:0})}async function Ey(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/signTypedData"});const i=G(n),a={EIP712Domain:cf({domain:r}),...t.types};if(af({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Rb({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Py(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:B(t)}]},{retryCount:0})}async function Iy(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function Sy(e,t){return tn.internal(e,ed,"sendTransactionSync",t)}function Ay(e){return{addChain:t=>fy(e,t),deployContract:t=>dy(e,t),fillTransaction:t=>Zo(e,t),getAddresses:()=>ly(e),getCallsStatus:t=>Du(e,t),getCapabilities:t=>hy(e,t),getChainId:()=>ot(e),getPermissions:()=>py(e),prepareAuthorization:t=>Xf(e,t),prepareTransactionRequest:t=>Zn(e,t),requestAddresses:()=>by(e),requestPermissions:t=>my(e,t),sendCalls:t=>qu(e,t),sendCallsSync:t=>yy(e,t),sendRawTransaction:t=>oi(e,t),sendRawTransactionSync:t=>Ai(e,t),sendTransaction:t=>Dr(e,t),sendTransactionSync:t=>ed(e,t),showCallsStatus:t=>gy(e,t),signAuthorization:t=>wy(e,t),signMessage:t=>vy(e,t),signTransaction:t=>xy(e,t),signTypedData:t=>Ey(e,t),switchChain:t=>Py(e,t),waitForCallsStatus:t=>Gu(e,t),watchAsset:t=>Iy(e,t),writeContract:t=>tn(e,t),writeContractSync:t=>Sy(e,t)}}function z6(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return ai({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Ay)}function td({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Hu();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:mb(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Cy(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>td({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function j6(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:p})=>{const{batchSize:b=1e3,wait:g=0}=typeof n=="object"?n:{},E=t.retryCount??h,P=p??t.timeout??1e4,v=e,y=Sb(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return td({key:o,methods:i,name:a,async request({method:m,params:w}){const x={method:m,params:w},{schedule:I}=_u({id:v,wait:g,shouldSplitBatch(k){return k.length>b},fn:k=>y.request({body:k}),sort:(k,F)=>k.id-F.id}),C=async k=>n?I(k):[await y.request({body:k})],[{error:S,result:$}]=await C(x);if(d)return{error:S,result:$};if(S)throw new Lo({body:x,error:S,url:v});return $},retryCount:E,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:v})}}var Is={exports:{}},Da;function $y(){return Da||(Da=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,p=new Array(h);l<h;l++)p[l]=d[l].fn;return p},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,p){var b=n?n+u:u;if(!this._events[b])return!1;var g=this._events[b],E=arguments.length,P,v;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),E){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,l),!0;case 5:return g.fn.call(g.context,f,d,l,h),!0;case 6:return g.fn.call(g.context,f,d,l,h,p),!0}for(v=1,P=new Array(E-1);v<E;v++)P[v-1]=arguments[v];g.fn.apply(g.context,P)}else{var y=g.length,m;for(v=0;v<y;v++)switch(g[v].once&&this.removeListener(u,g[v].fn,void 0,!0),E){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,f);break;case 3:g[v].fn.call(g[v].context,f,d);break;case 4:g[v].fn.call(g[v].context,f,d,l);break;default:if(!P)for(m=1,P=new Array(E-1);m<E;m++)P[m-1]=arguments[m];g[v].fn.apply(g[v].context,P)}}return!0},a.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===f&&(!l||p.once)&&(!d||p.context===d)&&i(this,h);else{for(var b=0,g=[],E=p.length;b<E;b++)(p[b].fn!==f||l&&!p[b].once||d&&p[b].context!==d)&&g.push(p[b]);g.length?this._events[h]=g.length===1?g[0]:g:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Is)),Is.exports}var By=$y();const Ty=Ed(By);function yt(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const pr="2.16.4",Oy=()=>`@wagmi/core@${pr}`;var nd=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Pr,rd;let ct=class mo extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Oy()}constructor(t,n={}){super(),Pr.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof mo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof mo&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return nd(this,Pr,"m",rd).call(this,this,t)}};Pr=new WeakSet,rd=function e(t,n){return n?.(t)?t:t.cause?nd(this,Pr,"m",e).call(this,t.cause,n):t};class yo extends ct{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Ry extends ct{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ky extends ct{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Fy extends ct{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Ny extends ct{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class My extends ct{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function _y(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Ry;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,o=await n.connect(s),i=o.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:i,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i,chainId:o.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}async function zy(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new My({connector:u});const[f,d]=await Promise.all([u.getAccounts(),u.getChainId()]);n={accounts:f,chainId:d,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new ky;const r=t.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new Ny({connectionChainId:n.chainId,connectorChainId:s});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const i=G(t.account??n.accounts[0]);if(i.address=Xe(i.address),t.account&&!n.accounts.some(u=>u.toLowerCase()===i.address.toLowerCase()))throw new Fy({address:i.address,connector:o});const a=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return ai({account:i,chain:a,name:"Connector Client",transport:u=>Cy(c)({...u,retryCount:0})})}async function jy(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:o}=e.state;n=s.get(o)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...s,connections:new Map(r),current:o.connector.uid}});{const s=e.state.current;if(!s)return;const o=e.state.connections.get(s)?.connector;if(!o)return;await e.storage?.setItem("recentConnectorId",o.id)}}function sd(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(D0[e])}function od(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],o=e.chains.find(a=>a.id===n?.chainId),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function Ly(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...o}=t,i=e.getClient({chainId:r});return yt(i,$f,"multicall")({allowFailure:n,contracts:s,...o})}function id(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return yt(s,ve,"readContract")(r)}async function Uy(e,t){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...o}=t,i=t.contracts;try{const a={};for(const[d,l]of i.entries()){const h=l.chainId??e.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:l,index:d})}const c=()=>Object.entries(a).map(([d,l])=>Ly(e,{...o,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(d),contracts:l.map(({contract:h})=>h)})),u=(await Promise.all(c())).flat(),f=Object.values(a).flatMap(d=>d.map(({index:l})=>l));return u.reduce((d,l,h)=>(d&&(d[f[h]]=l),d),[])}catch(a){if(a instanceof jo)throw a;const c=()=>i.map(u=>id(e,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(c())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function qy(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:o,token:i,unit:a="ether"}=t;if(i)try{return await Ga(e,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:i})}catch(l){if(l.name==="ContractFunctionExecutionError"){const h=await Ga(e,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:i}),p=Fc(ie(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw l}const c=e.getClient({chainId:o}),f=await yt(c,ef,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=e.chains.find(l=>l.id===o)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Or(f,sd(a)),symbol:d.nativeCurrency.symbol,value:f}}async function Ga(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:o,unit:i}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:o},[c,u,f]=await Uy(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Or(c??"0",sd(i??u));return{decimals:u,formatted:d,symbol:f,value:c}}function Ha(e){return e.state.chainId}function Bt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bt(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Bt(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Dy(e,t={}){let n;try{n=e.getClient(t)}catch{}return n}let ur=[];function go(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Bt(ur,t)?ur:(ur=t,t)}let Ss=[];function Va(e){const t=e.connectors;return Bt(Ss,t)?Ss:(Ss=t,t)}function wo(e,t={}){return Dy(e,t)?.extend(uy)}let As=!1;async function Gy(e,t={}){if(As)return[];As=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let i=!1;const a=[],c=[];for(const u of o){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const l=await u.connect({isReconnecting:!0}).catch(()=>null);l&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const p=new Map(i?h.connections:new Map).set(u.uid,{accounts:l.accounts,chainId:l.chainId,connector:u});return{...h,current:i?h.current:u.uid,connections:p}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:u}),c.push(f),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),As=!1,a}class jt extends ct{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function Hy(e,t){const{onChange:n}=t;return e.subscribe(()=>od(e),n,{equalityFn(r,s){const{connector:o,...i}=r,{connector:a,...c}=s;return Bt(i,c)&&o?.id===a?.id&&o?.uid===a?.uid}})}function Vy(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function Wy(e,t){const{onChange:n}=t;return e.subscribe(()=>go(e),n,{equalityFn:Bt})}function Ky(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function Qy(e,t){const{onChange:n}=t;return e.subscribe(()=>wo(e),n,{equalityFn(r,s){return r?.uid===s?.uid}})}async function Zy(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await yt(o,Si,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const u=await yt(o,Vr,"getTransaction")({hash:a.transactionHash}),d=await yt(o,kt,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),l=d?.data?Fc(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(l)}return{...a,chainId:o.chain.id}}async function Yy(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await zy(e,{account:n??void 0,chainId:r,connector:s}),await yt(i,tn,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}function L6(e){return e}Ci.type="injected";function Ci(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Jy[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ci.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f}={}){const d=await this.getProvider();if(!d)throw new jt;let l=[];if(f)l=await this.getAccounts().catch(()=>[]);else if(t)try{l=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>Xe(p)),l.length>0&&(l=await this.getAccounts())}catch(h){const p=h;if(p.code===ee.code)throw new ee(p);if(p.code===tt.code)throw p}try{!l?.length&&!f&&(l=(await d.request({method:"eth_requestAccounts"})).map(b=>Xe(b))),i&&(d.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return u&&h!==u&&(h=(await this.switchChain({chainId:u}).catch(b=>{if(b.code===ee.code)throw b;return{id:h}}))?.id??h),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:l,chainId:h}}catch(h){const p=h;throw p.code===ee.code?new ee(p):p.code===tt.code?new tt(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new jt;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await sf(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new jt;return(await u.request({method:"eth_accounts"})).map(d=>Xe(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new jt;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=br(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(l()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(l()),h))]))return!0}throw new jt}return!!(await _n(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const d=await this.getProvider();if(!d)throw new jt;const l=c.chains.find(p=>p.id===f);if(!l)throw new Et(new yo);const h=new Promise(p=>{const b=(g=>{"chainId"in g&&g.chainId===f&&(c.emitter.off("change",b),p())});c.emitter.on("change",b)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:B(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(p){const b=p;if(b.code===4902||b?.data?.originalError?.code===4902)try{const{default:g,...E}=l.blockExplorers??{};let P;u?.blockExplorerUrls?P=u.blockExplorerUrls:g&&(P=[g.url,...Object.values(E).map(m=>m.url)]);let v;u?.rpcUrls?.length?v=u.rpcUrls:v=[l.rpcUrls.default?.http[0]??""];const y={blockExplorerUrls:P,chainId:B(f),chainName:u?.chainName??l.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??l.nativeCurrency,rpcUrls:v};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[y]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new ee(new Error("User rejected switch after adding network."))}),h]),l}catch(g){throw new ee(g)}throw b.code===ee.code?new ee(b):new Et(b)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>Xe(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const Jy={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:br(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return br(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:br(e,"isPhantom")}}};function br(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Xy(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function eg(){const e=new Set;let t=[];const n=()=>Xy(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}const tg=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const f=c?.equalityFn||Object.is;let d=i(r.getState());u=l=>{const h=i(l);if(!f(d,h)){const p=d;a(d=h,p)}},c?.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},ng=tg;function rg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const vo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return vo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return vo(r)(n)}}}},sg=(e,t)=>(n,r,s)=>{let o={storage:rg(()=>localStorage),partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const f=()=>{const b=o.partialize({...r()});return u.setItem(o.name,{state:b,version:o.version})},d=s.setState;s.setState=(b,g)=>{d(b,g),f()};const l=e((...b)=>{n(...b),f()},r,s);s.getInitialState=()=>l;let h;const p=()=>{var b,g;if(!u)return;i=!1,a.forEach(P=>{var v;return P((v=r())!=null?v:l)});const E=((g=o.onRehydrateStorage)==null?void 0:g.call(o,(b=r())!=null?b:l))||void 0;return vo(u.getItem.bind(u))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate)return[!0,o.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var v;const[y,m]=P;if(h=o.merge(m,(v=r())!=null?v:l),n(h,!0),y)return f()}).then(()=>{E?.(h,void 0),h=r(),i=!0,c.forEach(P=>P(h))}).catch(P=>{E?.(void 0,P)})};return s.persist={setOptions:b=>{o={...o,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},o.skipHydration||p(),h||l},og=sg,Wa=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},Cs=e=>e?Wa(e):Wa;class ig{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Ty})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function ag(e){return new ig(e)}function cg(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function Ka(e,t){return e.slice(0,t).join(".")||"."}function Qa(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ug(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Qa(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const f=Qa(s,c);if(f!==0)return r?t.call(this,a,c,Ka(o,f)):`[ref=${Ka(o,f)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function fg(e,t,n,r){return JSON.stringify(e,ug((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),t?.(s,i)??i},r),n??void 0)}function dg(e){const{deserialize:t=cg,key:n="wagmi",serialize:r=fg,storage:s=ad}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const ad={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function lg(){const e=typeof window<"u"&&window.localStorage?window.localStorage:ad;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const xo=256;let fr=xo,dr;function hg(e=11){if(!dr||fr+e>xo*2){dr="",fr=0;for(let t=0;t<xo;t++)dr+=(256+Math.random()*256|0).toString(16).substring(1)}return dr.substring(fr,fr+++e)}function U6(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=dg({storage:lg()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?eg():void 0,a=Cs(()=>o.chains),c=Cs(()=>{const m=[],w=new Set;for(const x of o.connectors??[]){const I=u(x);if(m.push(I),!s&&I.rdns){const C=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const S of C)w.add(S)}}if(!s&&i){const x=i.getProviders();for(const I of x)w.has(I.info.rdns)||m.push(u(f(I)))}return m});function u(m){const w=ag(hg()),x={...m({emitter:w,chains:a.getState(),storage:n,transports:o.transports}),emitter:w,uid:w.uid};return w.on("connect",v),x.setup?.(),x}function f(m){const{info:w}=m,x=m.provider;return Ci({target:{...w,id:w.rdns,provider:x}})}const d=new Map;function l(m={}){const w=m.chainId??g.getState().chainId,x=a.getState().find(C=>C.id===w);if(m.chainId&&!x)throw new yo;{const C=d.get(g.getState().chainId);if(C&&!x)return C;if(!x)throw new yo}{const C=d.get(w);if(C)return C}let I;if(o.client)I=o.client({chain:x});else{const C=x.id,S=a.getState().map(F=>F.id),$={},k=Object.entries(o);for(const[F,z]of k)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof z=="object")if(C in z)$[F]=z[C];else{if(S.some(T=>T in z))continue;$[F]=z}else $[F]=z;I=ai({...$,chain:x,batch:$.batch??{multicall:!0},transport:F=>o.transports[C]({...F,connectors:c})})}return d.set(w,I),I}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const b="0.0.0-canary-";pr.startsWith(b)?p=Number.parseInt(pr.replace(b,"")):p=Number.parseInt(pr.split(".")[0]??"0");const g=Cs(ng(n?og(h,{migrate(m,w){if(w===p)return m;const x=h(),I=E(m,x.chainId);return{...x,chainId:I}},name:"store",partialize(m){return{connections:{__type:"Map",value:Array.from(m.connections.entries()).map(([w,x])=>{const{id:I,name:C,type:S,uid:$}=x.connector;return[w,{...x,connector:{id:I,name:C,type:S,uid:$}}]})},chainId:m.chainId,current:m.current}},merge(m,w){typeof m=="object"&&m&&"status"in m&&delete m.status;const x=E(m,w.chainId);return{...w,...m,chainId:x}},skipHydration:s,storage:n,version:p}):h));g.setState(h());function E(m,w){return m&&typeof m=="object"&&"chainId"in m&&typeof m.chainId=="number"&&a.getState().some(x=>x.id===m.chainId)?m.chainId:w}r&&g.subscribe(({connections:m,current:w})=>w?m.get(w)?.chainId:void 0,m=>{if(a.getState().some(x=>x.id===m))return g.setState(x=>({...x,chainId:m??x.chainId}))}),i?.subscribe(m=>{const w=new Set,x=new Set;for(const C of c.getState())if(w.add(C.id),C.rdns){const S=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const $ of S)x.add($)}const I=[];for(const C of m){if(x.has(C.info.rdns))continue;const S=u(f(C));w.has(S.id)||I.push(S)}n&&!g.persist.hasHydrated()||c.setState(C=>[...C,...I],!0)});function P(m){g.setState(w=>{const x=w.connections.get(m.uid);return x?{...w,connections:new Map(w.connections).set(m.uid,{accounts:m.accounts??x.accounts,chainId:m.chainId??x.chainId,connector:x.connector})}:w})}function v(m){g.getState().status==="connecting"||g.getState().status==="reconnecting"||g.setState(w=>{const x=c.getState().find(I=>I.uid===m.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",P),x.emitter.listenerCount("change")||x.emitter.on("change",P),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",y),{...w,connections:new Map(w.connections).set(m.uid,{accounts:m.accounts,chainId:m.chainId,connector:x}),current:m.uid,status:"connected"}):w})}function y(m){g.setState(w=>{const x=w.connections.get(m.uid);if(x){const C=x.connector;C.emitter.listenerCount("change")&&x.connector.emitter.off("change",P),C.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",y),C.emitter.listenerCount("connect")||x.connector.emitter.on("connect",v)}if(w.connections.delete(m.uid),w.connections.size===0)return{...w,connections:new Map,current:null,status:"disconnected"};const I=w.connections.values().next().value;return{...w,connections:new Map(w.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return g.getState()},setState(m){let w;typeof m=="function"?w=m(g.getState()):w=m;const x=h();typeof w!="object"&&(w=x),Object.keys(x).some(C=>!(C in w))&&(w=x),g.setState(w,!0)},subscribe(m,w,x){return g.subscribe(m,w,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:i,store:g,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(m){const w=typeof m=="function"?m(a.getState()):m;if(w.length!==0)return a.setState(w,!0)},subscribe(m){return a.subscribe(m)}},connectors:{providerDetailToConnector:f,setup:u,setState(m){return c.setState(typeof m=="function"?m(c.getState()):m,!0)},subscribe(m){return c.subscribe(m)}},events:{change:P,connect:v,disconnect:y}}}}function pg(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const o=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)o.add(f)}const i=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(o.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);i.push(f)}return[...s,...i]})),r?Gy(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function bg(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=pg(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=q.useRef(!0);return q.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const cd=q.createContext(void 0);function q6(e){const{children:t,config:n}=e,r={value:n};return q.createElement(bg,e,q.createElement(cd.Provider,r,t))}const mg="2.14.11",yg=()=>`wagmi@${mg}`;class gg extends ct{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return yg()}}class wg extends gg{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Re(e={}){const t=e.config??q.useContext(cd);if(!t)throw new wg;return t}var $s={exports:{}},Bs={},Ts={exports:{}},Os={};var Za;function vg(){if(Za)return Os;Za=1;var e=fc();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,l){var h=l(),p=r({inst:{value:h,getSnapshot:l}}),b=p[0].inst,g=p[1];return o(function(){b.value=h,b.getSnapshot=l,c(b)&&g({inst:b})},[d,h,l]),s(function(){return c(b)&&g({inst:b}),d(function(){c(b)&&g({inst:b})})},[d]),i(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Os.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Os}var Ya;function xg(){return Ya||(Ya=1,Ts.exports=vg()),Ts.exports}var Ja;function Eg(){if(Ja)return Bs;Ja=1;var e=fc(),t=xg();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,c=e.useDebugValue;return Bs.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var p=o(null);if(p.current===null){var b={hasValue:!1,value:null};p.current=b}else b=p.current;p=a(function(){function E(w){if(!P){if(P=!0,v=w,w=l(w),h!==void 0&&b.hasValue){var x=b.value;if(h(x,w))return y=x}return y=w}if(x=y,r(v,w))return x;var I=l(w);return h!==void 0&&h(x,I)?(v=w,x):(v=w,y=I)}var P=!1,v,y,m=d===void 0?null:d;return[function(){return E(f())},m===null?void 0:function(){return E(m())}]},[f,d,l,h]);var g=s(u,p[0],p[1]);return i(function(){b.hasValue=!0,b.value=g},[g]),c(g),g},Bs}var Xa;function Pg(){return Xa||(Xa=1,$s.exports=Eg()),$s.exports}var ud=Pg();const Rs=e=>typeof e=="object"&&!Array.isArray(e);function Ig(e,t,n=t,r=Bt){const s=q.useRef([]),o=ud.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,a)=>{if(Rs(i)&&Rs(a)&&s.current.length){for(const c of s.current)if(!r(i[c],a[c]))return!1;return!0}return r(i,a)});return q.useMemo(()=>{if(Rs(o)){const i={...o};let a={};for(const[c,u]of Object.entries(i))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,a),i}return o},[o])}function D6(e={}){const t=Re(e);return Ig(n=>Hy(t,{onChange:n}),()=>od(t))}var fn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in globalThis;function ge(){}function Sg(e,t){return typeof e=="function"?e(t):e}function Eo(e){return typeof e=="number"&&e>=0&&e!==1/0}function fd(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wt(e,t){return typeof e=="function"?e(t):e}function Ie(e,t){return typeof e=="function"?e(t):e}function ec(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==$i(i,t.options))return!1}else if(!Un(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function tc(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ot(t.options.mutationKey)!==Ot(o))return!1}else if(!Un(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function $i(e,t){return(t?.queryKeyHashFn||Ot)(e)}function Ot(e){return JSON.stringify(e,(t,n)=>Po(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Un(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Un(e[n],t[n])):!1}function Bi(e,t){if(e===t)return e;const n=nc(e)&&nc(t);if(n||Po(e)&&Po(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const f=n?u:o[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=Bi(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Ir(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Po(e){if(!rc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ag(e){return new Promise(t=>{setTimeout(t,e)})}function Io(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Bi(e,t):t}function Cg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $g(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ti=Symbol();function dd(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ti?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bg=class extends fn{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Tt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Oi=new Bg,Tg=class extends fn{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Tt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Sr=new Tg;function So(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Og(e){return Math.min(1e3*2**e,3e4)}function ld(e){return(e??"online")==="online"?Sr.isOnline():!0}var hd=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ks(e){return e instanceof hd}function pd(e){let t=!1,n=0,r=!1,s;const o=So(),i=b=>{r||(l(new hd(b)),e.abort?.())},a=()=>{t=!0},c=()=>{t=!1},u=()=>Oi.isFocused()&&(e.networkMode==="always"||Sr.isOnline())&&e.canRun(),f=()=>ld(e.networkMode)&&e.canRun(),d=b=>{r||(r=!0,e.onSuccess?.(b),s?.(),o.resolve(b))},l=b=>{r||(r=!0,e.onError?.(b),s?.(),o.reject(b))},h=()=>new Promise(b=>{s=g=>{(r||u())&&b(g)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),p=()=>{if(r)return;let b;const g=n===0?e.initialPromise:void 0;try{b=g??e.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(d).catch(E=>{if(r)return;const P=e.retry??(Tt?0:3),v=e.retryDelay??Og,y=typeof v=="function"?v(n,E):v,m=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,E);if(t||!m){l(E);return}n++,e.onFail?.(n,E),Ag(y).then(()=>u()?void 0:h()).then(()=>{t?l(E):p()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?p():h().then(p),o)}}function Rg(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var K=Rg(),bd=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Eo(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},kg=class extends bd{#e;#t;#r;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Fg(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Io(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ge).catch(ge):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ti||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fd(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const a=dd(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const i=a=>{ks(a)&&a.silent||this.#s({type:"error",error:a}),ks(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#n=pd({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(c){i(c);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:i,onFail:(a,c)=>{this.#s({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...md(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return ks(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),K.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function md(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ld(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Fg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ng=class extends fn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??$i(r,t);let o=this.get(s);return o||(o=new kg({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){K.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ec(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>ec(e,n)):t}notify(e){K.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){K.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){K.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mg=class extends bd{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||yd(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=pd({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),K.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function yd(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _g=class extends fn{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new Mg({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=lr(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=lr(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(lr(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(lr(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){K.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>tc(t,n))}findAll(e={}){return this.getAll().filter(t=>tc(e,t))}notify(e){K.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return K.batch(()=>Promise.all(e.map(t=>t.continue().catch(ge))))}};function lr(e){return e.options.scope?.id??String(e.mutationId)}function sc(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const d=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},l=dd(t.options,t.fetchOptions),h=async(p,b,g)=>{if(f)return Promise.reject();if(b==null&&p.pages.length)return Promise.resolve(p);const E={queryKey:t.queryKey,pageParam:b,direction:g?"backward":"forward",meta:t.options.meta};d(E);const P=await l(E),{maxPages:v}=t.options,y=g?$g:Cg;return{pages:y(p.pages,P,v),pageParams:y(p.pageParams,b,v)}};if(s&&o.length){const p=s==="backward",b=p?zg:oc,g={pages:o,pageParams:i},E=b(r,g);a=await h(g,E,p)}else{const p=e??o.length;do{const b=c===0?i[0]??r.initialPageParam:oc(r,a);if(c>0&&b==null)break;a=await h(a,b),c++}while(c<p)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function oc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function zg(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var G6=class{#e;#t;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new Ng,this.#t=e.mutationCache||new _g,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=Oi.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Sr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Wt(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,i=Sg(t,o);if(i!==void 0)return this.#e.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return K.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;K.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return K.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=K.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ge).catch(ge)}invalidateQueries(e={},t={}){return K.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=K.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ge)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ge)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Wt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ge).catch(ge)}fetchInfiniteQuery(e){return e.behavior=sc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ge).catch(ge)}ensureInfiniteQueryData(e){return e.behavior=sc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ot(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Un(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(Ot(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{Un(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$i(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ti&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},jg=class extends fn{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=So(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#b;#l;#h;#u;#f;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ic(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ao(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ao(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#x(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ie(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),n._defaulted&&!Ir(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&ac(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),s&&(this.#t!==r||Ie(this.options.enabled,this.#t)!==Ie(n.enabled,this.#t)||Wt(this.options.staleTime,this.#t)!==Wt(n.staleTime,this.#t))&&this.#m();const o=this.#y();s&&(this.#t!==r||Ie(this.options.enabled,this.#t)!==Ie(n.enabled,this.#t)||o!==this.#c)&&this.#g(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Ug(this,n)&&(this.#n=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ge)),t}#m(){this.#v();const e=Wt(this.options.staleTime,this.#t);if(Tt||this.#n.isStale||!Eo(e))return;const n=fd(this.#n.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#x(),this.#c=e,!(Tt||Ie(this.options.enabled,this.#t)===!1||!Eo(this.#c)||this.#c===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||Oi.isFocused())&&this.#d()},this.#c))}#w(){this.#m(),this.#g(this.#y())}#v(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#x(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#n,o=this.#i,i=this.#o,c=e!==n?e.state:this.#r,{state:u}=e;let f={...u},d=!1,l;if(t._optimisticResults){const x=this.hasListeners(),I=!x&&ic(e,t),C=x&&ac(e,n,t,r);(I||C)&&(f={...f,...md(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:b}=f;if(t.select&&f.data!==void 0)if(s&&f.data===o?.data&&t.select===this.#b)l=this.#l;else try{this.#b=t.select,l=t.select(f.data),l=Io(s?.data,l,t),this.#l=l,this.#a=null}catch(x){this.#a=x}else l=f.data;if(t.placeholderData!==void 0&&l===void 0&&b==="pending"){let x;if(s?.isPlaceholderData&&t.placeholderData===i?.placeholderData)x=s.data;else if(x=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&x!==void 0)try{x=t.select(x),this.#a=null}catch(I){this.#a=I}x!==void 0&&(b="success",l=Io(s?.data,x,t),d=!0)}this.#a&&(h=this.#a,l=this.#l,p=Date.now(),b="error");const g=f.fetchStatus==="fetching",E=b==="pending",P=b==="error",v=E&&g,y=l!==void 0,w={status:b,fetchStatus:f.fetchStatus,isPending:E,isSuccess:b==="success",isError:P,isInitialLoading:v,isLoading:v,data:l,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!E,isLoadingError:P&&!y,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:P&&y,isStale:Ri(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const x=S=>{w.status==="error"?S.reject(w.error):w.data!==void 0&&S.resolve(w.data)},I=()=>{const S=this.#s=w.promise=So();x(S)},C=this.#s;switch(C.status){case"pending":e.queryHash===n.queryHash&&x(C);break;case"fulfilled":(w.status==="error"||w.data!==C.value)&&I();break;case"rejected":(w.status!=="error"||w.error!==C.reason)&&I();break}}return w}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Ir(n,t))return;this.#n=n;const r={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&a.has(u)})};e?.listeners!==!1&&s()&&(r.listeners=!0),this.#P({...r,...e})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#P(e){K.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Lg(e,t){return Ie(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ic(e,t){return Lg(e,t)||e.state.data!==void 0&&Ao(e,t,t.refetchOnMount)}function Ao(e,t,n){if(Ie(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ri(e,t)}return!1}function ac(e,t,n,r){return(e!==t||Ie(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ri(e,n)}function Ri(e,t){return Ie(t.enabled,e)!==!1&&e.isStaleByTime(Wt(t.staleTime,e))}function Ug(e,t){return!Ir(e.getCurrentResult(),t)}var qg=class extends fn{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Ir(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&Ot(t.mutationKey)!==Ot(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??yd();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){K.batch(()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,t,n),this.#n.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,n),this.#n.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(t=>{t(this.#t)})})}};function Dg(e,t){return Bi(e,t)}function Gg(e){return JSON.stringify(e,(t,n)=>Hg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Hg(e){if(!cc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!cc(n)||!n.hasOwnProperty("isPrototypeOf"))}function cc(e){return Object.prototype.toString.call(e)==="[object Object]"}function ki(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:d,queryKeyHashFn:l,retry:h,retryDelay:p,structuralSharing:b,getPreviousPageParam:g,getNextPageParam:E,initialPageParam:P,_optimisticResults:v,enabled:y,notifyOnChangeProps:m,placeholderData:w,refetchInterval:x,refetchIntervalInBackground:I,refetchOnMount:C,refetchOnReconnect:S,refetchOnWindowFocus:$,retryOnMount:k,select:F,staleTime:z,suspense:O,throwOnError:T,config:N,connector:R,query:_,...j}=e;return j}function Vg(e){return{mutationFn(t){return _y(e,t)},mutationKey:["connect"]}}function Wg(e){return{mutationFn(t){return jy(e,t)},mutationKey:["disconnect"]}}function Kg(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...o}=n[1];if(!r)throw new Error("address is required");return await qy(e,{...o,address:r})??null},queryKey:Qg(t)}}function Qg(e={}){return["balance",ki(e)]}function Zg(e,t={}){return{async queryFn({queryKey:n}){const r=t.abi;if(!r)throw new Error("abi is required");const{functionName:s,scopeKey:o,...i}=n[1],a=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return id(e,{abi:r,functionName:s,args:i.args,...a,...i})},queryKey:Yg(t)}}function Yg(e={}){const{abi:t,...n}=e;return["readContract",ki(n)]}function Jg(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return Zy(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:Xg(t)}}function Xg(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",ki(n)]}function e6(e){return{mutationFn(t){return Yy(e,t)},mutationKey:["writeContract"]}}var gd=q.createContext(void 0),wd=e=>{const t=q.useContext(gd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H6=({client:e,children:t})=>(q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Sd.jsx(gd.Provider,{value:e,children:t})),vd=q.createContext(!1),t6=()=>q.useContext(vd);vd.Provider;function n6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var r6=q.createContext(n6()),s6=()=>q.useContext(r6);function xd(e,t){return typeof e=="function"?e(...t):!!e}function Co(){}var o6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},i6=e=>{q.useEffect(()=>{e.clearReset()},[e])},a6=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&xd(n,[e.error,r]),c6=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},u6=(e,t)=>e.isLoading&&e.isFetching&&!t,f6=(e,t)=>e?.suspense&&t.isPending,uc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function d6(e,t,n){const r=wd(),s=t6(),o=s6(),i=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",c6(i),o6(i,o),i6(o);const a=!r.getQueryCache().get(i.queryHash),[c]=q.useState(()=>new t(r,i)),u=c.getOptimisticResult(i);if(q.useSyncExternalStore(q.useCallback(f=>{const d=s?Co:c.subscribe(K.batchCalls(f));return c.updateResult(),d},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),q.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),f6(i,u))throw uc(i,c,o);if(a6({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!Tt&&u6(u,s)&&(a?uc(i,c,o):r.getQueryCache().get(i.queryHash)?.promise)?.catch(Co).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function l6(e,t){return d6(e,jg)}function Fi(e,t){const n=wd(),[r]=q.useState(()=>new qg(n,e));q.useEffect(()=>{r.setOptions(e)},[r,e]);const s=q.useSyncExternalStore(q.useCallback(i=>r.subscribe(K.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=q.useCallback((i,a)=>{r.mutate(i,a).catch(Co)},[r]);if(s.error&&xd(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function Ni(e){const t=l6({...e,queryKeyHashFn:Gg});return t.queryKey=e.queryKey,t}function Mi(e={}){const t=Re(e);return q.useSyncExternalStore(n=>Vy(t,{onChange:n}),()=>Ha(t),()=>Ha(t))}function V6(e={}){const{address:t,query:n={}}=e,r=Re(e),s=Mi({config:r}),o=Kg(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Ni({...n,...o,enabled:i})}function h6(e={}){const t=Re(e);return q.useSyncExternalStore(n=>Ky(t,{onChange:n}),()=>Va(t),()=>Va(t))}function W6(e={}){const{mutation:t}=e,n=Re(e),r=Vg(n),{mutate:s,mutateAsync:o,...i}=Fi({...t,...r});return q.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:o,connectors:h6({config:n})}}function p6(e={}){const t=Re(e);return q.useSyncExternalStore(n=>Wy(t,{onChange:n}),()=>go(t),()=>go(t))}function K6(e={}){const{mutation:t}=e,n=Re(e),r=Wg(n),{mutate:s,mutateAsync:o,...i}=Fi({...t,...r});return{...i,connectors:p6({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:o}}function Q6(e={}){const t=Re(e);return ud.useSyncExternalStoreWithSelector(n=>Qy(t,{onChange:n}),()=>wo(t,e),()=>wo(t,e),n=>n,(n,r)=>n?.uid===r?.uid)}function Z6(e={}){const{abi:t,address:n,functionName:r,query:s={}}=e,o=e.code,i=Re(e),a=Mi({config:i}),c=Zg(i,{...e,chainId:e.chainId??a}),u=!!((n||o)&&t&&r&&(s.enabled??!0));return Ni({...s,...c,enabled:u,structuralSharing:s.structuralSharing??Dg})}function Y6(e={}){const{hash:t,query:n={}}=e,r=Re(e),s=Mi({config:r}),o=Jg(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Ni({...n,...o,enabled:i})}function J6(e={}){const{mutation:t}=e,n=Re(e),r=e6(n),{mutate:s,mutateAsync:o,...i}=Fi({...t,...r});return{...i,writeContract:s,writeContractAsync:o}}export{K6 as A,V6 as B,yo as C,J6 as D,Y6 as E,Z6 as F,Mi as G,Q6 as H,ce as I,gr as J,l6 as K,Ty as L,$y as M,G6 as Q,Et as S,ee as U,q6 as W,dc as _,rt as a,Fb as b,z6 as c,L6 as d,F6 as e,k6 as f,Xe as g,of as h,pe as i,Sd as j,B6 as k,T6 as l,Mr as m,B as n,N6 as o,Ee as p,It as q,Z as r,js as s,$e as t,M6 as u,j6 as v,U6 as w,H6 as x,D6 as y,W6 as z};
