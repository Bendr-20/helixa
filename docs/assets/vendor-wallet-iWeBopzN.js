import{g as Wl,r as D,a as Uc}from"./vendor-react-NLnOsXgy.js";var Os={exports:{}},zn={};var Pa;function Kl(){if(Pa)return zn;Pa=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var i=null;if(o!==void 0&&(i=""+o),s.key!==void 0&&(i=""+s.key),"key"in s){o={};for(var a in s)a!=="key"&&(o[a]=s[a])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:i,ref:s!==void 0?s:null,props:o}}return zn.Fragment=t,zn.jsx=n,zn.jsxs=n,zn}var Ia;function Ql(){return Ia||(Ia=1,Os.exports=Kl()),Os.exports}var Zl=Ql();const Yl="modulepreload",Jl=function(e){return"/"+e},Sa={},qc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Jl(u),u in Sa)return;Sa[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Yl,f||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((h,b)=>{l.addEventListener("load",h),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Xl="1.2.3";let he=class lo extends Error{constructor(t,n={}){const r=n.cause instanceof lo?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof lo&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Xl}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function et(e,t){return e.exec(t)?.groups}const Dc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Hc=/^\(.+?\).*?$/,Aa=/^tuple(?<array>(\[(\d*)\])*)$/;function ho(e){let t=e.type;if(Aa.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=ho(o),s<n-1&&(t+=", ")}const r=et(Aa,e.type);return t+=`)${r?.array||""}`,ho({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Yt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=ho(s),r!==n-1&&(t+=", ")}return t}function Sr(e){return e.type==="function"?`function ${e.name}(${Yt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Yt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Yt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Yt(e.inputs)})`:e.type==="constructor"?`constructor(${Yt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Vc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function e0(e){return Vc.test(e)}function t0(e){return et(Vc,e)}const Wc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function n0(e){return Wc.test(e)}function r0(e){return et(Wc,e)}const Kc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function s0(e){return Kc.test(e)}function o0(e){return et(Kc,e)}const Qc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Zr(e){return Qc.test(e)}function i0(e){return et(Qc,e)}const Zc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function a0(e){return Zc.test(e)}function c0(e){return et(Zc,e)}const Yc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function u0(e){return Yc.test(e)}function f0(e){return et(Yc,e)}const d0=/^receive\(\) external payable$/;function l0(e){return d0.test(e)}const $a=new Set(["memory","indexed","storage","calldata"]),h0=new Set(["indexed"]),po=new Set(["calldata","memory","storage"]);class Jc extends he{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Xc extends he{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class p0 extends he{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class eu extends he{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class tu extends he{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class nu extends he{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ru extends he{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class su extends he{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ou extends he{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class zt extends he{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class iu extends he{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class au extends he{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class cu extends he{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class uu extends he{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function b0(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Rs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function bo(e,t={}){if(s0(e))return y0(e,t);if(n0(e))return m0(e,t);if(e0(e))return g0(e,t);if(a0(e))return w0(e,t);if(u0(e))return v0(e);if(l0(e))return{type:"receive",stateMutability:"payable"};throw new iu({signature:e})}function y0(e,t={}){const n=o0(e);if(!n)throw new zt({signature:e,type:"function"});const r=be(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ye(r[a],{modifiers:po,structs:t,type:"function"}));const i=[];if(n.returns){const a=be(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ye(a[u],{modifiers:po,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function m0(e,t={}){const n=r0(e);if(!n)throw new zt({signature:e,type:"event"});const r=be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ye(r[i],{modifiers:h0,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function g0(e,t={}){const n=t0(e);if(!n)throw new zt({signature:e,type:"error"});const r=be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ye(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function w0(e,t={}){const n=c0(e);if(!n)throw new zt({signature:e,type:"constructor"});const r=be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ye(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function v0(e){const t=f0(e);if(!t)throw new zt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const x0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,E0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,P0=/^u?int$/;function Ye(e,t){const n=b0(e,t?.type,t?.structs);if(Rs.has(n))return Rs.get(n);const r=Hc.test(e),s=et(r?E0:x0,e);if(!s)throw new tu({param:e});if(s.name&&S0(s.name))throw new nu({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=be(s.type),l=[],h=d.length;for(let b=0;b<h;b++)l.push(Ye(d[b],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(P0.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!fu(c))throw new p0({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new ru({param:e,type:t?.type,modifier:s.modifier});if(po.has(s.modifier)&&!A0(c,!!s.array))throw new su({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return Rs.set(n,f),f}function be(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?be(a,[...t,n.trim()]):be(a,t,`${n}${i}`,r);case"(":return be(a,t,`${n}${i}`,r+1);case")":return be(a,t,`${n}${i}`,r-1);default:return be(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new uu({current:n,depth:r});return t.push(n.trim()),t}function fu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Dc.test(e)||Gc.test(e)}const I0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function S0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Dc.test(e)||Gc.test(e)||I0.test(e)}function A0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ei(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Zr(a))continue;const c=i0(a);if(!c)throw new zt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=Ye(b,{type:"struct"});f.push(p)}if(!f.length)throw new au({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=du(c,t)}return r}const $0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function du(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Hc.test(i.type))r.push(i);else{const c=et($0,i.type);if(!c?.type)throw new ou({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new cu({type:f});r.push({...i,type:`tuple${u??""}`,components:du(t[f],t,new Set([...n,f]))})}else if(fu(f))r.push(i);else throw new Xc({type:f})}}return r}function ti(e){const t=ei(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Zr(o)||n.push(bo(o,t))}return n}function yo(e){let t;if(typeof e=="string")t=bo(e);else{const n=ei(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Zr(o)){t=bo(o,n);break}}}if(!t)throw new Jc({signature:e});return t}function mo(e){const t=[];if(typeof e=="string"){const n=be(e),r=n.length;for(let s=0;s<r;s++)t.push(Ye(n[s],{modifiers:$a}))}else{const n=ei(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Zr(o))continue;const i=be(o),a=i.length;for(let c=0;c<a;c++)t.push(Ye(i[c],{modifiers:$a,structs:n}))}}if(t.length===0)throw new eu({params:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Te(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Pu(e.type);return`${e.name}(${Yr(e.inputs,{includeName:t})})`}function Yr(e,{includeName:t=!1}={}){return e?e.map(n=>C0(n,{includeName:t})).join(t?", ":","):""}function C0(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Yr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Pe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function H(e){return Pe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const lu="2.46.2";let ks={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${lu}`},A=class go extends Error{constructor(t,n={}){const r=n.cause instanceof go?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof go&&n.cause.docsPath||n.docsPath,o=ks.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...ks.version?[`Version: ${ks.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=lu}walk(t){return hu(this,t)}};function hu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?hu(e.cause,t):t?null:e}class pu extends A{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class wo extends A{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ni extends A{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Yr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Cn extends A{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bu extends A{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class yu extends A{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${H(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class ri extends A{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class mu extends A{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class vo extends A{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class si extends A{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class gu extends A{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class wu extends A{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class xo extends A{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class St extends A{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class oi extends A{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class vu extends A{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class B0 extends A{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Te(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Te(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let ii=class extends A{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Dn extends A{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Yr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Jr extends A{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Te(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class xu extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Eu extends A{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let ai=class extends A{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Pu extends A{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Iu extends A{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Su extends A{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let ci=class extends A{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ui=class extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ca extends A{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Fe(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ke(e,{dir:t,size:n}):Au(e,{dir:t,size:n})}function Ke(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ui({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Au(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ui({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let Xr=class extends A{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},$u=class extends A{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Cu extends A{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Bu=class extends A{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function de(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Se(e,{size:t}){if(H(e)>t)throw new Bu({givenSize:H(e),maxSize:t})}function le(e,t={}){const{signed:n}=t;t.size&&Se(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Tu(e,t={}){let n=e;if(t.size&&(Se(n,{size:t.size}),n=de(n)),de(n)==="0x00")return!1;if(de(n)==="0x01")return!0;throw new Cu(n)}function ye(e,t={}){const n=le(e,t),r=Number(n);if(!Number.isSafeInteger(r))throw new Xr({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return r}function Ou(e,t={}){let n=ge(e);return t.size&&(Se(n,{size:t.size}),n=de(n,{dir:"right"})),new TextDecoder().decode(n)}const T0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function me(e,t={}){return typeof e=="number"||typeof e=="bigint"?C(e,t):typeof e=="string"?ut(e,t):typeof e=="boolean"?es(e,t):W(e,t)}function es(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Se(n,{size:t.size}),Fe(n,{size:t.size})):n}function W(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=T0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Se(r,{size:t.size}),Fe(r,{dir:"right",size:t.size})):r}function C(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Xr({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fe(a,{size:r}):a}const O0=new TextEncoder;function ut(e,t={}){const n=O0.encode(e);return W(n,t)}const R0=new TextEncoder;function jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?ku(e,t):typeof e=="boolean"?Ru(e,t):Pe(e)?ge(e,t):at(e,t)}function Ru(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Se(n,{size:t.size}),Fe(n,{size:t.size})):n}const Ue={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ba(e){if(e>=Ue.zero&&e<=Ue.nine)return e-Ue.zero;if(e>=Ue.A&&e<=Ue.F)return e-(Ue.A-10);if(e>=Ue.a&&e<=Ue.f)return e-(Ue.a-10)}function ge(e,t={}){let n=e;t.size&&(Se(n,{size:t.size}),n=Fe(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Ba(r.charCodeAt(a++)),u=Ba(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new A(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function ku(e,t){const n=C(e,t);return ge(n)}function at(e,t={}){const n=R0.encode(e);return typeof t.size=="number"?(Se(n,{size:t.size}),Fe(n,{dir:"right",size:t.size})):n}const hr=BigInt(2**32-1),Ta=BigInt(32);function k0(e,t=!1){return t?{h:Number(e&hr),l:Number(e>>Ta&hr)}:{h:Number(e>>Ta&hr)|0,l:Number(e&hr)|0}}function F0(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=k0(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const N0=(e,t,n)=>e<<n|t>>>32-n,M0=(e,t,n)=>t<<n|e>>>32-n,_0=(e,t,n)=>t<<n-32|e>>>64-n,z0=(e,t,n)=>e<<n-32|t>>>64-n,Kt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function j0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function At(e,...t){if(!j0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function L0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Gn(e.outputLen),Gn(e.blockLen)}function on(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fu(e,t){At(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function U0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function an(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Fs(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ke(e,t){return e<<32-t|e>>>t}const q0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function D0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function G0(e){for(let t=0;t<e.length;t++)e[t]=D0(e[t]);return e}const Oa=q0?e=>e:G0;function H0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ts(e){return typeof e=="string"&&(e=H0(e)),At(e),e}function V0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];At(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let fi=class{};function Nu(e){const t=r=>e().update(ts(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function W0(e=32){if(Kt&&typeof Kt.getRandomValues=="function")return Kt.getRandomValues(new Uint8Array(e));if(Kt&&typeof Kt.randomBytes=="function")return Uint8Array.from(Kt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const K0=BigInt(0),jn=BigInt(1),Q0=BigInt(2),Z0=BigInt(7),Y0=BigInt(256),J0=BigInt(113),Mu=[],_u=[],zu=[];for(let e=0,t=jn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Mu.push(2*(5*r+n)),_u.push((e+1)*(e+2)/2%64);let s=K0;for(let o=0;o<7;o++)t=(t<<jn^(t>>Z0)*J0)%Y0,t&Q0&&(s^=jn<<(jn<<BigInt(o))-jn);zu.push(s)}const ju=F0(zu,!0),X0=ju[0],eh=ju[1],Ra=(e,t,n)=>n>32?_0(e,t,n):N0(e,t,n),ka=(e,t,n)=>n>32?z0(e,t,n):M0(e,t,n);function th(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Ra(u,f,1)^n[a],l=ka(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=_u[i],c=Ra(s,o,a),u=ka(s,o,a),f=Mu[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=X0[r],e[1]^=eh[r]}an(n)}let nh=class Lu extends fi{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Gn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=U0(this.state)}clone(){return this._cloneInto()}keccak(){Oa(this.state32),th(this.state32,this.rounds),Oa(this.state32),this.posOut=0,this.pos=0}update(t){on(this),t=ts(t),At(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){on(this,!1),At(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Gn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Fu(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,an(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Lu(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const rh=(e,t,n)=>Nu(()=>new nh(t,e,n)),sh=rh(1,136,256/8);function Y(e,t){const n=t||"hex",r=sh(Pe(e,{strict:!1})?jt(e):e);return n==="bytes"?r:me(r)}const oh=e=>Y(jt(e));function ih(e){return oh(e)}function ah(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new A("Unable to normalize signature.");return s}const Un=e=>{const t=typeof e=="string"?e:Sr(e);return ah(t)};function Ar(e){return ih(Un(e))}const cn=Ar;let se=class extends A{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Lt=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ns=new Lt(8192);function Bn(e,t){if(Ns.has(`${e}.${t}`))return Ns.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Y(at(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Ns.set(`${e}.${t}`,o),o}function We(e,t){if(!Q(e,{strict:!1}))throw new se({address:e});return Bn(e,t)}const ch=/^0x[a-fA-F0-9]{40}$/,Ms=new Lt(8192);function Q(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Ms.has(r))return Ms.get(r);const s=ch.test(e)?e.toLowerCase()===e?!0:n?Bn(e)===e:!0:!1;return Ms.set(r,s),s}function J(e){return typeof e[0]=="string"?pe(e):Uu(e)}function Uu(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function pe(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ft(e,t,n,{strict:r}={}){return Pe(e,{strict:!1})?$r(e,t,n,{strict:r}):di(e,t,n,{strict:r})}function qu(e,t){if(typeof t=="number"&&t>0&&t>H(e)-1)throw new ci({offset:t,position:"start",size:H(e)})}function Du(e,t,n){if(typeof t=="number"&&typeof n=="number"&&H(e)!==n-t)throw new ci({offset:n,position:"end",size:H(e)})}function di(e,t,n,{strict:r}={}){qu(e,t);const s=e.slice(t,n);return r&&Du(s,t,n),s}function $r(e,t,n,{strict:r}={}){qu(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Du(s,t,n),s}const uh=/^(.*)\[([0-9]*)\]$/,Gu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,li=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ze(e,t){if(e.length!==t.length)throw new ri({expectedLength:e.length,givenLength:t.length});const n=fh({params:e,values:t}),r=pi(n);return r.length===0?"0x":r}function fh({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(hi({param:e[r],value:t[r]}));return n}function hi({param:e,value:t}){const n=bi(e.type);if(n){const[r,s]=n;return lh(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return mh(t,{param:e});if(e.type==="address")return dh(t);if(e.type==="bool")return ph(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=li.exec(e.type)??[];return bh(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return hh(t,{param:e});if(e.type==="string")return yh(t);throw new xu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function pi(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=H(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(C(t+s,{size:32})),r.push(a),s+=H(a)):n.push(a)}return J([...n,...r])}function dh(e){if(!Q(e))throw new se({address:e});return{dynamic:!1,encoded:Ke(e.toLowerCase())}}function lh(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new ai(e);if(!r&&e.length!==t)throw new bu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=hi({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=pi(o);if(r){const a=C(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?J([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:J(o.map(({encoded:i})=>i))}}function hh(e,{param:t}){const[,n]=t.type.split("bytes"),r=H(e);if(!n){let s=e;return r%32!==0&&(s=Ke(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:J([Ke(C(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new yu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ke(e,{dir:"right"})}}function ph(e){if(typeof e!="boolean")throw new A(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ke(es(e))}}function bh(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Xr({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:C(e,{size:32,signed:t})}}function yh(e){const t=ut(e),n=Math.ceil(H(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ke(ft(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:J([Ke(C(H(t),{size:32})),...r])}}function mh(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=hi({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?pi(r):J(r.map(({encoded:s})=>s))}}function bi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const $t=e=>ft(Ar(e),0,4);function yt(e){const{abi:t,args:n=[],name:r}=e,s=Pe(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?$t(a)===r:a.type==="event"?cn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Eo(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Hu(a.inputs,i.inputs,n);if(u)throw new B0({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Eo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Q(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>n==="object"&&Eo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Eo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Hu(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Hu(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Q(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Q(n[r],{strict:!1}):!1)return i}}const Fa="/docs/contract/encodeEventTopics";function Tn(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=yt({abi:t,name:n});if(!c)throw new xo(n,{docsPath:Fa});s=c}if(s.type!=="event")throw new xo(void 0,{docsPath:Fa});const o=Te(s),i=cn(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,h)=>Na({param:f,value:u[d][h]})):typeof u[d]<"u"&&u[d]!==null?Na({param:f,value:u[d]}):null)??[])}return[i,...a]}function Na({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Y(jt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Su(e.type);return ze([e],[t])}function ns(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Vu(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=ns(e,{method:"eth_newFilter"}),f=o?Tn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?C(i):i,toBlock:typeof c=="bigint"?C(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function G(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ma="/docs/contract/encodeFunctionData";function Wu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=yt({abi:t,args:n,name:r});if(!o)throw new St(r,{docsPath:Ma});s=o}if(s.type!=="function")throw new St(void 0,{docsPath:Ma});return{abi:[s],functionName:$t(Te(s))}}function oe(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Wu(e),s=n[0],o=r,i="inputs"in s&&s.inputs?ze(s.inputs,t??[]):void 0;return pe([o,i??"0x"])}const gh={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ku={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},wh={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let _a=class extends A{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Qu=class extends A{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},vh=class extends A{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const xh={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Qu({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new _a({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new _a({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function yi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(xh);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Zu(e,t={}){typeof t.size<"u"&&Se(e,{size:t.size});const n=W(e,t);return le(n,t)}function Yu(e,t={}){let n=e;if(typeof t.size<"u"&&(Se(n,{size:t.size}),n=de(n)),n.length>1||n[0]>1)throw new $u(n);return!!n[0]}function Ne(e,t={}){typeof t.size<"u"&&Se(e,{size:t.size});const n=W(e,t);return ye(n,t)}function Ju(e,t={}){let n=e;return typeof t.size<"u"&&(Se(n,{size:t.size}),n=de(n,{dir:"right"})),new TextDecoder().decode(n)}function On(e,t){const n=typeof t=="string"?ge(t):t,r=yi(n);if(H(n)===0&&e.length>0)throw new Cn;if(H(t)&&H(t)<32)throw new ni({data:typeof t=="string"?t:W(t),params:e,size:H(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=tn(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function tn(e,t,{staticPosition:n}){const r=bi(t.type);if(r){const[s,o]=r;return Ph(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return $h(e,t,{staticPosition:n});if(t.type==="address")return Eh(e);if(t.type==="bool")return Ih(e);if(t.type.startsWith("bytes"))return Sh(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ah(e,t);if(t.type==="string")return Ch(e,{staticPosition:n});throw new Eu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const za=32,Po=32;function Eh(e){const t=e.readBytes(32);return[Bn(W(di(t,-20))),32]}function Ph(e,t,{length:n,staticPosition:r}){if(!n){const i=Ne(e.readBytes(Po)),a=r+i,c=a+za;e.setPosition(a);const u=Ne(e.readBytes(za)),f=Hn(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=tn(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(Hn(t)){const i=Ne(e.readBytes(Po)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=tn(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=tn(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Ih(e){return[Yu(e.readBytes(32),{size:32}),32]}function Sh(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ne(e.readBytes(32));e.setPosition(n+i);const a=Ne(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[W(c),32]}return[W(e.readBytes(Number.parseInt(s,10),32)),32]}function Ah(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Zu(s,{signed:n}):Ne(s,{signed:n}),32]}function $h(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Hn(t)){const i=Ne(e.readBytes(Po)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=tn(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=tn(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function Ch(e,{staticPosition:t}){const n=Ne(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ne(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Ju(de(o));return e.setPosition(t+32),[i,32]}function Hn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Hn);const n=bi(e.type);return!!(n&&Hn({...e,type:n[1]}))}function mi(e){const{abi:t,data:n}=e,r=ft(n,0,4);if(r==="0x")throw new Cn;const o=[...t||[],Ku,wh].find(i=>i.type==="error"&&r===$t(Te(i)));if(!o)throw new si(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?On(o.inputs,ft(n,4)):void 0,errorName:o.name}}const V=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Xu({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?V(t[o]):t[o]}`).join(", ")})`}const gi={gwei:9,wei:18},ef={ether:-9,wei:9};function wi(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function rs(e,t="wei"){return wi(e,gi[t])}function ne(e,t="wei"){return wi(e,ef[t])}class tf extends A{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class nf extends A{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ja(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Bh(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ja(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ja(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Yn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class rf extends A{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class sf extends A{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Yn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class of extends A{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class af extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Yn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:d,value:typeof l<"u"&&`${rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class vi extends A{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class xi extends A{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class cf extends A{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class uf extends A{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Th=e=>e,Jn=e=>e;class Ei extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){const b=n?G(n):void 0;let p=Yn({from:b?.address,to:d,value:typeof l<"u"&&`${rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});h&&(p+=`
${Bh(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Pi extends A{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=yt({abi:n,args:r,name:i}),u=c?Xu({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Te(c,{includeName:!0}):void 0,d=Yn({address:s&&Th(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Cr extends A{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=mi({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=gh[h]}else{const h=f?Te(f,{includeName:!0}):void 0,b=f&&l?Xu({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof si&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class ff extends A{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class df extends A{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Xn extends A{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ct extends A{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Jn(i)}`,t&&`Request body: ${V(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class ss extends A{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Jn(r)}`,`Request body: ${V(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Io extends A{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Jn(n)}`,`Request body: ${V(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Oh=-1;class ie extends A{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof ss?t.code:n??Oh}}class ae extends ie{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class un extends ie{constructor(t){super(t,{code:un.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(un,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class fn extends ie{constructor(t){super(t,{code:fn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class dn extends ie{constructor(t,{method:n}={}){super(t,{code:dn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ln extends ie{constructor(t){super(t,{code:ln.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class dt extends ie{constructor(t){super(t,{code:dt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Je extends ie{constructor(t){super(t,{code:Je.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class hn extends ie{constructor(t){super(t,{code:hn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qe extends ie{constructor(t){super(t,{code:Qe.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ct extends ie{constructor(t){super(t,{code:Ct.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ot extends ie{constructor(t,{method:n}={}){super(t,{code:ot.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Bt extends ie{constructor(t){super(t,{code:Bt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class pn extends ie{constructor(t){super(t,{code:pn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class X extends ae{constructor(t){super(t,{code:X.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class bn extends ae{constructor(t){super(t,{code:bn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class yn extends ae{constructor(t,{method:n}={}){super(t,{code:yn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class mn extends ae{constructor(t){super(t,{code:mn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class gn extends ae{constructor(t){super(t,{code:gn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class lt extends ae{constructor(t){super(t,{code:lt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Tt extends ae{constructor(t){super(t,{code:Tt.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class wn extends ae{constructor(t){super(t,{code:wn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class vn extends ae{constructor(t){super(t,{code:vn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class xn extends ae{constructor(t){super(t,{code:xn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class En extends ae{constructor(t){super(t,{code:En.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Pn extends ae{constructor(t){super(t,{code:Pn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ot extends ae{constructor(t){super(t,{code:Ot.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class In extends ae{constructor(t){super(t,{code:In.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(In,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class lf extends ie{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Rh=3;function ht(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Xn?e:e instanceof A?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof Cn?new ff({functionName:o}):[Rh,dt.code].includes(c)&&(u||f||d||l)||c===Je.code&&f==="execution reverted"&&u?new Cr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof ss?f:l??d}):e;return new Pi(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function kh(e){const t=Y(`0x${e.substring(4)}`).substring(26);return Bn(`0x${t}`)}async function hf({hash:e,signature:t}){const n=Pe(e)?e:me(e),{secp256k1:r}=await qc(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>cm);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=La(h);return new r.Signature(le(u),le(f)).addRecoveryBit(b)}const i=Pe(t)?t:me(t);if(H(i)!==65)throw new Error("invalid signature length");const a=ye(`0x${i.slice(130)}`),c=La(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function La(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ii({hash:e,signature:t}){return kh(await hf({hash:e,signature:t}))}function pt(e,t="hex"){const n=pf(e),r=yi(new Uint8Array(n.length));return n.encode(r),t==="hex"?W(r.bytes):r.bytes}function pf(e){return Array.isArray(e)?Fh(e.map(t=>pf(t))):Nh(e)}function Fh(e){const t=e.reduce((s,o)=>s+o.length,0),n=bf(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Nh(e){const t=typeof e=="string"?ge(e):e,n=bf(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function bf(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new A("Length is too large.")}function Mh(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Y(pe(["0x05",pt([t?C(t):"0x",s,n?C(n):"0x"])]));return r==="bytes"?ge(o):o}async function os(e){const{authorization:t,signature:n}=e;return Ii({hash:Mh(t),signature:n??t})}class yf extends A{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const h=Yn({from:n?.address,to:d,value:typeof l<"u"&&`${rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ne(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ne(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ne(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class it extends A{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(it,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class bt extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ne(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Br extends A{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ne(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Tr extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Tr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Or extends A{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Or,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Rr extends A{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class kr extends A{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Fr extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Fr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Nr extends A{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Mr extends A{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Sn extends A{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ne(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ne(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Sn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Rn extends A{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function is(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof A?e.walk(s=>s?.code===it.code):e;return r instanceof A?new it({cause:e,message:r.details}):it.nodeMessage.test(n)?new it({cause:e,message:e.details}):bt.nodeMessage.test(n)?new bt({cause:e,maxFeePerGas:t?.maxFeePerGas}):Br.nodeMessage.test(n)?new Br({cause:e,maxFeePerGas:t?.maxFeePerGas}):Tr.nodeMessage.test(n)?new Tr({cause:e,nonce:t?.nonce}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t?.nonce}):Rr.nodeMessage.test(n)?new Rr({cause:e,nonce:t?.nonce}):kr.nodeMessage.test(n)?new kr({cause:e}):Fr.nodeMessage.test(n)?new Fr({cause:e,gas:t?.gas}):Nr.nodeMessage.test(n)?new Nr({cause:e,gas:t?.gas}):Mr.nodeMessage.test(n)?new Mr({cause:e}):Sn.nodeMessage.test(n)?new Sn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Rn({cause:e})}function _h(e,{docsPath:t,...n}){const r=(()=>{const s=is(e,n);return s instanceof Rn?e:s})();return new yf(r,{docsPath:t,...n})}function kn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function as(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const a of n)delete i[a];return{...i,...r(s,o)}},type:e})}const mf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function je(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=jh(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>W(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=C(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=C(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=C(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=C(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=C(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=C(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=mf[e.type]),typeof e.value<"u"&&(n.value=C(e.value)),n}const zh=as("transactionRequest",je);function jh(e){return e.map(t=>({address:t.address,r:t.r?C(BigInt(t.r)):t.r,s:t.s?C(BigInt(t.s)):t.s,chainId:C(t.chainId),nonce:C(t.nonce),...typeof t.yParity<"u"?{yParity:C(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:C(t.v)}:{}}))}function Ua(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ca({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ca({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Lh(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=C(t)),n!==void 0&&(i.nonce=C(n)),r!==void 0&&(i.state=Ua(r)),s!==void 0){if(i.state)throw new nf;i.stateDiff=Ua(s)}return i}function Si(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Q(n,{strict:!1}))throw new se({address:n});if(t[n])throw new tf({address:n});t[n]=Lh(r)}return t}const Uh=2n**16n-1n,er=2n**256n-1n;function Le(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?G(t):void 0;if(o&&!Q(o.address))throw new se({address:o.address});if(s&&!Q(s))throw new se({address:s});if(n&&n>er)throw new bt({maxFeePerGas:n});if(r&&n&&r>n)throw new Sn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class Ai extends A{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class cs extends A{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class gf extends A{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ne(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class $i extends A{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ci={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function tr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ye(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ye(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ci[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Dh(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const qh=as("transaction",tr);function Dh(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function us(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:tr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Gh=as("block",us);async function Be(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?C(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new $i({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||us)(a,"getBlock")}async function Bi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Hh(e,t){return wf(e,t)}async function wf(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await M(e,Be,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return le(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):M(e,Be,"getBlock")({}),M(e,Bi,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new cs;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Vh(e,t){return So(e,t)}async function So(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new Ai;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await M(e,Be,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new cs;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await wf(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await M(e,Bi,"getGasPrice")({}))}}async function Ti(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?C(r):n]},{dedupe:!!r});return ye(s)}function fs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ge(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>W(o))}function ds(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ge(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>ge(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>W(i))}function Wh(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Kh(e,t,n){return e&t^~e&n}function Qh(e,t,n){return e&t^e&n^t&n}class Zh extends fi{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Fs(this.buffer)}update(t){on(this),t=ts(t),At(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Fs(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){on(this),Fu(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,an(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Wh(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Fs(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const rt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yh=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),st=new Uint32Array(64);class Jh extends Zh{constructor(t=32){super(64,t,8,!1),this.A=rt[0]|0,this.B=rt[1]|0,this.C=rt[2]|0,this.D=rt[3]|0,this.E=rt[4]|0,this.F=rt[5]|0,this.G=rt[6]|0,this.H=rt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)st[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=st[d-15],h=st[d-2],b=ke(l,7)^ke(l,18)^l>>>3,p=ke(h,17)^ke(h,19)^h>>>10;st[d]=p+st[d-7]+b+st[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=ke(a,6)^ke(a,11)^ke(a,25),h=f+l+Kh(a,c,u)+Yh[d]+st[d]|0,p=(ke(r,2)^ke(r,13)^ke(r,22))+Qh(r,s,o)|0;f=u,u=c,c=a,a=i+h|0,i=o,o=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){an(st)}destroy(){this.set(0,0,0,0,0,0,0,0),an(this.buffer)}}const vf=Nu(()=>new Jh),Xh=vf;function xf(e,t){const n=t||"hex",r=Xh(Pe(e,{strict:!1})?jt(e):e);return n==="bytes"?r:me(r)}function Ef(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=xf(t,"bytes");return s.set([n],0),r==="bytes"?s:W(s)}function Oi(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Ef({commitment:o,to:r,version:n}));return s}const qa=6,Pf=32,Ri=4096,If=Pf*Ri,Da=If*qa-1-1*Ri*qa,Sf=1;class ep extends A{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Af extends A{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class tp extends A{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class np extends A{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Sf}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function $f(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ge(e.data):e.data,r=H(n);if(!r)throw new Af;if(r>Da)throw new ep({maxSize:Da,size:r});const s=[];let o=!0,i=0;for(;o;){const a=yi(new Uint8Array(If));let c=0;for(;c<Ri;){const u=n.slice(i,i+(Pf-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>W(a.bytes))}function ki(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??$f({data:t,to:r}),o=e.commitments??fs({blobs:s,kzg:n,to:r}),i=e.proofs??ds({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Fi(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new sf({transaction:e})}function ls(e,{docsPath:t,...n}){const r=(()=>{const s=is(e,n);return s instanceof Rn?e:s})();return new af(r,{docsPath:t,...n})}async function mt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ye(t)}async function Ni(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:p,to:m,type:E,value:P,...v}=t,g=await(async()=>{if(!n||!p||typeof b<"u")return b;const I=G(n),$=o?o.id:await M(e,mt,"getChainId")({});return await p.consume({address:I.address,chainId:$,client:e})})();Le(t);const y=o?.formatters?.transactionRequest?.format,x=(y||je)({...kn(v,{format:y}),account:n?G(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:g,to:m,type:E,value:P},"fillTransaction");try{const I=await e.request({method:"eth_fillTransaction",params:[x]}),S=(o?.formatters?.transaction?.format||tr)(I.tx);delete S.blockHash,delete S.blockNumber,delete S.r,delete S.s,delete S.transactionIndex,delete S.v,delete S.yParity,S.data=S.input,S.gas&&(S.gas=t.gas??S.gas),S.gasPrice&&(S.gasPrice=t.gasPrice??S.gasPrice),S.maxFeePerBlobGas&&(S.maxFeePerBlobGas=t.maxFeePerBlobGas??S.maxFeePerBlobGas),S.maxFeePerGas&&(S.maxFeePerGas=t.maxFeePerGas??S.maxFeePerGas),S.maxPriorityFeePerGas&&(S.maxPriorityFeePerGas=t.maxPriorityFeePerGas??S.maxPriorityFeePerGas),S.nonce&&(S.nonce=t.nonce??S.nonce);const B=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const O=await M(e,Be,"getBlock")({});return o.fees.baseFeeMultiplier({block:O,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(B<1)throw new Ai;const F=10**(B.toString().split(".")[1]?.length??0),z=O=>O*BigInt(Math.ceil(B*F))/BigInt(F);return S.maxFeePerGas&&!t.maxFeePerGas&&(S.maxFeePerGas=z(S.maxFeePerGas)),S.gasPrice&&!t.gasPrice&&(S.gasPrice=z(S.gasPrice)),{raw:I.raw,transaction:{from:x.from,...S}}}catch(I){throw ls(I,{...t,chain:e.chain})}}const Mi=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ga=new Map,_s=new Lt(128);async function nr(e,t){let n=t;n.account??=e.account,n.parameters??=Mi;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await M(e,mt,"getChainId")({}),c))}const f=r&&G(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const g=await u();d=await o.consume({address:f.address,chainId:g,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||_s.get(e.uid)===!1||!["fees","gas"].some(y=>i.includes(y))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await M(e,Ni,"fillTransaction")({...n,nonce:d}).then(g=>{const{chainId:y,from:w,gas:x,gasPrice:I,nonce:$,maxFeePerBlobGas:S,maxFeePerGas:B,maxPriorityFeePerGas:k,type:F,...z}=g.transaction;return _s.set(e.uid,!0),{...n,...w?{from:w}:{},...F?{type:F}:{},...typeof y<"u"?{chainId:y}:{},...typeof x<"u"?{gas:x}:{},...typeof I<"u"?{gasPrice:I}:{},...typeof $<"u"?{nonce:$}:{},...typeof S<"u"?{maxFeePerBlobGas:S}:{},...typeof B<"u"?{maxFeePerGas:B}:{},...typeof k<"u"?{maxPriorityFeePerGas:k}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(g=>{const y=g;return y.name!=="TransactionExecutionError"||y.walk?.(x=>{const I=x;return I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"})&&_s.set(e.uid,!1),n}):n;d??=h.nonce,n={...h,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:b,gas:p,kzg:m,type:E}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"beforeFillParameters"}));let P;async function v(){return P||(P=await M(e,Be,"getBlock")({blockTag:"latest"}),P)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await M(e,Ti,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&b&&m){const g=fs({blobs:b,kzg:m});if(i.includes("blobVersionedHashes")){const y=Oi({commitments:g,to:"hex"});n.blobVersionedHashes=y}if(i.includes("sidecars")){const y=ds({blobs:b,commitments:g,kzg:m}),w=ki({blobs:b,commitments:g,proofs:y,to:"hex"});n.sidecars=w}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{n.type=Fi(n)}catch{let g=Ga.get(e.uid);typeof g>"u"&&(g=typeof(await v())?.baseFeePerGas=="bigint",Ga.set(e.uid,g)),n.type=g?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const g=await v(),{maxFeePerGas:y,maxPriorityFeePerGas:w}=await So(e,{block:g,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<w)throw new gf({maxPriorityFeePerGas:w});n.maxPriorityFeePerGas=w,n.maxFeePerGas=y}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new cs;if(typeof n.gasPrice>"u"){const g=await v(),{gasPrice:y}=await So(e,{block:g,chain:s,request:n,type:"legacy"});n.gasPrice=y}}return i.includes("gas")&&typeof p>"u"&&(n.gas=await M(e,_i,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:s},{phase:"afterFillParameters"})),Le(n),delete n.parameters,n}async function _i(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?G(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await os({authorization:t.authorizationList[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,value:g,stateOverride:y,...w}=r?await nr(e,{...t,parameters:o,to:i}):t;if(b&&t.gas!==b)return b;const I=(typeof d=="bigint"?C(d):void 0)||l,$=Si(y);Le(t);const S=e.chain?.formatters?.transactionRequest?.format,k=(S||je)({...kn(w,{format:S}),account:s,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:h,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:i,value:g},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:$?[k,I??e.experimental_blockTag??"latest",$]:I?[k,I]:[k]}))}catch(i){throw _h(i,{...t,account:s,chain:e.chain})}}async function rp(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=oe({abi:n,args:s,functionName:o});try{return await M(e,_i,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?G(a.account):void 0;throw ht(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function Ut(e,t){if(!Q(e,{strict:!1}))throw new se({address:e});if(!Q(t,{strict:!1}))throw new se({address:t});return e.toLowerCase()===t.toLowerCase()}const Ha="/docs/contract/decodeEventLog";function Vn(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new gu({docsPath:Ha});const c=t.find(E=>E.type==="event"&&i===cn(Te(E)));if(!(c&&"name"in c)||c.type!=="event")throw new wu(i,{docsPath:Ha});const{name:u,inputs:f}=c,d=f?.some(E=>!("name"in E&&E.name)),l=d?[]:{},h=f.map((E,P)=>[E,P]).filter(([E])=>"indexed"in E&&E.indexed),b=[];for(let E=0;E<h.length;E++){const[P,v]=h[E],g=a[E];if(!g){if(o)throw new Jr({abiItem:c,param:P});b.push([P,v]);continue}l[d?v:P.name||v]=sp({param:P,value:g})}const p=f.filter(E=>!("indexed"in E&&E.indexed)),m=o?p:[...b.map(([E])=>E),...p];if(m.length>0){if(n&&n!=="0x")try{const E=On(m,n);if(E){let P=0;if(!o)for(const[v,g]of b)l[d?g:v.name||g]=E[P++];if(d)for(let v=0;v<f.length;v++)l[v]===void 0&&P<E.length&&(l[v]=E[P++]);else for(let v=0;v<p.length;v++)l[p[v].name]=E[P++]}}catch(E){if(o)throw E instanceof ni||E instanceof Qu?new Dn({abiItem:c,data:n,params:m,size:H(n)}):E}else if(o)throw new Dn({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function sp({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(On([e],t)||[])[0]}function hs(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:cn(a)}));return r.map(a=>{const c=i.filter(d=>a.topics[0]===d.selector);if(c.length===0)return null;let u,f;for(const d of c)try{u=Vn({...a,abi:[d.abi],strict:!0}),f=d;break}catch{}if(!u&&!s){f=c[0];try{u=Vn({data:a.data,topics:a.topics,abi:[f.abi],strict:!1})}catch{const d=f.abi.inputs?.some(l=>!("name"in l&&l.name));return{...a,args:d?[]:{},eventName:f.abi.name}}}return!u||!f||o&&!o.includes(u.eventName)||!op({args:u.args,inputs:f.abi.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function op(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Ut(i,a):o.type==="string"||o.type==="bytes"?Y(jt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function _e(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function zi(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>Tn({abi:[p],eventName:p.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?C(r):r,toBlock:typeof s=="bigint"?C(s):s}]});const h=l.map(b=>_e(b));return f?hs({abi:f,args:a,logs:h,strict:u}):h}async function Cf(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?yt({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return M(e,zi,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const zs="/docs/contract/decodeFunctionResult";function tt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=yt({abi:t,args:n,name:r});if(!a)throw new St(r,{docsPath:zs});o=a}if(o.type!=="function")throw new St(void 0,{docsPath:zs});if(!o.outputs)throw new oi(o.name,{docsPath:zs});const i=On(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const ip="0.1.1";function ap(){return ip}let L=class Ge extends Error{static setStaticOptions(t){Ge.prototype.docsOrigin=t.docsOrigin,Ge.prototype.showVersion=t.showVersion,Ge.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof Ge){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof Ge&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??Ge.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(n.version??Ge.prototype.showVersion),c=n.version??Ge.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||a?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return Bf(this,t)}};Object.defineProperty(L,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${ap()}`}});L.setStaticOptions(L.defaultStaticOptions);function Bf(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Bf(e.cause,t):t?null:e}function rr(e,t){if(Xt(e)>t)throw new Ip({givenSize:Xt(e),maxSize:t})}const qe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Va(e){if(e>=qe.zero&&e<=qe.nine)return e-qe.zero;if(e>=qe.A&&e<=qe.F)return e-(qe.A-10);if(e>=qe.a&&e<=qe.f)return e-(qe.a-10)}function cp(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Sp({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Tf(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function ps(e,t){if(we(e)>t)throw new Op({givenSize:we(e),maxSize:t})}function up(e,t){if(typeof t=="number"&&t>0&&t>we(e)-1)throw new jf({offset:t,position:"start",size:we(e)})}function fp(e,t,n){if(typeof t=="number"&&typeof n=="number"&&we(e)!==n-t)throw new jf({offset:n,position:"end",size:we(e)})}function Of(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Rp({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const dp="#__bigint";function Rf(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+dp:s,n)}const lp=new TextDecoder,hp=new TextEncoder;function pp(e){return e instanceof Uint8Array?e:typeof e=="string"?kf(e):bp(e)}function bp(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function kf(e,t={}){const{size:n}=t;let r=e;n&&(ps(e,n),r=kt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Va(s.charCodeAt(c++)),f=Va(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u<<4|f}return i}function yp(e,t={}){const{size:n}=t,r=hp.encode(e);return typeof n=="number"?(rr(r,n),mp(r,n)):r}function mp(e,t){return cp(e,{dir:"right",size:t})}function Xt(e){return e.length}function gp(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function wp(e,t={}){const{size:n}=t;typeof n<"u"&&rr(e,n);const r=Re(e,t);return Mf(r,t)}function vp(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(rr(r,n),r=Ff(r)),r.length>1||r[0]>1)throw new Pp(r);return!!r[0]}function Ze(e,t={}){const{size:n}=t;typeof n<"u"&&rr(e,n);const r=Re(e,t);return _f(r,t)}function xp(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(rr(r,n),r=Ep(r)),lp.decode(r)}function Ff(e){return Tf(e,{dir:"left"})}function Ep(e){return Tf(e,{dir:"right"})}class Pp extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Ip=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Sp=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Ap=new TextEncoder,$p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Cp(e,t={}){const{strict:n=!1}=t;if(!e)throw new Wa(e);if(typeof e!="string")throw new Wa(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ka(e);if(!e.startsWith("0x"))throw new Ka(e)}function Oe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Bp(e){return e instanceof Uint8Array?Re(e):Array.isArray(e)?Re(new Uint8Array(e)):e}function Nf(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ps(n,t.size),Rt(n,t.size)):n}function Re(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=$p[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ps(r,t.size),kt(r,t.size)):r}function te(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new zf({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Rt(c,r):c}function ji(e,t={}){return Re(Ap.encode(e),t)}function Rt(e,t){return Of(e,{dir:"left",size:t})}function kt(e,t){return Of(e,{dir:"right",size:t})}function Me(e,t,n,r={}){const{strict:s}=r;up(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&fp(o,t,n),o}function we(e){return Math.ceil((e.length-2)/2)}function Mf(e,t={}){const{signed:n}=t;t.size&&ps(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function _f(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Mf(e,t))}function Tp(e,t={}){const{strict:n=!1}=t;try{return Cp(e,{strict:n}),!0}catch{return!1}}class zf extends L{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Wa extends L{constructor(t){super(`Value \`${typeof t=="object"?Rf(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ka extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Op extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class jf extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Rp extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function kp(e){return{address:e.address,amount:te(e.amount),index:te(e.index),validatorIndex:te(e.validatorIndex)}}function Lf(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:te(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:te(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:te(e.gasLimit)},...typeof e.number=="bigint"&&{number:te(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:te(e.prevRandao)},...typeof e.time=="bigint"&&{time:te(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(kp)}}}const Ft=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ao=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Uf=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],qf=[...Uf,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Fp=[...Uf,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Qa=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Za=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Df=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],_r=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Np=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Mp="0x82ad56cb",Li="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Gf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$o="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ui="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class zr extends A{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Hf extends A{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Vf extends A{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class qi extends A{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class sr extends A{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const js="/docs/contract/encodeDeployData";function or(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new pu({docsPath:js});if(!("inputs"in s))throw new wo({docsPath:js});if(!s.inputs||s.inputs.length===0)throw new wo({docsPath:js});const o=ze(s.inputs,n);return pe([r,o])}function qt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new zr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new zr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Wf(e,{docsPath:t,...n}){const r=(()=>{const s=is(e,n);return s instanceof Rn?e:s})();return new Ei(r,{docsPath:t,...n})}function Di(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Ls=new Map;function Kf({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b?.([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b?.(l)}})},i=()=>Ls.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Ls.get(t)||[],u=f=>Ls.set(t,[...c(),f]);return{flush:i,async schedule(f){const{promise:d,resolve:l,reject:h}=Di();return n?.([...a(),f])&&o(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(o,r),d)}}}async function Dt(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:g,value:y,stateOverride:w,...x}=t,I=n?G(n):void 0;if(f&&(l||h))throw new A("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&g)throw new A("Cannot provide both `code` & `to` as parameters.");const $=f&&d,S=l&&h&&g&&d,B=$||S,k=$?Qf({code:f,data:d}):S?jp({data:d,factory:l,factoryData:h,to:g}):d;try{Le(t);const z=(typeof o=="bigint"?C(o):void 0)||i,O=u?Lf(u):void 0,T=Si(w),N=e.chain?.formatters?.transactionRequest?.format,_=(N||je)({...kn(x,{format:N}),accessList:a,account:I,authorizationList:r,blobs:c,data:k,gas:b,gasPrice:p,maxFeePerBlobGas:m,maxFeePerGas:E,maxPriorityFeePerGas:P,nonce:v,to:B?void 0:g,value:y},"call");if(s&&_p({request:_})&&!T&&!O)try{return await zp(e,{..._,blockNumber:o,blockTag:i})}catch(q){if(!(q instanceof qi)&&!(q instanceof zr))throw q}const j=(()=>{const q=[_,z];return T&&O?[...q,T,O]:T?[...q,T]:O?[...q,{},O]:q})(),U=await e.request({method:"eth_call",params:j});return U==="0x"?{data:void 0}:{data:U}}catch(F){const z=Lp(F),{offchainLookup:O,offchainLookupSignature:T}=await qc(async()=>{const{offchainLookup:N,offchainLookupSignature:R}=await Promise.resolve().then(()=>jb);return{offchainLookup:N,offchainLookupSignature:R}},void 0);if(e.ccipRead!==!1&&z?.slice(0,10)===T&&g)return{data:await O(e,{data:z,to:g})};throw B&&z?.slice(0,10)==="0x101bb98d"?new df({factory:l}):Wf(F,{...t,account:I,chain:e.chain})}}function _p({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Mp)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function zp(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return qt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new qi})(),d=(typeof o=="bigint"?C(o):void 0)||i,{schedule:l}=Kf({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((E,{data:P})=>E+(P.length-2),0)>n*2},fn:async p=>{const m=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),E=oe({abi:Ft,args:[m],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...u===null?{data:Qf({code:Ui,data:E})}:{to:u,data:E}},d]});return tt({abi:Ft,args:[m],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new Xn({data:h});return h==="0x"?{data:void 0}:{data:h}}function Qf(e){const{code:t,data:n}=e;return or({abi:ti(["constructor(bytes, bytes)"]),bytecode:Li,args:[t,n]})}function jp(e){const{data:t,factory:n,factoryData:r,to:s}=e;return or({abi:ti(["constructor(address, bytes, address, bytes)"]),bytecode:Gf,args:[s,t,n,r]})}function Lp(e){if(!(e instanceof A))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Ie(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=oe({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,Dt,"call")({...i,data:a,to:r});return tt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw ht(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Up(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=a.account?G(a.account):e.account,u=oe({abi:n,args:s,functionName:o});try{const{data:f}=await M(e,Dt,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=tt({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw ht(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const Us=new Map,Ya=new Map;let qp=0;function Xe(e,t,n){const r=++qp,s=()=>Us.get(e)||[],o=()=>{const f=s();Us.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Ya.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(Us.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const h of l)h.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&Ya.set(e,u),i}async function jr(e){return new Promise(t=>setTimeout(t,e))}function Fn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await jr(c);const u=async()=>{s&&(await e({unpoll:o}),await jr(r),u())};u()})(),o}const Dp=new Map,Gp=new Map;function Hp(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Dp),r=t(e,Gp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Zf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Hp(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Vp=e=>`blockNumber.${e}`;async function ir(e,{cacheTime:t=e.cacheTime}={}){const n=await Zf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Vp(e.uid),cacheTime:t});return BigInt(n)}async function bs(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>_e(o));return!("abi"in t)||!t.abi?s:hs({abi:t.abi,logs:s,strict:n})}async function ys(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Wp(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=l??!1,E=V(["watchContractEvent",r,s,o,e.uid,i,d,m,a]);return Xe(E,{onLogs:u,onError:c},P=>{let v;a!==void 0&&(v=a-1n);let g,y=!1;const w=Fn(async()=>{if(!y){try{g=await M(e,Vu,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:m,fromBlock:a})}catch{}y=!0;return}try{let x;if(g)x=await M(e,bs,"getFilterChanges")({filter:g});else{const I=await M(e,ir,"getBlockNumber")({});v&&v<I?x=await M(e,Cf,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:I,strict:m}):x=[],v=I}if(x.length===0)return;if(o)P.onLogs(x);else for(const I of x)P.onLogs([I])}catch(x){g&&x instanceof Je&&(y=!1),P.onError?.(x)}},{emitOnBegin:!0,interval:d});return async()=>{g&&await M(e,ys,"uninstallFilter")({filter:g}),w()}})})():(()=>{const m=l??!1,E=V(["watchContractEvent",r,s,o,e.uid,i,d,m]);let P=!0,v=()=>P=!1;return Xe(E,{onLogs:u,onError:c},g=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),w=i?Tn({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await y.subscribe({params:["logs",{address:r,topics:w}],onData(I){if(!P)return;const $=I.result;try{const{eventName:S,args:B}=Vn({abi:n,data:$.data,topics:$.topics,strict:l}),k=_e($,{args:B,eventName:S});g.onLogs([k])}catch(S){let B,k;if(S instanceof Dn||S instanceof Jr){if(l)return;B=S.abiItem.name,k=S.abiItem.inputs?.some(z=>!("name"in z&&z.name))}const F=_e($,{args:k?[]:{},eventName:B});g.onLogs([F])}},onError(I){g.onError?.(I)}});v=x,P||v()}catch(y){c?.(y)}})(),()=>v()))})()}class gt extends A{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Pt extends A{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function ms({chain:e,currentChainId:t}){if(!e)throw new Vf;if(t!==e.id)throw new Hf({chain:e,currentChainId:t})}async function Gi(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const qs=new Lt(128);async function gs(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,type:m,value:E,...P}=t;if(typeof n>"u")throw new gt({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?G(n):null;try{Le(t);const g=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await os({authorization:i[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`.")})})();if(v?.type==="json-rpc"||v===null){let y;s!==null&&(y=await M(e,mt,"getChainId")({}),r&&ms({currentChainId:y,chain:s}));const w=e.chain?.formatters?.transactionRequest?.format,I=(w||je)({...kn(P,{format:w}),accessList:o,account:v,authorizationList:i,blobs:a,chainId:y,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:g,type:m,value:E},"sendTransaction"),$=qs.get(e.uid),S=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:S,params:[I]},{retryCount:0})}catch(B){if($===!1)throw B;const k=B;if(k.name==="InvalidInputRpcError"||k.name==="InvalidParamsRpcError"||k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(F=>(qs.set(e.uid,!0),F)).catch(F=>{const z=F;throw z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"?(qs.set(e.uid,!1),k):z});throw k}}if(v?.type==="local"){const y=await M(e,nr,"prepareTransactionRequest")({account:v,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,nonceManager:v.nonceManager,parameters:[...Mi,"sidecars"],type:m,value:E,...P,to:g}),w=s?.serializers?.transaction,x=await v.signTransaction(y,{serializer:w});return await M(e,Gi,"sendRawTransaction")({serializedTransaction:x})}throw v?.type==="smart"?new Pt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pt({docsPath:"/docs/actions/wallet/sendTransaction",type:v?.type})}catch(g){throw g instanceof Pt?g:ls(g,{...t,account:v,chain:t.chain||void 0})}}async function An(e,t){return An.internal(e,gs,"sendTransaction",t)}(function(e){async function t(n,r,s,o){const{abi:i,account:a=n.account,address:c,args:u,functionName:f,...d}=o;if(typeof a>"u")throw new gt({docsPath:"/docs/contract/writeContract"});const l=a?G(a):null,h=oe({abi:i,args:u,functionName:f});try{return await M(n,r,s)({data:h,to:c,account:l,...d})}catch(b){throw ht(b,{abi:i,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:f,sender:l?.address})}}e.internal=t})(An||(An={}));class Yf extends A{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function $n(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await jr(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const Jf={"0x0":"reverted","0x1":"success"};function ws(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>_e(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ye(e.transactionIndex):null,status:e.status?Jf[e.status]:null,type:e.type?Ci[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Kp=as("transactionReceipt",ws),Xf="0x5792579257925792579257925792579257925792579257925792579257925792",ed=C(0,{size:32});async function td(e,t){const{account:n=e.account,chain:r=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,u=n?G(n):null;let f=t.capabilities;e.dataSuffix&&!t.capabilities?.dataSuffix&&(typeof e.dataSuffix=="string"?f={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:f={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const d=t.calls.map(l=>{const h=l,b=h.abi?oe({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&b?J([b,h.dataSuffix]):b,to:h.to,value:h.value?C(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:d,capabilities:f,chainId:C(r.id),from:u?.address,id:a,version:c}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(s&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(f&&Object.values(f).some(P=>!P.optional)){const P="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Tt(new A(P,{details:P}))}if(i&&d.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ot(new A(E,{details:E}))}const b=[];for(const E of d){const P=gs(e,{account:u,chain:r,data:E.data,to:E.to,value:E.value?le(E.value):void 0});b.push(P),o>0&&await new Promise(v=>setTimeout(v,o))}const p=await Promise.allSettled(b);if(p.every(E=>E.status==="rejected"))throw p[0].reason;const m=p.map(E=>E.status==="fulfilled"?E.value:ed);return{id:J([...m,C(r.id,{size:32}),Xf])}}throw ls(l,{...t,account:u,chain:t.chain})}}async function nd(e,t){async function n(f){if(f.endsWith(Xf.slice(2))){const l=de($r(f,-64,-32)),h=$r(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(m=>ed.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),p=b.some(m=>m===null)?100:b.every(m=>m?.status==="0x1")?200:b.every(m=>m?.status==="0x0")?500:600;return{atomic:!1,chainId:ye(l),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?ye(s):void 0,receipts:o?.map(f=>({...f,blockNumber:le(f.blockNumber),gasUsed:le(f.gasUsed),status:Jf[f.status]}))??[],statusCode:u,status:c,version:i}}async function rd(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:o=4,retryDelay:i=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=V(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Di();let h;const b=Xe(u,{resolve:d,reject:l},p=>{const m=Fn(async()=>{const E=P=>{clearTimeout(h),m(),P(),b()};try{const P=await $n(async()=>{const v=await M(e,nd,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new Yf(v);return v},{retryCount:o,delay:i});if(!s(P))return;E(()=>p.resolve(P))}catch(P){E(()=>p.reject(P))}},{interval:r,emitOnBegin:!0});return m});return h=a?setTimeout(()=>{b(),clearTimeout(h),l(new sd({id:n}))},a):void 0,await f}class sd extends A{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Co=256;let pr=Co,br;function od(e=11){if(!br||pr+e>Co*2){br="",pr=0;for(let t=0;t<Co;t++)br+=(256+Math.random()*256|0).toString(16).substring(1)}return br.substring(pr,pr+++e)}function ar(e){const{batch:t,chain:n,ccipRead:r,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,f=Math.min(Math.max(Math.floor(u/2),500),4e3),d=e.pollingInterval??f,l=e.cacheTime??d,h=e.account?G(e.account):void 0,{config:b,request:p,value:m}=e.transport({account:h,chain:n,pollingInterval:d}),E={...b,...m},P={account:h,batch:t,cacheTime:l,ccipRead:r,chain:n,dataSuffix:s,key:o,name:i,pollingInterval:d,request:p,transport:E,type:a,uid:od(),...c?{experimental_blockTag:c}:{}};function v(g){return y=>{const w=y(g);for(const I in P)delete w[I];const x={...g,...w};return Object.assign(x,{extend:v(x)})}}return Object.assign(P,{extend:v(P)})}function Hi(e){if(!(e instanceof A))return!1;const t=e.walk(n=>n instanceof Cr);return t instanceof Cr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function id(e){const{abi:t,data:n}=e,r=ft(n,0,4),s=t.find(o=>o.type==="function"&&r===$t(Te(o)));if(!s)throw new vu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?On(s.inputs,ft(n,4)):void 0}}const Ds="/docs/contract/encodeErrorResult";function Bo(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=yt({abi:t,args:r,name:n});if(!c)throw new vo(n,{docsPath:Ds});s=c}if(s.type!=="error")throw new vo(void 0,{docsPath:Ds});const o=Te(s),i=$t(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new mu(s.name,{docsPath:Ds});a=ze(s.inputs,r)}return pe([i,a])}const Gs="/docs/contract/encodeFunctionResult";function ad(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=yt({abi:t,name:n});if(!i)throw new St(n,{docsPath:Gs});s=i}if(s.type!=="function")throw new St(void 0,{docsPath:Gs});if(!s.outputs)throw new oi(s.name,{docsPath:Gs});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new ai(r)})();return ze(s.outputs,o)}const cr="x-batch-gateway:true";async function cd(e){const{data:t,ccipRequest:n}=e,{args:[r]}=id({abi:Ao,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(cr)?await cd({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Qp(c)}})),ad({abi:Ao,functionName:"query",result:[s,o]})}function Qp(e){return e.name==="HttpRequestError"&&e.status?Bo({abi:Ao,errorName:"HttpError",args:[e.status,e.shortMessage]}):Bo({abi:[Ku],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ud(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Pe(t)?t:null}function Lr(e){let t=new Uint8Array(32).fill(0);if(!e)return W(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ud(n[r]),o=s?jt(s):Y(at(n[r]),"bytes");t=Y(J([t,o]),"bytes")}return W(t)}function Zp(e){return`[${e.slice(2)}]`}function fd(e){const t=new Uint8Array(32).fill(0);return e?ud(e)||Y(at(e)):W(t)}function Vi(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(at(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=at(s[o]);i.byteLength>255&&(i=at(Zp(fd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Yp(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[Lr(o),BigInt(s)]:[Lr(o)];try{const l=oe({abi:Za,functionName:"addr",args:d}),h={address:u,abi:qf,functionName:"resolveWithGateways",args:[me(Vi(o)),l,i??[cr]],blockNumber:n,blockTag:r},p=await M(e,Ie,"readContract")(h);if(p[0]==="0x")return null;const m=tt({abi:Za,args:d,functionName:"addr",data:p[0]});return m==="0x"||de(m)==="0x00"?null:m}catch(l){if(a)throw l;if(Hi(l))return null;throw l}}class Jp extends A{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Jt extends A{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class vs extends A{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class dd extends A{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Xp=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,eb=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tb=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,nb=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rb(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ja(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ld({uri:e,gatewayUrls:t}){const n=tb.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ja(t?.ipfs,"https://ipfs.io"),s=Ja(t?.arweave,"https://arweave.net"),o=e.match(Xp),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||eb.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(nb,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new vs({uri:e})}function hd(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Jp({data:e});return e.image||e.image_url||e.image_data}async function sb({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Wi({gatewayUrls:e,uri:hd(n)})}catch{throw new vs({uri:t})}}async function Wi({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ld({uri:t,gatewayUrls:e});if(r||await rb(n))return n;throw new vs({uri:t})}function ob(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Jt({reason:"Only EIP-155 supported"});if(!i)throw new Jt({reason:"Chain ID not found"});if(!c)throw new Jt({reason:"Contract address not found"});if(!s)throw new Jt({reason:"Token ID not found"});if(!a)throw new Jt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function ib(e,{nft:t}){if(t.namespace==="erc721")return Ie(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ie(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new dd({namespace:t.namespace})}async function ab(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?cb(e,{gatewayUrls:t,record:n}):Wi({uri:n,gatewayUrls:t})}async function cb(e,{gatewayUrls:t,record:n}){const r=ob(n),s=await ib(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=ld({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Wi({uri:hd(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),sb({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function pd(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:qf,args:[me(Vi(o)),oe({abi:Qa,functionName:"text",args:[Lr(o),s]}),i??[cr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await M(e,Ie,"readContract")(d);if(h[0]==="0x")return null;const b=tt({abi:Qa,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(Hi(d))return null;throw d}}async function ub(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,pd,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await ab(e,{record:c,gatewayUrls:r})}catch{return null}}async function fb(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Fp,args:[n,o,i??[cr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=M(e,Ie,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(Hi(f))return null;throw f}}async function db(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return qt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,Ie,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[me(Vi(s))],blockNumber:n,blockTag:r});return c}async function bd(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?G(n):void 0;try{Le(t);const E=(typeof r=="bigint"?C(r):void 0)||s,P=e.chain?.formatters?.transactionRequest?.format,g=(P||je)({...kn(b,{format:P}),account:p,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[g,E]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(m){throw Wf(m,{...t,account:p,chain:e.chain})}}async function lb(e){const t=ns(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function yd(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=ns(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>Tn({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?C(o):o,toBlock:typeof a=="bigint"?C(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function md(e){const t=ns(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function hb(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){if(e.batch?.multicall&&e.chain?.contracts?.multicall3){const i=e.chain.contracts.multicall3.address,a=oe({abi:Ft,functionName:"getEthBalance",args:[t]}),{data:c}=await M(e,Dt,"call")({to:i,data:a,blockNumber:n,blockTag:r});return tt({abi:Ft,functionName:"getEthBalance",args:[t],data:c||"0x"})}const s=typeof n=="bigint"?C(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function pb(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function bb(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?C(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ye(o)}async function To(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?C(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class yb extends A{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function mb(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await M(e,Ie,"readContract")({abi:gb,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new yb({address:n}):i}}const gb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function wb(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function vb(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?C(n):void 0,i=await e.request({method:"eth_feeHistory",params:[C(t),o||r,s]},{dedupe:!!o});return wb(i)}async function xb(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>_e(o));return t.abi?hs({abi:t.abi,logs:s,strict:n}):s}function Eb(e,t){if(e.length!==t.length)throw new ri({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(gd(s,o))}return pe(n)}function gd(e,t,n=!1){if(e==="address"){const i=t;if(!Q(i))throw new se({address:i});return Fe(i.toLowerCase(),{size:n?32:null})}if(e==="string")return ut(t);if(e==="bytes")return t;if(e==="bool")return Fe(es(t),{size:n?32:1});const r=e.match(li);if(r){const[i,a,c="256"]=r,u=Number.parseInt(c,10)/8;return C(t,{size:n?32:u,signed:a==="int"})}const s=e.match(Gu);if(s){const[i,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new ii({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Fe(t,{dir:"right",size:n?32:null})}const o=e.match(uh);if(o&&Array.isArray(t)){const[i,a]=o,c=[];for(let u=0;u<t.length;u++)c.push(gd(a,t[u],!0));return c.length===0?"0x":pe(c)}throw new Iu(e)}function Pb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!Q(s))throw new se({address:s});if(r<0)throw new sr({chainId:r})}xs(e)}function Ib(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Af;for(const n of t){const r=H(n),s=ye(ft(n,0,1));if(r!==32)throw new tp({hash:n,size:r});if(s!==Sf)throw new np({hash:n,version:s})}}xs(e)}function xs(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new sr({chainId:t});if(s&&!Q(s))throw new se({address:s});if(r&&r>er)throw new bt({maxFeePerGas:r});if(n&&r&&n>r)throw new Sn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function wd(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new sr({chainId:t});if(o&&!Q(o))throw new se({address:o});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>er)throw new bt({maxFeePerGas:r})}function vd(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!Q(o))throw new se({address:o});if(typeof t<"u"&&t<=0)throw new sr({chainId:t});if(n||s)throw new A("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>er)throw new bt({maxFeePerGas:r})}function ur(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new of({storageKey:s[o]});if(!Q(r,{strict:!1}))throw new se({address:r});t.push([r,s])}return t}function Sb(e,t){const n=Fi(e);return n==="eip1559"?Cb(e,t):n==="eip2930"?Bb(e,t):n==="eip4844"?$b(e,t):n==="eip7702"?Ab(e,t):Tb(e,t)}function Ab(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Pb(e);const l=ur(f),h=Ob(n);return pe(["0x04",pt([C(r),o?C(o):"0x",u?C(u):"0x",c?C(c):"0x",s?C(s):"0x",i??"0x",a?C(a):"0x",d??"0x",l,h,...fr(e,t)])])}function $b(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Ib(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(w=>W(w)),g=e.kzg,y=fs({blobs:v,kzg:g});if(typeof l>"u"&&(l=Oi({commitments:y})),typeof h>"u"){const w=ds({blobs:v,commitments:y,kzg:g});h=ki({blobs:v,commitments:y,proofs:w})}}const b=ur(f),p=[C(n),s?C(s):"0x",u?C(u):"0x",c?C(c):"0x",r?C(r):"0x",o??"0x",i?C(i):"0x",d??"0x",b,a?C(a):"0x",l??[],...fr(e,t)],m=[],E=[],P=[];if(h)for(let v=0;v<h.length;v++){const{blob:g,commitment:y,proof:w}=h[v];m.push(g),E.push(y),P.push(w)}return pe(["0x03",pt(h?[p,m,E,P]:p)])}function Cb(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;xs(e);const d=ur(u),l=[C(n),s?C(s):"0x",c?C(c):"0x",a?C(a):"0x",r?C(r):"0x",o??"0x",i?C(i):"0x",f??"0x",d,...fr(e,t)];return pe(["0x02",pt(l)])}function Bb(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;wd(e);const f=ur(c),d=[C(n),o?C(o):"0x",u?C(u):"0x",r?C(r):"0x",i??"0x",a?C(a):"0x",s??"0x",f,...fr(e,t)];return pe(["0x01",pt(d)])}function Tb(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;vd(e);let u=[o?C(o):"0x",c?C(c):"0x",r?C(r):"0x",i??"0x",a?C(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new rf({v:t.v});return h})(),d=de(t.r),l=de(t.s);u=[...u,C(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,C(n),"0x","0x"]);return pt(u)}function fr(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=de(n.r),i=de(n.s);return[typeof s=="number"?s?C(1):"0x":r===0n?"0x":r===1n?C(1):r===27n?"0x":C(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Ob(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?me(r):"0x",i,s?me(s):"0x",...fr({},o)])}return t}async function Rb({address:e,authorization:t,signature:n}){return Ut(We(e),await os({authorization:t,signature:n}))}const yr=new Lt(8192);function kb(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(yr.get(n))return yr.get(n);const r=e().finally(()=>yr.delete(n));return yr.set(n,r),r}function Fb(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new ot(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new ot(new Error("method not supported"),{method:u});const f=s?ut(`${c}.${V(n)}`):void 0;return kb(()=>$n(async()=>{try{return await e(n)}catch(d){const l=d;switch(l.code){case un.code:throw new un(l);case fn.code:throw new fn(l);case dn.code:throw new dn(l,{method:n.method});case ln.code:throw new ln(l);case dt.code:throw new dt(l);case Je.code:throw new Je(l);case hn.code:throw new hn(l);case Qe.code:throw new Qe(l);case Ct.code:throw new Ct(l);case ot.code:throw new ot(l,{method:n.method});case Bt.code:throw new Bt(l);case pn.code:throw new pn(l);case X.code:throw new X(l);case bn.code:throw new bn(l);case yn.code:throw new yn(l);case mn.code:throw new mn(l);case gn.code:throw new gn(l);case lt.code:throw new lt(l);case Tt.code:throw new Tt(l);case wn.code:throw new wn(l);case vn.code:throw new vn(l);case xn.code:throw new xn(l);case En.code:throw new En(l);case Pn.code:throw new Pn(l);case Ot.code:throw new Ot(l);case 5e3:throw new X(l);case In.code:throw new In(l);default:throw d instanceof A?d:new lf(l)}}},{delay:({count:d,error:l})=>{if(l&&l instanceof ct){const h=l?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>Nb(d)}),{enabled:s,id:f})}}function Nb(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Bt.code||e.code===dt.code:e instanceof ct&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Mb extends A{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Jn(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class _b extends A{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Jn(n)}`,`Response: ${V(t)}`],name:"OffchainLookupResponseMalformedError"})}}class zb extends A{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const xd="0x556f1830",Ki={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Ed(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=mi({data:r,abi:[Ki]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:Ur;try{if(!Ut(s,i))throw new zb({sender:i,to:s});const h=a.includes(cr)?await cd({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:b}=await Dt(e,{blockNumber:t,blockTag:n,data:J([u,ze([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new Mb({callbackSelector:u,cause:h,data:r,extraData:f,sender:i,urls:a})}}async function Ur({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new ct({body:a,details:f?.error?V(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!Pe(f)){r=new _b({result:f,url:o});continue}return f}catch(u){r=new ct({body:a,details:u.message,url:o})}}throw r}const jb=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ur,offchainLookup:Ed,offchainLookupAbiItem:Ki,offchainLookupSignature:xd},Symbol.toStringTag,{value:"Module"}));function Lb(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}function Ub(e){const{source:t}=e,n=new Map,r=new Lt(8192),s=new Map,o=({address:i,chainId:a})=>`${i}.${a}`;return{async consume({address:i,chainId:a,client:c}){const u=o({address:i,chainId:a}),f=this.get({address:i,chainId:a,client:c});this.increment({address:i,chainId:a});const d=await f;return await t.set({address:i,chainId:a},d),r.set(u,d),d},async increment({address:i,chainId:a}){const c=o({address:i,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:a,client:c}){const u=o({address:i,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:i,chainId:a,client:c}),h=r.get(u)??0;return h>0&&l<=h?h+1:(r.delete(u),l)}finally{this.reset({address:i,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:i,chainId:a}){const c=o({address:i,chainId:a});n.delete(c),s.delete(c)}}}function Qi(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function qb(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Xa=qb();function Db(e,t={}){const{url:n,headers:r}=Gb(e);return{async request(s){const{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=s,f={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:l,signal:h}=f;try{const b=await Qi(async({signal:m})=>{const E={...f,body:Array.isArray(o)?V(o.map(y=>({jsonrpc:"2.0",id:y.id??Xa.take(),...y}))):V({jsonrpc:"2.0",id:o.id??Xa.take(),...o}),headers:{...r,"Content-Type":"application/json",...d},method:l||"POST",signal:h||(u>0?m:null)},P=new Request(n,E),v=await a?.(P,E)??{...E,url:n};return await i(v.url??n,v)},{errorInstance:new Io({body:o,url:n}),timeout:u,signal:!0});c&&await c(b);let p;if(b.headers.get("Content-Type")?.startsWith("application/json"))p=await b.json();else{p=await b.text();try{p=JSON.parse(p||"{}")}catch(m){if(b.ok)throw m;p={error:p}}}if(!b.ok)throw new ct({body:o,details:V(p.error)||b.statusText,headers:b.headers,status:b.status,url:n});return p}catch(b){throw b instanceof ct||b instanceof Io?b:new ct({body:o,cause:b,url:n})}}}}function Gb(e){try{const t=new URL(e),n=(()=>{if(t.username){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const Pd=`Ethereum Signed Message:
`;function Id(e){const t=typeof e=="string"?ut(e):typeof e.raw=="string"?e.raw:W(e.raw),n=ut(`${Pd}${H(t)}`);return J([n,t])}function Zi(e,t){return Y(Id(e),t)}class Sd extends A{constructor({domain:t}){super(`Invalid domain "${V(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Ad extends A{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class $d extends A{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Cd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return V({domain:i,message:a,primaryType:r,types:s})}function Yi(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(li);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,m,E]=l;C(d,{signed:m==="int",size:Number.parseInt(E,10)/8})}if(f==="address"&&typeof d=="string"&&!Q(d))throw new se({address:d});const h=f.match(Gu);if(h){const[p,m]=h;if(m&&H(d)!==Number.parseInt(m,10))throw new ii({expectedSize:Number.parseInt(m,10),givenSize:H(d)})}const b=s[f];b&&(Hb(f),o(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Sd({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Ad({primaryType:r,types:s})}function Ji({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Hb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new $d({type:e})}function Bd(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Ji({domain:t}),...e.types};Yi({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Td({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Xi({data:n,primaryType:r,types:s})),Y(J(o))}function Td({domain:e,types:t}){return Xi({data:e,primaryType:"EIP712Domain",types:t})}function Xi({data:e,primaryType:t,types:n}){const r=Od({data:e,primaryType:t,types:n});return Y(r)}function Od({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Vb({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=kd({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return ze(r,s)}function Vb({primaryType:e,types:t}){const n=me(Wb({primaryType:e,types:t}));return Y(n)}function Wb({primaryType:e,types:t}){let n="";const r=Rd({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Rd({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Rd({primaryType:o.type,types:t},n);return n}function kd({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Y(Od({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},Y(r)];if(n==="string")return[{type:"bytes32"},Y(me(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>kd({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Y(ze(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}const Kb="0x6492649264926492649264926492649264926492649264926492649264926492",Qb="0x0000000000000000000000000000000000000000000000000000000000000000";class Zb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Yb={checksum:new Zb(8192)},Hs=Yb.checksum;function Jb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ec(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function qr(e,...t){if(!Jb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function tc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xb(e,t){qr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function e1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Fd(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const t1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function n1(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function r1(e){for(let t=0;t<e.length;t++)e[t]=n1(e[t]);return e}const nc=t1?e=>e:r1;function s1(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Nd(e){return typeof e=="string"&&(e=s1(e)),qr(e),e}class o1{}function i1(e){const t=r=>e().update(Nd(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const mr=BigInt(2**32-1),rc=BigInt(32);function a1(e,t=!1){return t?{h:Number(e&mr),l:Number(e>>rc&mr)}:{h:Number(e>>rc&mr)|0,l:Number(e&mr)|0}}function c1(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=a1(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const u1=(e,t,n)=>e<<n|t>>>32-n,f1=(e,t,n)=>t<<n|e>>>32-n,d1=(e,t,n)=>t<<n-32|e>>>64-n,l1=(e,t,n)=>e<<n-32|t>>>64-n,h1=BigInt(0),Ln=BigInt(1),p1=BigInt(2),b1=BigInt(7),y1=BigInt(256),m1=BigInt(113),Md=[],_d=[],zd=[];for(let e=0,t=Ln,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Md.push(2*(5*r+n)),_d.push((e+1)*(e+2)/2%64);let s=h1;for(let o=0;o<7;o++)t=(t<<Ln^(t>>b1)*m1)%y1,t&p1&&(s^=Ln<<(Ln<<BigInt(o))-Ln);zd.push(s)}const jd=c1(zd,!0),g1=jd[0],w1=jd[1],sc=(e,t,n)=>n>32?d1(e,t,n):u1(e,t,n),oc=(e,t,n)=>n>32?l1(e,t,n):f1(e,t,n);function v1(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=sc(u,f,1)^n[a],l=oc(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=d,e[i+h+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=_d[i],c=sc(s,o,a),u=oc(s,o,a),f=Md[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=g1[r],e[1]^=w1[r]}Fd(n)}class ea extends o1{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,ec(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=e1(this.state)}clone(){return this._cloneInto()}keccak(){nc(this.state32),v1(this.state32,this.rounds),nc(this.state32),this.posOut=0,this.pos=0}update(t){tc(this),t=Nd(t),qr(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){tc(this,!1),qr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ec(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Xb(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fd(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new ea(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const x1=(e,t,n)=>i1(()=>new ea(t,e,n)),E1=x1(1,136,256/8);function Ld(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=E1(pp(e));return n==="Bytes"?r:Re(r)}const P1=/^0x[a-fA-F0-9]{40}$/;function Es(e,t={}){const{strict:n=!0}=t;if(!P1.test(e))throw new ic({address:e,cause:new I1});if(n){if(e.toLowerCase()===e)return;if(Ud(e)!==e)throw new ic({address:e,cause:new S1})}}function Ud(e){if(Hs.has(e))return Hs.get(e);Es(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ld(yp(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Hs.set(e,s),s}function Oo(e,t={}){const{strict:n=!0}=t??{};try{return Es(e,{strict:n}),!0}catch{return!1}}class ic extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class I1 extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class S1 extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const A1=/^(.*)\[([0-9]*)\]$/,$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ac=2n**256n-1n;function nn(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=ra(t.type);if(o){const[i,a]=o;return B1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return k1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return C1(e,{checksum:r});if(t.type==="bool")return T1(e);if(t.type.startsWith("bytes"))return O1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return R1(e,t);if(t.type==="string")return F1(e,{staticPosition:s});throw new oa(t.type)}const cc=32,Ro=32;function C1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Ud(o):o)(Re(gp(r,-20))),32]}function B1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ze(e.readBytes(Ro)),u=o+c,f=u+cc;e.setPosition(u);const d=Ze(e.readBytes(cc)),l=Wn(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[m,E]=nn(e,t,{checksumAddress:r,staticPosition:f});h+=E,b.push(m)}return e.setPosition(o+32),[b,32]}if(Wn(t)){const c=Ze(e.readBytes(Ro)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=nn(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=nn(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function T1(e){return[vp(e.readBytes(32),{size:32}),32]}function O1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ze(e.readBytes(32));e.setPosition(n+i);const a=Ze(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Re(c),32]}return[Re(e.readBytes(Number.parseInt(s,10),32)),32]}function R1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?wp(s,{signed:n}):Ze(s,{signed:n}),32]}function k1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(Wn(t)){const c=Ze(e.readBytes(Ro)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=nn(e,d,{checksumAddress:r,staticPosition:u});a+=h,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=nn(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function F1(e,{staticPosition:t}){const n=Ze(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ze(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=xp(Ff(o));return e.setPosition(t+32),[i,32]}function N1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(ta({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function ta({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=ra(r.type);if(s){const[o,i]=s;return _1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return q1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return M1(n,{checksum:e});if(r.type==="bool")return j1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=qd.exec(r.type)??[];return L1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return z1(n,{type:r.type});if(r.type==="string")return U1(n);throw new oa(r.type)}function na(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=we(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(te(t+s,{size:32})),r.push(a),s+=we(a)):n.push(a)}return Oe(...n,...r)}function M1(e,t){const{checksum:n=!1}=t;return Es(e,{strict:n}),{dynamic:!1,encoded:Rt(e.toLowerCase())}}function _1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Y1(e);if(!o&&e.length!==r)throw new Z1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=ta({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=na(a);if(o){const u=te(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Oe(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Oe(...a.map(({encoded:c})=>c))}}function z1(e,{type:t}){const[,n]=t.split("bytes"),r=we(e);if(!n){let s=e;return r%32!==0&&(s=kt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Oe(Rt(te(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Gd({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:kt(e)}}function j1(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Rt(Nf(e))}}function L1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new zf({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:te(e,{size:32,signed:t})}}function U1(e){const t=ji(e),n=Math.ceil(we(t)/32),r=[];for(let s=0;s<n;s++)r.push(kt(Me(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Oe(kt(te(we(t),{size:32})),...r)}}function q1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=ta({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?na(o):Oe(...o.map(({encoded:i})=>i))}}function ra(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Wn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Wn);const n=ra(e.type);return!!(n&&Wn({...e,type:n[1]}))}const D1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new V1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new H1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new uc({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new uc({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function G1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(D1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class uc extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class H1 extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class V1 extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function W1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?kf(t):t,i=G1(o);if(Xt(o)===0&&e.length>0)throw new Q1;if(Xt(o)&&Xt(o)<32)throw new K1({data:typeof t=="string"?t:Re(t),parameters:e,size:Xt(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=nn(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function sa(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Hd({expectedLength:e.length,givenLength:t.length});const s=N1({checksumAddress:r,parameters:e,values:t}),o=na(s);return o.length===0?"0x":o}function ko(e,t){if(e.length!==t.length)throw new Hd({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(ko.encode(s,o))}return Oe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Es(c),Rt(c.toLowerCase(),s?32:0)}if(n==="string")return ji(r);if(n==="bytes")return r;if(n==="bool")return Rt(Nf(r),s?32:1);const o=n.match(qd);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return te(r,{size:s?32:d,signed:u==="int"})}const i=n.match($1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Gd({expectedSize:Number.parseInt(u,10),value:r});return kt(r,s?32:0)}const a=n.match(A1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Oe(...f)}throw new oa(n)}e.encode=t})(ko||(ko={}));function Dd(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?mo(e):e}class K1 extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Yt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Q1 extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Z1 extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Gd extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${we(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Hd extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Y1 extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class oa extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Vd(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Vs({signature:e});if(typeof e.s>"u")throw new Vs({signature:e});if(n&&typeof e.yParity>"u")throw new Vs({signature:e});if(e.r<0n||e.r>ac)throw new sy({value:e.r});if(e.s<0n||e.s>ac)throw new oy({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new aa({value:e.yParity})}function J1(e){return Wd(Re(e))}function Wd(e){if(e.length!==130&&e.length!==132)throw new ry({signature:e});const t=BigInt(Me(e,0,32)),n=BigInt(Me(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return ia(s)}catch{throw new aa({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function X1(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return ey(e)}function ey(e){const t=typeof e=="string"?Wd(e):e instanceof Uint8Array?J1(e):typeof e.r=="string"?ny(e):e.v?ty(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Vd(t),t}function ty(e){return{r:e.r,s:e.s,yParity:ia(e.v)}}function ny(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=ia(n)),typeof r!="number")throw new aa({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function ia(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new iy({value:e})}class ry extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${we(Bp(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Vs extends L{constructor({signature:t}){super(`Signature \`${Rf(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class sy extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class oy extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class aa extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class iy extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ay(e,t={}){return typeof e.chainId=="string"?cy(e):{...e,...t.signature}}function cy(e){const{address:t,chainId:n,nonce:r}=e,s=X1(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const uy="0x8010801080108010801080108010801080108010801080108010801080108010",fy=Dd("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Kd(e){if(typeof e=="string"){if(Me(e,-32)!==uy)throw new hy(e)}else Vd(e.authorization)}function dy(e){Kd(e);const t=_f(Me(e,-64,-32)),n=Me(e,-t-64,-64),r=Me(e,0,-t-64),[s,o,i]=W1(fy,n);return{authorization:ay({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function ly(e){try{return Kd(e),!0}catch{return!1}}let hy=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function py(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=pe([ze([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Kb]);return s==="hex"?o:ge(o)}class Qd extends A{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Zd(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Qd({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,i,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${i}.${a}`);c>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function by(e,t="wei"){return Zd(e,gi[t])}function yy(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function my(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ye(e.nonce):void 0,storageProof:e.storageProof?yy(e.storageProof):void 0}}async function gy(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?C(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return my(a)}async function wy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?C(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Ps(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:a}){const c=r||"latest",u=n!==void 0?C(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,C(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,C(o)]},{dedupe:!!u}):i&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,C(a)]},{dedupe:!0})),!f)throw new vi({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||tr)(f,"getTransaction")}async function vy(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,ir,"getBlockNumber")({}),t?M(e,Ps,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Er(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new xi({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ws)(n,"getTransactionReceipt")}async function xy(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return qt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let P=0;P<u.length;P++){const{abi:v,address:g,args:y,functionName:w}=u[P];try{const x=oe({abi:v,args:y,functionName:w});p+=(x.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(x.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:x,target:g}]}catch(x){const I=ht(x,{abi:v,address:g,args:y,docsPath:"/docs/contract/multicall",functionName:w,sender:n});if(!s)throw I;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:g}]}}const m=await Promise.allSettled(h.map(P=>M(e,Ie,"readContract")({...l===null?{code:Ui}:{address:l},abi:Ft,account:n,args:[P],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let P=0;P<m.length;P++){const v=m[P];if(v.status==="rejected"){if(!s)throw v.reason;for(let y=0;y<h[P].length;y++)E.push({status:"failure",error:v.reason,result:void 0});continue}const g=v.value;for(let y=0;y<g.length;y++){const{returnData:w,success:x}=g[y],{callData:I}=h[P][y],{abi:$,address:S,functionName:B,args:k}=u[E.length];try{if(I==="0x")throw new Cn;if(!x)throw new Xn({data:w});const F=tt({abi:$,args:k,data:w,functionName:B});E.push(s?{result:F,status:"success"}:F)}catch(F){const z=ht(F,{abi:$,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw z;E.push({error:z,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new A("multicall results mismatch");return E}async function Fo(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Lf(l.blockOverrides):void 0,b=l.calls.map(m=>{const E=m,P=E.account?G(E.account):void 0,v=E.abi?oe(E):E.data,g={...E,account:P,data:E.dataSuffix?J([v||"0x",E.dataSuffix]):v,from:E.from??P?.address};return Le(g),je(g)}),p=l.stateOverrides?Si(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?C(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,h)=>({...us(l),calls:l.calls.map((b,p)=>{const{abi:m,args:E,functionName:P,to:v}=s[h].calls[p],g=b.error?.data??b.returnData,y=BigInt(b.gasUsed),w=b.logs?.map(S=>_e(S)),x=b.status==="0x1"?"success":"failure",I=m&&x==="success"&&g!=="0x"?tt({abi:m,data:g,functionName:P}):null,$=(()=>{if(x==="success")return;let S;if(g==="0x"?S=new Cn:g&&(S=new Xn({data:g})),!!S)return ht(S,{abi:m??[],address:v??"0x",args:E,functionName:P??"<unknown>"})})();return{data:g,gasUsed:y,logs:w,status:x,...x==="success"?{result:I}:{error:$}}})}))}catch(c){const u=c,f=is(u,{});throw f instanceof Rn?u:f}}function No(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new L("Unable to normalize signature.");return s}function Mo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Oo(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Mo(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Mo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Yd(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Yd(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Oo(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Oo(n[r],{strict:!1}):!1)return i}}function Jd(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?yo(e):e;return{...r,...n?{hash:en(r)}:{}}}function Is(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Tp(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Xd(u)===Me(t,0,4):u.type==="event"?en(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Dr({name:t});if(i.length===1)return{...i[0],...s?{hash:en(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:en(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?Mo(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=Yd(u.inputs,a.inputs,r);if(d)throw new Py({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Dr({name:t});return{...c,...s?{hash:en(c)}:{}}}function Xd(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Is(n,r)}return e[0]})();return Me(en(t),0,4)}function Ey(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Is(r,s)}return e[0]})(),n=typeof t=="string"?t:Sr(t);return No(n)}function en(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Is(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Ld(ji(Ey(t)))}class Py extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${No(Sr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${No(Sr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Dr extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Iy(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[Ay(o),i]}return e})(),{bytecode:r,args:s}=n;return Oe(r,t.inputs?.length&&s?.length?sa(t.inputs,s):"0x")}function Sy(e){return Jd(e)}function Ay(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Dr({name:"constructor"});return t}function $y(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[fc(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?fc([t,...r],t.name,{args:n}):t,o=Cy(s),i=n.length>0?sa(s.inputs,n):void 0;return i?Oe(o,i):o}function Qt(e,t={}){return Jd(e,t)}function fc(e,t,n){const r=Is(e,t,n);if(r.type!=="function")throw new Dr({name:t,type:"function"});return r}function Cy(e){return Xd(e)}const el="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",$e="0x0000000000000000000000000000000000000000",By="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ty(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?G(t.account):void 0;if(i&&!u)throw new A("`account` is required when `traceAssetChanges` is true");const f=u?Iy(Sy("constructor(bytes, bytes)"),{bytecode:Li,args:[By,$y(Qt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:_}=await bd(e,{account:u.address,...R,data:R.abi?oe(R):R.data});return _.map(({address:j,storageKeys:U})=>U.length>0?j:null)})).then(R=>R.flat().filter(Boolean)):[],l=await Fo(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((R,_)=>({abi:[Qt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:$e,nonce:_})),stateOverrides:[{address:$e,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((R,_)=>({abi:[Qt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:$e,nonce:_})),stateOverrides:[{address:$e,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[Qt("function decimals() returns (uint256)")],functionName:"decimals",from:$e,nonce:_})),stateOverrides:[{address:$e,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[Qt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:$e,nonce:_})),stateOverrides:[{address:$e,nonce:0}]},{calls:d.map((R,_)=>({to:R,abi:[Qt("function symbol() returns (string)")],functionName:"symbol",from:$e,nonce:_})),stateOverrides:[{address:$e,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=i?l[2]:l[0],[b,p,,m,E,P,v,g]=i?l:[],{calls:y,...w}=h,x=y.slice(0,-1)??[],I=b?.calls??[],$=p?.calls??[],S=[...I,...$].map(R=>R.status==="success"?le(R.data):null),B=m?.calls??[],k=E?.calls??[],F=[...B,...k].map(R=>R.status==="success"?le(R.data):null),z=(P?.calls??[]).map(R=>R.status==="success"?R.result:null),O=(g?.calls??[]).map(R=>R.status==="success"?R.result:null),T=(v?.calls??[]).map(R=>R.status==="success"?R.result:null),N=[];for(const[R,_]of F.entries()){const j=S[R];if(typeof _!="bigint"||typeof j!="bigint")continue;const U=z[R-1],q=O[R-1],Ae=T[R-1],ce=R===0?{address:el,decimals:18,symbol:"ETH"}:{address:d[R-1],decimals:Ae||U?Number(U??1):void 0,symbol:q??void 0};N.some(ee=>ee.token.address===ce.address)||N.push({token:ce,value:{pre:j,post:_,diff:_-j}})}return{assetChanges:N,block:w,results:x}}const tl="0x6492649264926492649264926492649264926492649264926492649264926492";function Oy(e){if(Me(e,-32)!==tl)throw new Fy(e)}function Ry(e){const{data:t,signature:n,to:r}=e;return Oe(sa(Dd("address, bytes, bytes"),[r,t,n]),tl)}function ky(e){try{return Oy(e),!0}catch{return!1}}class Fy extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class nl extends fi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,L0(t);const r=ts(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),an(o)}update(t){return on(this),this.iHash.update(t),this}digestInto(t){on(this),At(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rl=(e,t,n)=>new nl(e,t).update(n).digest();rl.create=(e,t)=>new nl(e,t);const ca=BigInt(0),_o=BigInt(1);function dr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ua(e){if(!dr(e))throw new Error("Uint8Array expected")}function Kn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function gr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ca:BigInt("0x"+e)}const ol=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ny=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qn(e){if(ua(e),ol)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Ny[e[n]];return t}const De={_0:48,_9:57,A:65,F:70,a:97,f:102};function dc(e){if(e>=De._0&&e<=De._9)return e-De._0;if(e>=De.A&&e<=De.F)return e-(De.A-10);if(e>=De.a&&e<=De.f)return e-(De.a-10)}function Gr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ol)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=dc(e.charCodeAt(o)),a=dc(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function It(e){return sl(Qn(e))}function il(e){return ua(e),sl(Qn(Uint8Array.from(e).reverse()))}function lr(e,t){return Gr(e.toString(16).padStart(t*2,"0"))}function al(e,t){return lr(e,t).reverse()}function xe(e,t,n){let r;if(typeof t=="string")try{r=Gr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(dr(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Hr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ua(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const Ws=e=>typeof e=="bigint"&&ca<=e;function fa(e,t,n){return Ws(e)&&Ws(t)&&Ws(n)&&t<=e&&e<n}function rn(e,t,n,r){if(!fa(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function My(e){let t;for(t=0;e>ca;e>>=_o,t+=1);return t}const Ss=e=>(_o<<BigInt(e))-_o,Ks=e=>new Uint8Array(e),lc=e=>Uint8Array.from(e);function _y(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ks(e),s=Ks(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=Ks(0))=>{s=a(lc([0]),d),r=a(),d.length!==0&&(s=a(lc([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return Hr(...l)};return(d,l)=>{i(),c(d);let h;for(;!(h=l(u()));)c();return i(),h}}const zy={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||dr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function As(e,t,n={}){const r=(s,o,i)=>{const a=zy[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function hc(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const fe=BigInt(0),re=BigInt(1),Et=BigInt(2),jy=BigInt(3),cl=BigInt(4),ul=BigInt(5),fl=BigInt(8);function ue(e,t){const n=e%t;return n>=fe?n:t+n}function ve(e,t,n){let r=e;for(;t-- >fe;)r*=r,r%=n;return r}function zo(e,t){if(e===fe)throw new Error("invert: expected non-zero number");if(t<=fe)throw new Error("invert: expected positive modulus, got "+t);let n=ue(e,t),r=t,s=fe,o=re;for(;n!==fe;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==re)throw new Error("invert: does not exist");return ue(s,t)}function dl(e,t){const n=(e.ORDER+re)/cl,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ly(e,t){const n=(e.ORDER-ul)/fl,r=e.mul(t,Et),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Et),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Uy(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-re,n=0;for(;t%Et===fe;)t/=Et,n++;let r=Et;const s=da(e);for(;pc(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return dl;let o=s.pow(r,t);const i=(t+re)/Et;return function(c,u){if(c.is0(u))return u;if(pc(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),h=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const m=re<<BigInt(f-b-1),E=c.pow(d,m);f=b,d=c.sqr(E),l=c.mul(l,d),h=c.mul(h,E)}return h}}function qy(e){return e%cl===jy?dl:e%fl===ul?Ly:Uy(e)}const Dy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gy(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Dy.reduce((r,s)=>(r[s]="function",r),t);return As(e,n)}function Hy(e,t,n){if(n<fe)throw new Error("invalid exponent, negatives unsupported");if(n===fe)return e.ONE;if(n===re)return t;let r=e.ONE,s=t;for(;n>fe;)n&re&&(r=e.mul(r,s)),s=e.sqr(s),n>>=re;return r}function ll(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function pc(e,t){const n=(e.ORDER-re)/Et,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function hl(e,t){t!==void 0&&Gn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function da(e,t,n=!1,r={}){if(e<=fe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=hl(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Ss(s),ZERO:fe,ONE:re,create:c=>ue(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return fe<=c&&c<e},is0:c=>c===fe,isOdd:c=>(c&re)===re,neg:c=>ue(-c,e),eql:(c,u)=>c===u,sqr:c=>ue(c*c,e),add:(c,u)=>ue(c+u,e),sub:(c,u)=>ue(c-u,e),mul:(c,u)=>ue(c*u,e),pow:(c,u)=>Hy(a,c,u),div:(c,u)=>ue(c*zo(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>zo(c,e),sqrt:r.sqrt||(c=>(i||(i=qy(e)),i(a,c))),toBytes:c=>n?al(c,o):lr(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?il(c):It(c)},invertBatch:c=>ll(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function pl(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function bl(e){const t=pl(e);return t+Math.ceil(t/2)}function Vy(e,t,n=!1){const r=e.length,s=pl(t),o=bl(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?il(e):It(e),a=ue(i,t-re)+re;return n?al(a,s):lr(a,s)}const bc=BigInt(0),jo=BigInt(1);function Qs(e,t){const n=t.negate();return e?n:t}function yl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Zs(e,t){yl(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Ss(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function yc(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=jo);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function Wy(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ky(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ys=new WeakMap,ml=new WeakMap;function Js(e){return ml.get(e)||1}function Qy(e,t){return{constTimeNegate:Qs,hasPrecomputes(n){return Js(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>bc;)r&jo&&(s=s.add(o)),o=o.double(),r>>=jo;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Zs(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=Zs(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=yc(s,c,a);s=u,d?i=i.add(Qs(h,r[b])):o=o.add(Qs(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=Zs(n,t);for(let a=0;a<i.windows&&s!==bc;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=yc(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Ys.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Ys.set(r,s(o))),o},wNAFCached(n,r,s){const o=Js(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Js(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){yl(r,t),ml.set(n,r),Ys.delete(n)}}}function Zy(e,t,n,r){Wy(n,e),Ky(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=My(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Ss(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let h=d;h>=0;h-=c){f.fill(i);for(let p=0;p<o;p++){const m=r[p],E=Number(m>>BigInt(h)&u);f[E]=f[E].add(n[p])}let b=i;for(let p=f.length-1,m=i;p>0;p--)m=m.add(f[p]),b=b.add(m);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function gl(e){return Gy(e.Fp),As(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hl(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function mc(e){e.lowS!==void 0&&Kn("lowS",e.lowS),e.prehash!==void 0&&Kn("prehash",e.prehash)}function Yy(e){const t=gl(e);As(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Jy extends Error{constructor(t=""){super(t)}}const He={Err:Jy,_tlv:{encode:(e,t)=>{const{Err:n}=He;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=gr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?gr(s.length/2|128):"";return gr(e)+o+s+t},decode(e,t){const{Err:n}=He;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=He;if(e<Ve)throw new t("integer: negative integers are not allowed");let n=gr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=He;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return It(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=He,s=xe("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=He,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Xs(e,t){return Qn(lr(e,t))}const Ve=BigInt(0),Z=BigInt(1);BigInt(2);const eo=BigInt(3),Xy=BigInt(4);function em(e){const t=Yy(e),{Fp:n}=t,r=da(t.n,t.nBitLength),s=t.toBytes||((v,g,y)=>{const w=g.toAffine();return Hr(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(v=>{const g=v.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function i(v){const{a:g,b:y}=t,w=n.sqr(v),x=n.mul(w,v);return n.add(n.add(x,n.mul(v,g)),y)}function a(v,g){const y=n.sqr(g),w=i(v);return n.eql(y,w)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,eo),Xy),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(v){return fa(v,Z,t.n)}function d(v){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:w,n:x}=t;if(g&&typeof v!="bigint"){if(dr(v)&&(v=Qn(v)),typeof v!="string"||!g.includes(v.length))throw new Error("invalid private key");v=v.padStart(y*2,"0")}let I;try{I=typeof v=="bigint"?v:It(xe("private key",v,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof v)}return w&&(I=ue(I,x)),rn("private key",I,Z,x),I}function l(v){if(!(v instanceof p))throw new Error("ProjectivePoint expected")}const h=hc((v,g)=>{const{px:y,py:w,pz:x}=v;if(n.eql(x,n.ONE))return{x:y,y:w};const I=v.is0();g==null&&(g=I?n.ONE:n.inv(x));const $=n.mul(y,g),S=n.mul(w,g),B=n.mul(x,g);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:$,y:S}}),b=hc(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=v.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(g,y))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(g,y,w){if(g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");this.px=g,this.py=y,this.pz=w,Object.freeze(this)}static fromAffine(g){const{x:y,y:w}=g||{};if(!g||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof p)throw new Error("projective point not allowed");const x=I=>n.eql(I,n.ZERO);return x(y)&&x(w)?p.ZERO:new p(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=ll(n,g.map(w=>w.pz));return g.map((w,x)=>w.toAffine(y[x])).map(p.fromAffine)}static fromHex(g){const y=p.fromAffine(o(xe("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return p.BASE.multiply(d(g))}static msm(g,y){return Zy(p,r,g,y)}_setWindowSize(g){P.setWindowSize(this,g)}assertValidity(){b(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){l(g);const{px:y,py:w,pz:x}=this,{px:I,py:$,pz:S}=g,B=n.eql(n.mul(y,S),n.mul(I,x)),k=n.eql(n.mul(w,S),n.mul($,x));return B&&k}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=t,w=n.mul(y,eo),{px:x,py:I,pz:$}=this;let S=n.ZERO,B=n.ZERO,k=n.ZERO,F=n.mul(x,x),z=n.mul(I,I),O=n.mul($,$),T=n.mul(x,I);return T=n.add(T,T),k=n.mul(x,$),k=n.add(k,k),S=n.mul(g,k),B=n.mul(w,O),B=n.add(S,B),S=n.sub(z,B),B=n.add(z,B),B=n.mul(S,B),S=n.mul(T,S),k=n.mul(w,k),O=n.mul(g,O),T=n.sub(F,O),T=n.mul(g,T),T=n.add(T,k),k=n.add(F,F),F=n.add(k,F),F=n.add(F,O),F=n.mul(F,T),B=n.add(B,F),O=n.mul(I,$),O=n.add(O,O),F=n.mul(O,T),S=n.sub(S,F),k=n.mul(O,z),k=n.add(k,k),k=n.add(k,k),new p(S,B,k)}add(g){l(g);const{px:y,py:w,pz:x}=this,{px:I,py:$,pz:S}=g;let B=n.ZERO,k=n.ZERO,F=n.ZERO;const z=t.a,O=n.mul(t.b,eo);let T=n.mul(y,I),N=n.mul(w,$),R=n.mul(x,S),_=n.add(y,w),j=n.add(I,$);_=n.mul(_,j),j=n.add(T,N),_=n.sub(_,j),j=n.add(y,x);let U=n.add(I,S);return j=n.mul(j,U),U=n.add(T,R),j=n.sub(j,U),U=n.add(w,x),B=n.add($,S),U=n.mul(U,B),B=n.add(N,R),U=n.sub(U,B),F=n.mul(z,j),B=n.mul(O,R),F=n.add(B,F),B=n.sub(N,F),F=n.add(N,F),k=n.mul(B,F),N=n.add(T,T),N=n.add(N,T),R=n.mul(z,R),j=n.mul(O,j),N=n.add(N,R),R=n.sub(T,R),R=n.mul(z,R),j=n.add(j,R),T=n.mul(N,j),k=n.add(k,T),T=n.mul(U,j),B=n.mul(_,B),B=n.sub(B,T),T=n.mul(_,N),F=n.mul(U,F),F=n.add(F,T),new p(B,k,F)}subtract(g){return this.add(g.negate())}is0(){return this.equals(p.ZERO)}wNAF(g){return P.wNAFCached(this,g,p.normalizeZ)}multiplyUnsafe(g){const{endo:y,n:w}=t;rn("scalar",g,Ve,w);const x=p.ZERO;if(g===Ve)return x;if(this.is0()||g===Z)return this;if(!y||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,g,p.normalizeZ);let{k1neg:I,k1:$,k2neg:S,k2:B}=y.splitScalar(g),k=x,F=x,z=this;for(;$>Ve||B>Ve;)$&Z&&(k=k.add(z)),B&Z&&(F=F.add(z)),z=z.double(),$>>=Z,B>>=Z;return I&&(k=k.negate()),S&&(F=F.negate()),F=new p(n.mul(F.px,y.beta),F.py,F.pz),k.add(F)}multiply(g){const{endo:y,n:w}=t;rn("scalar",g,Z,w);let x,I;if(y){const{k1neg:$,k1:S,k2neg:B,k2:k}=y.splitScalar(g);let{p:F,f:z}=this.wNAF(S),{p:O,f:T}=this.wNAF(k);F=P.constTimeNegate($,F),O=P.constTimeNegate(B,O),O=new p(n.mul(O.px,y.beta),O.py,O.pz),x=F.add(O),I=z.add(T)}else{const{p:$,f:S}=this.wNAF(g);x=$,I=S}return p.normalizeZ([x,I])[0]}multiplyAndAddUnsafe(g,y,w){const x=p.BASE,I=(S,B)=>B===Ve||B===Z||!S.equals(x)?S.multiplyUnsafe(B):S.multiply(B),$=I(this,y).add(I(g,w));return $.is0()?void 0:$}toAffine(g){return h(this,g)}isTorsionFree(){const{h:g,isTorsionFree:y}=t;if(g===Z)return!0;if(y)return y(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=t;return g===Z?this:y?y(p,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return Kn("isCompressed",g),this.assertValidity(),s(p,this,g)}toHex(g=!0){return Kn("isCompressed",g),Qn(this.toRawBytes(g))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:E}=t,P=Qy(p,m?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function tm(e){const t=gl(e);return As(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function nm(e){const t=tm(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(O){return ue(O,r)}function u(O){return zo(O,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=em({...t,toBytes(O,T,N){const R=T.toAffine(),_=n.toBytes(R.x),j=Hr;return Kn("isCompressed",N),N?j(Uint8Array.from([T.hasEvenY()?2:3]),_):j(Uint8Array.from([4]),_,n.toBytes(R.y))},fromBytes(O){const T=O.length,N=O[0],R=O.subarray(1);if(T===i&&(N===2||N===3)){const _=It(R);if(!fa(_,Z,n.ORDER))throw new Error("Point is not on curve");const j=l(_);let U;try{U=n.sqrt(j)}catch(ce){const ee=ce instanceof Error?": "+ce.message:"";throw new Error("Point is not on curve"+ee)}const q=(U&Z)===Z;return(N&1)===1!==q&&(U=n.neg(U)),{x:_,y:U}}else if(T===a&&N===4){const _=n.fromBytes(R.subarray(0,n.BYTES)),j=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:_,y:j}}else{const _=i,j=a;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+j+", got "+T)}}});function b(O){const T=r>>Z;return O>T}function p(O){return b(O)?c(-O):O}const m=(O,T,N)=>It(O.slice(T,N));class E{constructor(T,N,R){rn("r",T,Z,r),rn("s",N,Z,r),this.r=T,this.s=N,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(T){const N=s;return T=xe("compactSignature",T,N*2),new E(m(T,0,N),m(T,N,2*N))}static fromDER(T){const{r:N,s:R}=He.toSig(xe("DER",T));return new E(N,R)}assertValidity(){}addRecoveryBit(T){return new E(this.r,this.s,T)}recoverPublicKey(T){const{r:N,s:R,recovery:_}=this,j=x(xe("msgHash",T));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const U=_===2||_===3?N+t.n:N;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(_&1)===0?"02":"03",Ae=f.fromHex(q+Xs(U,n.BYTES)),ce=u(U),ee=c(-j*ce),Ht=c(R*ce),nt=f.BASE.multiplyAndAddUnsafe(Ae,ee,Ht);if(!nt)throw new Error("point at infinify");return nt.assertValidity(),nt}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Gr(this.toDERHex())}toDERHex(){return He.hexFromSig(this)}toCompactRawBytes(){return Gr(this.toCompactHex())}toCompactHex(){const T=s;return Xs(this.r,T)+Xs(this.s,T)}}const P={isValidPrivateKey(O){try{return d(O),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const O=bl(t.n);return Vy(t.randomBytes(O),t.n)},precompute(O=8,T=f.BASE){return T._setWindowSize(O),T.multiply(BigInt(3)),T}};function v(O,T=!0){return f.fromPrivateKey(O).toRawBytes(T)}function g(O){if(typeof O=="bigint")return!1;if(O instanceof f)return!0;const N=xe("key",O).length,R=n.BYTES,_=R+1,j=2*R+1;if(!(t.allowedPrivateKeyLengths||s===_))return N===_||N===j}function y(O,T,N=!0){if(g(O)===!0)throw new Error("first arg must be private key");if(g(T)===!1)throw new Error("second arg must be public key");return f.fromHex(T).multiply(d(O)).toRawBytes(N)}const w=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const T=It(O),N=O.length*8-o;return N>0?T>>BigInt(N):T},x=t.bits2int_modN||function(O){return c(w(O))},I=Ss(o);function $(O){return rn("num < 2^"+o,O,Ve,I),lr(O,s)}function S(O,T,N=B){if(["recovered","canonical"].some(vt=>vt in N))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:_}=t;let{lowS:j,prehash:U,extraEntropy:q}=N;j==null&&(j=!0),O=xe("msgHash",O),mc(N),U&&(O=xe("prehashed msgHash",R(O)));const Ae=x(O),ce=d(T),ee=[$(ce),$(Ae)];if(q!=null&&q!==!1){const vt=q===!0?_(n.BYTES):q;ee.push(xe("extraEntropy",vt))}const Ht=Hr(...ee),nt=Ae;function Bs(vt){const Vt=w(vt);if(!h(Vt))return;const Ts=u(Vt),Mn=f.BASE.multiply(Vt).toAffine(),xt=c(Mn.x);if(xt===Ve)return;const _n=c(Ts*c(nt+xt*ce));if(_n===Ve)return;let Wt=(Mn.x===xt?0:2)|Number(Mn.y&Z),Ea=_n;return j&&b(_n)&&(Ea=p(_n),Wt^=1),new E(xt,Ea,Wt)}return{seed:Ht,k2sig:Bs}}const B={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function F(O,T,N=B){const{seed:R,k2sig:_}=S(O,T,N),j=t;return _y(j.hash.outputLen,j.nByteLength,j.hmac)(R,_)}f.BASE._setWindowSize(8);function z(O,T,N,R=k){const _=O;T=xe("msgHash",T),N=xe("publicKey",N);const{lowS:j,prehash:U,format:q}=R;if(mc(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const Ae=typeof _=="string"||dr(_),ce=!Ae&&!q&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!Ae&&!ce)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,Ht;try{if(ce&&(ee=new E(_.r,_.s)),Ae){try{q!=="compact"&&(ee=E.fromDER(_))}catch(Wt){if(!(Wt instanceof He.Err))throw Wt}!ee&&q!=="der"&&(ee=E.fromCompact(_))}Ht=f.fromHex(N)}catch{return!1}if(!ee||j&&ee.hasHighS())return!1;U&&(T=t.hash(T));const{r:nt,s:Bs}=ee,vt=x(T),Vt=u(Bs),Ts=c(vt*Vt),Mn=c(nt*Vt),xt=f.BASE.multiplyAndAddUnsafe(Ht,Ts,Mn)?.toAffine();return xt?c(xt.x)===nt:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:y,sign:F,verify:z,ProjectivePoint:f,Signature:E,utils:P}}function rm(e){return{hash:e,hmac:(t,...n)=>rl(e,t,V0(...n)),randomBytes:W0}}function sm(e,t){const n=r=>nm({...e,...rm(r)});return{...n(t),create:n}}const wl=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),om=BigInt(0),im=BigInt(1),Lo=BigInt(2),wc=(e,t)=>(e+t/Lo)/t;function am(e){const t=wl,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ve(f,n,t)*f%t,l=ve(d,n,t)*f%t,h=ve(l,Lo,t)*u%t,b=ve(h,s,t)*h%t,p=ve(b,o,t)*b%t,m=ve(p,a,t)*p%t,E=ve(m,c,t)*m%t,P=ve(E,a,t)*p%t,v=ve(P,n,t)*f%t,g=ve(v,i,t)*b%t,y=ve(g,r,t)*u%t,w=ve(y,Lo,t);if(!Uo.eql(Uo.sqr(w),e))throw new Error("Cannot find square root");return w}const Uo=da(wl,void 0,void 0,{sqrt:am}),la=sm({a:om,b:BigInt(7),Fp:Uo,n:gc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=gc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-im*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=wc(o*e,t),c=wc(-r*e,t);let u=ue(e-a*n-c*s,t),f=ue(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},vf),cm=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:la},Symbol.toStringTag,{value:"Module"}));function qo({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new la.Signature(le(e),le(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ge(i)}async function $s(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return Pe(c)?c:typeof c=="object"&&"r"in c&&"s"in c?qo(c):W(c)})();try{return ly(a)?await um(e,{...t,multicallAddress:i,signature:a}):await fm(e,{...t,verifierAddress:o,signature:a})}catch(c){try{if(Ut(We(n),await Ii({hash:s,signature:a})))return!0}catch{}if(c instanceof Nt)return!1;throw c}}async function um(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=dy(t.signature);if(await To(e,{address:n,blockNumber:r,blockTag:s})===pe(["0xef0100",a.address]))return await dm(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:C(a.r,{size:32}),s:C(a.s,{size:32}),yParity:a.yParity};if(!await Rb({address:n,authorization:l}))throw new Nt;const b=await M(e,Ie,"readContract")({...i?{address:i}:{code:Ui},authorizationList:[l],abi:Ft,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:oe({abi:Df,functionName:"isValidSignature",args:[o,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Nt}async function fm(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||ky(i)?i:Ry({data:s,signature:i,to:r}))(),f=a?{to:a,data:oe({abi:_r,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:or({abi:_r,args:[n,o,u],bytecode:$o}),...c},{data:d}=await M(e,Dt,"call")(f).catch(l=>{throw l instanceof Ei?new Nt:l});if(Tu(d??"0x0"))return!0;throw new Nt}async function dm(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await M(e,Ie,"readContract")({address:n,abi:Df,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Pi?new Nt:c})).startsWith("0x1626ba7e"))return!0;throw new Nt}class Nt extends Error{}async function lm(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Zi(n);return M(e,$s,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function hm(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Bd({message:i,primaryType:a,types:c,domain:u});return M(e,$s,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function vl(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=V(["watchBlockNumber",e.uid,t,n,i]);return Xe(d,{onBlockNumber:r,onError:s},l=>Fn(async()=>{try{const h=await M(e,ir,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let b=c+1n;b<h;b++)l.onBlockNumber(b,c),c=b}(c===void 0||h>c)&&(l.onBlockNumber(h,c),c=h)}catch(h){l.onError?.(h)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=V(["watchBlockNumber",e.uid,t,n]);return Xe(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:m}=await p.subscribe({params:["newHeads"],onData(E){if(!h)return;const P=le(E.result?.number);l.onBlockNumber(P,c),c=P},onError(E){l.onError?.(E)}});b=m,h||b()}catch(p){s?.(p)}})(),()=>b()})})()}async function ha(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=V(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,h,b=!1,p,m;const{promise:E,resolve:P,reject:v}=Di(),g=c?setTimeout(()=>{m?.(),p?.(),v(new uf({hash:s}))},c):void 0;return p=Xe(u,{onReplaced:o,resolve:P,reject:v},async y=>{if(h=await M(e,Er,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(g),y.resolve(h),p?.();return}m=M(e,vl,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(w){const x=$=>{clearTimeout(g),m?.(),$(),p?.()};let I=w;if(!b)try{if(h){if(r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;x(()=>y.resolve(h));return}if(n&&!d&&(b=!0,await $n(async()=>{d=await M(e,Ps,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:a,retryCount:i}),b=!1),h=await M(e,Er,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;x(()=>y.resolve(h))}catch($){if($ instanceof vi||$ instanceof xi){if(!d){b=!1;return}try{l=d,b=!0;const S=await $n(()=>M(e,Be,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:F})=>F instanceof $i});b=!1;const B=S.transactions.find(({from:F,nonce:z})=>F===l.from&&z===l.nonce);if(!B||(h=await M(e,Er,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r)))return;let k="replaced";B.to===l.to&&B.value===l.value&&B.input===l.input?k="repriced":B.from===B.to&&B.value===0n&&(k="cancelled"),x(()=>{y.onReplaced?.({reason:k,replacedTransaction:l,transaction:B,transactionReceipt:h}),y.resolve(h)})}catch(S){x(()=>y.reject(S))}}else x(()=>y.reject($))}}})}),E}function pm(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const b=V(["watchBlocks",e.uid,t,n,r,f,c]);return Xe(b,{onBlock:s,onError:o},p=>Fn(async()=>{try{const m=await M(e,Be,"getBlock")({blockTag:t,includeTransactions:f});if(m.number!==null&&d?.number!=null){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let E=d?.number+1n;E<m.number;E++){const P=await M(e,Be,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(P,d),d=P}}(d?.number==null||t==="pending"&&m?.number==null||m.number!==null&&m.number>d.number)&&(p.onBlock(m,d),d=m)}catch(m){p.onError?.(m)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,m=()=>b=!1;return(async()=>{try{r&&M(e,Be,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{b&&p&&(s(v,void 0),p=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(g=>g.config.type==="webSocket"||g.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:P}=await E.subscribe({params:["newHeads"],async onData(v){if(!b)return;const g=await M(e,Be,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});b&&(s(g,d),p=!1,d=g)},onError(v){o?.(v)}});m=P,b||m()}catch(E){o?.(E)}})(),()=>m()})()}function bm(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const m=V(["watchEvent",t,n,r,e.uid,s,f,i]);return Xe(m,{onLogs:c,onError:a},E=>{let P;i!==void 0&&(P=i-1n);let v,g=!1;const y=Fn(async()=>{if(!g){try{v=await M(e,yd,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}g=!0;return}try{let w;if(v)w=await M(e,bs,"getFilterChanges")({filter:v});else{const x=await M(e,ir,"getBlockNumber")({});P&&P!==x?w=await M(e,zi,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:P+1n,toBlock:x}):w=[],P=x}if(w.length===0)return;if(r)E.onLogs(w);else for(const x of w)E.onLogs([x])}catch(w){v&&w instanceof Je&&(g=!1),E.onError?.(w)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await M(e,ys,"uninstallFilter")({filter:v}),y()}})})():(()=>{let m=!0,E=()=>m=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let g=[];v&&(g=[v.flatMap(x=>Tn({abi:[x],eventName:x.name,args:n}))],s&&(g=g[0]));const{unsubscribe:y}=await P.subscribe({params:["logs",{address:t,topics:g}],onData(w){if(!m)return;const x=w.result;try{const{eventName:I,args:$}=Vn({abi:v??[],data:x.data,topics:x.topics,strict:h}),S=_e(x,{args:$,eventName:I});c([S])}catch(I){let $,S;if(I instanceof Dn||I instanceof Jr){if(d)return;$=I.abiItem.name,S=I.abiItem.inputs?.some(k=>!("name"in k&&k.name))}const B=_e(x,{args:S?[]:{},eventName:$});c([B])}},onError(w){a?.(w)}});E=y,m||E()}catch(P){a?.(P)}})(),()=>E()})()}function ym(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=V(["watchPendingTransactions",e.uid,t,o]);return Xe(u,{onTransactions:r,onError:n},f=>{let d;const l=Fn(async()=>{try{if(!d)try{d=await M(e,md,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await M(e,bs,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await M(e,ys,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function mm(e){const{scheme:t,statement:n,...r}=e.match(gm)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(wm)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const gm=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,wm=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function vm(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!Q(r.address,{strict:!1})||t&&!Ut(r.address,t))return!1}catch{return!1}return!0}async function xm(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=mm(s);if(!f.address||!vm({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Zi(s);return $s(e,{address:f.address,hash:l,signature:a,...u})}async function pa(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,C(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||ws)(s);if(i.status==="reverted"&&n)throw new cf({receipt:i});return i}function ba(e){return{call:t=>Dt(e,t),createAccessList:t=>bd(e,t),createBlockFilter:()=>lb(e),createContractEventFilter:t=>Vu(e,t),createEventFilter:t=>yd(e,t),createPendingTransactionFilter:()=>md(e),estimateContractGas:t=>rp(e,t),estimateGas:t=>_i(e,t),getBalance:t=>hb(e,t),getBlobBaseFee:()=>pb(e),getBlock:t=>Be(e,t),getBlockNumber:t=>ir(e,t),getBlockTransactionCount:t=>bb(e,t),getBytecode:t=>To(e,t),getChainId:()=>mt(e),getCode:t=>To(e,t),getContractEvents:t=>Cf(e,t),getEip712Domain:t=>mb(e,t),getEnsAddress:t=>Yp(e,t),getEnsAvatar:t=>ub(e,t),getEnsName:t=>fb(e,t),getEnsResolver:t=>db(e,t),getEnsText:t=>pd(e,t),getFeeHistory:t=>vb(e,t),estimateFeesPerGas:t=>Vh(e,t),getFilterChanges:t=>bs(e,t),getFilterLogs:t=>xb(e,t),getGasPrice:()=>Bi(e),getLogs:t=>zi(e,t),getProof:t=>gy(e,t),estimateMaxPriorityFeePerGas:t=>Hh(e,t),fillTransaction:t=>Ni(e,t),getStorageAt:t=>wy(e,t),getTransaction:t=>Ps(e,t),getTransactionConfirmations:t=>vy(e,t),getTransactionCount:t=>Ti(e,t),getTransactionReceipt:t=>Er(e,t),multicall:t=>xy(e,t),prepareTransactionRequest:t=>nr(e,t),readContract:t=>Ie(e,t),sendRawTransaction:t=>Gi(e,t),sendRawTransactionSync:t=>pa(e,t),simulate:t=>Fo(e,t),simulateBlocks:t=>Fo(e,t),simulateCalls:t=>Ty(e,t),simulateContract:t=>Up(e,t),verifyHash:t=>$s(e,t),verifyMessage:t=>lm(e,t),verifySiweMessage:t=>xm(e,t),verifyTypedData:t=>hm(e,t),uninstallFilter:t=>ys(e,t),waitForTransactionReceipt:t=>ha(e,t),watchBlocks:t=>pm(e,t),watchBlockNumber:t=>vl(e,t),watchContractEvent:t=>Wp(e,t),watchEvent:t=>bm(e,t),watchPendingTransactions:t=>ym(e,t)}}function Em(e){const{key:t="public",name:n="Public Client"}=e;return ar({...e,key:t,name:n,type:"publicClient"}).extend(ba)}async function Pm(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:C(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Im(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=or({abi:n,args:r,bytecode:s});return gs(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function Sm(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Bn(n))}async function Am(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?G(n):void 0,o=r?[s?.address,[C(r)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function $m(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function xl(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new gt({docsPath:"/docs/eip7702/prepareAuthorization"});const o=G(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:G(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await M(e,mt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await M(e,Ti,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&Ut(i.address,o.address))&&(a.nonce+=1)),a}async function Cm(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>We(n))}async function Bm(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Tm(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max((n?.blockTime??0)*3,5e3),s=await M(e,td,"sendCalls")(t);return await M(e,rd,"waitForCallsStatus")({...t,id:s.id,timeout:r})}const to=new Lt(128);async function El(e,t){const{account:n=e.account,assertChainId:r=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:u=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,pollingInterval:m,throwOnReceiptRevert:E,type:P,value:v,...g}=t,y=t.timeout??Math.max((s?.blockTime??0)*3,5e3);if(typeof n>"u")throw new gt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const w=n?G(n):null;try{Le(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await os({authorization:i[0]}).catch(()=>{throw new A("`to` is required. Could not infer from `authorizationList`.")})})();if(w?.type==="json-rpc"||w===null){let I;s!==null&&(I=await M(e,mt,"getChainId")({}),r&&ms({currentChainId:I,chain:s}));const $=e.chain?.formatters?.transactionRequest?.format,B=($||je)({...kn(g,{format:$}),accessList:o,account:w,authorizationList:i,blobs:a,chainId:I,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,to:x,type:P,value:v},"sendTransaction"),k=to.get(e.uid),F=k?"wallet_sendTransaction":"eth_sendTransaction",z=await(async()=>{try{return await e.request({method:F,params:[B]},{retryCount:0})}catch(T){if(k===!1)throw T;const N=T;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(R=>(to.set(e.uid,!0),R)).catch(R=>{const _=R;throw _.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError"?(to.set(e.uid,!1),N):_});throw N}})(),O=await M(e,ha,"waitForTransactionReceipt")({checkReplacement:!1,hash:z,pollingInterval:m,timeout:y});if(E&&O.status==="reverted")throw new cf({receipt:O});return O}if(w?.type==="local"){const I=await M(e,nr,"prepareTransactionRequest")({account:w,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&J([c,u??"0x"]),gas:f,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:p,nonceManager:w.nonceManager,parameters:[...Mi,"sidecars"],type:P,value:v,...g,to:x}),$=s?.serializers?.transaction,S=await w.signTransaction(I,{serializer:$});return await M(e,pa,"sendRawTransactionSync")({serializedTransaction:S,throwOnReceiptRevert:E,timeout:t.timeout})}throw w?.type==="smart"?new Pt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pt({docsPath:"/docs/actions/wallet/sendTransactionSync",type:w?.type})}catch(x){throw x instanceof Pt?x:ls(x,{...t,account:w,chain:t.chain||void 0})}}async function Om(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Rm(e,t){const{account:n=e.account}=t;if(!n)throw new gt({docsPath:"/docs/eip7702/signAuthorization"});const r=G(n);if(!r.signAuthorization)throw new Pt({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await xl(e,t);return r.signAuthorization(s)}async function km(e,{account:t=e.account,message:n}){if(!t)throw new gt({docsPath:"/docs/actions/wallet/signMessage"});const r=G(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?ut(n):n.raw instanceof Uint8Array?me(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Fm(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new gt({docsPath:"/docs/actions/wallet/signTransaction"});const o=G(n);Le({account:o,...t});const i=await M(e,mt,"getChainId")({});r!==null&&ms({currentChainId:i,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||je;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:C(i),from:o.address}]},{retryCount:0})}async function Nm(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new gt({docsPath:"/docs/actions/wallet/signTypedData"});const i=G(n),a={EIP712Domain:Ji({domain:r}),...t.types};if(Yi({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Cd({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Mm(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:C(t)}]},{retryCount:0})}async function _m(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function zm(e,t){return An.internal(e,El,"sendTransactionSync",t)}function Pl(e){return{addChain:t=>Pm(e,t),deployContract:t=>Im(e,t),fillTransaction:t=>Ni(e,t),getAddresses:()=>Sm(e),getCallsStatus:t=>nd(e,t),getCapabilities:t=>Am(e,t),getChainId:()=>mt(e),getPermissions:()=>$m(e),prepareAuthorization:t=>xl(e,t),prepareTransactionRequest:t=>nr(e,t),requestAddresses:()=>Cm(e),requestPermissions:t=>Bm(e,t),sendCalls:t=>td(e,t),sendCallsSync:t=>Tm(e,t),sendRawTransaction:t=>Gi(e,t),sendRawTransactionSync:t=>pa(e,t),sendTransaction:t=>gs(e,t),sendTransactionSync:t=>El(e,t),showCallsStatus:t=>Om(e,t),signAuthorization:t=>Rm(e,t),signMessage:t=>km(e,t),signTransaction:t=>Fm(e,t),signTypedData:t=>Nm(e,t),switchChain:t=>Mm(e,t),waitForCallsStatus:t=>rd(e,t),watchAsset:t=>_m(e,t),writeContract:t=>An(e,t),writeContractSync:t=>zm(e,t)}}function jm(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return ar({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Pl)}function Cs({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=od();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:Fb(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function Il(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Cs({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function Lm(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:o=Sl,retryCount:i,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const b=Cs({key:n,name:r,async request({method:p,params:m}){let E;const P=async(v=0)=>{const g=l[v]({...d,chain:c,retryCount:0,timeout:f});try{const y=await g.request({method:p,params:m});return h({method:p,params:m,response:y,transport:g,status:"success"}),y}catch(y){if(h({error:y,method:p,params:m,transport:g,status:"error"}),o(y)||v===l.length-1||(E??=l.slice(v+1).some(w=>{const{include:x,exclude:I}=w({chain:c}).config.methods||{};return x?x.includes(p):I?!I.includes(p):!0}),!E))throw y;return P(v+1)}};return P()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};Um({chain:c,interval:p.interval??u,onTransports:m=>l=m,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return b})}function Sl(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Ct.code||e.code===X.code||e.code===In.code||it.nodeMessage.test(e.message)||e.code===5e3))}function Um({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:o=1e3,transports:i,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(i.map(async p=>{const m=p({chain:e,retryCount:0,timeout:o}),E=Date.now();let P,v;try{await(r?r({transport:m}):m.request({method:"net_listening"})),v=1}catch{v=0}finally{P=Date.now()}return{latency:P-E,success:v}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:m})=>m)))),b=i.map((p,m)=>{const E=f.map(w=>w[m].latency),v=1-E.reduce((w,x)=>w+x,0)/E.length/h,g=f.map(w=>w[m].success),y=g.reduce((w,x)=>w+x,0)/g.length;return y===0?[0,m]:[u*v+c*y,m]}).sort((p,m)=>m[0]-p[0]);n(b.map(([,p])=>i[p])),await jr(t),d()};d()}class Al extends A{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function qm(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},E=t.retryCount??h,P=b??t.timeout??1e4,v=e||l?.rpcUrls.default.http[0];if(!v)throw new Al;const g=Db(v,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:P});return Cs({key:o,methods:i,name:a,async request({method:y,params:w}){const x={method:y,params:w},{schedule:I}=Kf({id:v,wait:m,shouldSplitBatch(k){return k.length>p},fn:k=>g.request({body:k}),sort:(k,F)=>k.id-F.id}),$=async k=>n?I(k):[await g.request({body:k})],[{error:S,result:B}]=await $(x);if(d)return{error:S,result:B};if(S)throw new ss({body:x,error:S,url:v});return B},retryCount:E,retryDelay:f,timeout:P,type:"http"},{fetchOptions:s,url:v})}}function vc(e){const{r:t,s:n}=la.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:C(t,{size:32}),s:C(n,{size:32}),v:s,yParity:o}:{r:C(t,{size:32}),s:C(n,{size:32}),yParity:o}}const z6=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:pu,AbiConstructorParamsNotFoundError:wo,AbiDecodingDataSizeTooSmallError:ni,AbiDecodingZeroDataError:Cn,AbiEncodingArrayLengthMismatchError:bu,AbiEncodingBytesSizeMismatchError:yu,AbiEncodingLengthMismatchError:ri,AbiErrorInputsNotFoundError:mu,AbiErrorNotFoundError:vo,AbiErrorSignatureNotFoundError:si,AbiEventNotFoundError:xo,AbiEventSignatureEmptyTopicsError:gu,AbiEventSignatureNotFoundError:wu,AbiFunctionNotFoundError:St,AbiFunctionOutputsNotFoundError:oi,AbiFunctionSignatureNotFoundError:vu,AccountStateConflictError:tf,AtomicReadyWalletRejectedUpgradeError:Pn,AtomicityNotSupportedError:Ot,BaseError:A,BaseFeeScalarError:Ai,BlockNotFoundError:$i,BundleFailedError:Yf,BundleTooLargeError:En,BytesSizeMismatchError:ii,CallExecutionError:Ei,ChainDisconnectedError:gn,ChainDoesNotSupportContract:zr,ChainMismatchError:Hf,ChainNotFoundError:Vf,CircularReferenceError:cu,ClientChainNotConfiguredError:qi,ContractFunctionExecutionError:Pi,ContractFunctionRevertedError:Cr,ContractFunctionZeroDataError:ff,CounterfactualDeploymentFailedError:df,DecodeLogDataMismatch:Dn,DecodeLogTopicsMismatch:Jr,DuplicateIdError:vn,Eip1559FeesNotSupportedError:cs,EnsAvatarInvalidNftUriError:Jt,EnsAvatarUnsupportedNamespaceError:dd,EnsAvatarUriResolutionError:vs,EstimateGasExecutionError:yf,ExecutionRevertedError:it,FeeCapTooHighError:bt,FeeCapTooLowError:Br,FilterTypeNotSupportedError:Su,HttpRequestError:ct,InsufficientFundsError:kr,IntegerOutOfRangeError:Xr,InternalRpcError:dt,IntrinsicGasTooHighError:Fr,IntrinsicGasTooLowError:Nr,InvalidAbiDecodingTypeError:Eu,InvalidAbiEncodingTypeError:xu,InvalidAbiItemError:Jc,InvalidAbiParametersError:eu,InvalidAbiTypeParameterError:ou,InvalidAddressError:se,InvalidArrayError:ai,InvalidBytesBooleanError:$u,InvalidChainIdError:sr,InvalidDecimalNumberError:Qd,InvalidDefinitionTypeError:Pu,InvalidDomainError:Sd,InvalidFunctionModifierError:su,InvalidHexBooleanError:Cu,InvalidInputRpcError:Je,InvalidLegacyVError:rf,InvalidModifierError:ru,InvalidParameterError:tu,InvalidParamsRpcError:ln,InvalidParenthesisError:uu,InvalidPrimaryTypeError:Ad,InvalidRequestRpcError:fn,InvalidSerializableTransactionError:sf,InvalidSignatureError:zt,InvalidStorageKeySizeError:of,InvalidStructSignatureError:au,InvalidStructTypeError:$d,JsonRpcVersionUnsupportedError:pn,LimitExceededRpcError:Bt,MaxFeePerGasTooLowError:gf,MethodNotFoundRpcError:dn,MethodNotSupportedRpcError:ot,NonceMaxValueError:Rr,NonceTooHighError:Tr,NonceTooLowError:Or,ParseRpcError:un,ProviderDisconnectedError:mn,ProviderRpcError:ae,RawContractError:Xn,ResourceNotFoundRpcError:hn,ResourceUnavailableRpcError:Qe,RpcError:ie,RpcRequestError:ss,SizeExceedsPaddingSizeError:ui,SizeOverflowError:Bu,SliceOffsetOutOfBoundsError:ci,SolidityProtectedKeywordError:nu,StateAssignmentConflictError:nf,SwitchChainError:lt,TimeoutError:Io,TipAboveFeeCapError:Sn,TransactionExecutionError:af,TransactionNotFoundError:vi,TransactionReceiptNotFoundError:xi,TransactionRejectedRpcError:Ct,TransactionTypeNotSupportedError:Mr,UnauthorizedProviderError:bn,UnknownBundleIdError:xn,UnknownNodeError:Rn,UnknownRpcError:lf,UnknownSignatureError:iu,UnknownTypeError:Xc,UnsupportedChainIdError:wn,UnsupportedNonOptionalCapabilityError:Tt,UnsupportedPackedAbiType:Iu,UnsupportedProviderMethodError:yn,UrlRequiredError:Al,UserRejectedRequestError:X,WaitForCallsStatusTimeoutError:sd,WaitForTransactionReceiptTimeoutError:uf,assertCurrentChain:ms,assertRequest:Le,assertTransactionEIP1559:xs,assertTransactionEIP2930:wd,assertTransactionLegacy:vd,blobsToCommitments:fs,blobsToProofs:ds,boolToBytes:Ru,boolToHex:es,bytesToBigInt:Zu,bytesToBool:Yu,bytesToHex:W,bytesToNumber:Ne,bytesToString:Ju,ccipFetch:Ur,ccipRequest:Ur,checksumAddress:Bn,commitmentToVersionedHash:Ef,commitmentsToVersionedHashes:Oi,concat:J,concatBytes:Uu,concatHex:pe,createClient:ar,createNonceManager:Ub,createPublicClient:Em,createTransport:Cs,createWalletClient:jm,custom:Il,decodeAbiParameters:On,decodeErrorResult:mi,decodeEventLog:Vn,decodeFunctionData:id,decodeFunctionResult:tt,defineBlock:Gh,defineChain:Lb,defineTransaction:qh,defineTransactionReceipt:Kp,defineTransactionRequest:zh,deploylessCallViaBytecodeBytecode:Li,deploylessCallViaFactoryBytecode:Gf,encodeAbiParameters:ze,encodeDeployData:or,encodeErrorResult:Bo,encodeEventTopics:Tn,encodeFunctionData:oe,encodeFunctionResult:ad,encodePacked:Eb,erc20Abi:Np,erc6492SignatureValidatorAbi:_r,erc6492SignatureValidatorByteCode:$o,ethAddress:el,etherUnits:gi,fallback:Lm,formatBlock:us,formatEther:rs,formatGwei:ne,formatLog:_e,formatTransaction:tr,formatTransactionReceipt:ws,formatTransactionRequest:je,formatUnits:wi,getAbiItem:yt,getAddress:We,getChainContractAddress:qt,getContractError:ht,getEventSelector:cn,getEventSignature:Un,getFunctionSelector:$t,getFunctionSignature:Un,getTransactionType:Fi,getTypesForEIP712Domain:Ji,gweiUnits:ef,hashDomain:Td,hashMessage:Zi,hashStruct:Xi,hashTypedData:Bd,hexToBigInt:le,hexToBool:Tu,hexToBytes:ge,hexToNumber:ye,hexToSignature:vc,hexToString:Ou,http:qm,isAddress:Q,isAddressEqual:Ut,isHex:Pe,keccak256:Y,labelhash:fd,maxUint16:Uh,maxUint256:er,multicall3Abi:Ft,namehash:Lr,numberToBytes:ku,numberToHex:C,offchainLookup:Ed,offchainLookupAbiItem:Ki,offchainLookupSignature:xd,pad:Fe,padBytes:Au,padHex:Ke,parseAbi:ti,parseAbiItem:yo,parseAbiParameters:mo,parseEther:by,parseEventLogs:hs,parseSignature:vc,parseUnits:Zd,prepareEncodeFunctionData:Wu,presignMessagePrefix:Pd,publicActions:ba,recoverAddress:Ii,recoverPublicKey:hf,rpcTransactionType:mf,serializeAccessList:ur,serializeErc6492Signature:py,serializeSignature:qo,serializeTransaction:Sb,serializeTypedData:Cd,sha256:xf,shouldThrow:Sl,signatureToHex:qo,size:H,slice:ft,sliceBytes:di,sliceHex:$r,stringToBytes:at,stringToHex:ut,stringify:V,toBlobSidecars:ki,toBlobs:$f,toBytes:jt,toEventHash:Ar,toEventSelector:cn,toEventSignature:Un,toFunctionHash:Ar,toFunctionSelector:$t,toFunctionSignature:Un,toHex:me,toPrefixedMessage:Id,toRlp:pt,transactionType:Ci,trim:de,universalSignatureValidatorAbi:_r,universalSignatureValidatorByteCode:$o,validateTypedData:Yi,walletActions:Pl,withCache:Zf,withRetry:$n,withTimeout:Qi,zeroAddress:$e,zeroHash:Qb},Symbol.toStringTag,{value:"Module"}));var no={exports:{}},xc;function Dm(){return xc||(xc=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,b=new Array(h);l<h;l++)b[l]=d[l].fn;return b},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],E=arguments.length,P,v;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,l),!0;case 5:return m.fn.call(m.context,f,d,l,h),!0;case 6:return m.fn.call(m.context,f,d,l,h,b),!0}for(v=1,P=new Array(E-1);v<E;v++)P[v-1]=arguments[v];m.fn.apply(m.context,P)}else{var g=m.length,y;for(v=0;v<g;v++)switch(m[v].once&&this.removeListener(u,m[v].fn,void 0,!0),E){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,f);break;case 3:m[v].fn.call(m[v].context,f,d);break;case 4:m[v].fn.call(m[v].context,f,d,l);break;default:if(!P)for(y=1,P=new Array(E-1);y<E;y++)P[y-1]=arguments[y];m[v].fn.apply(m[v].context,P)}}return!0},a.prototype.on=function(u,f,d){return o(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return o(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return i(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!l||b.once)&&(!d||b.context===d)&&i(this,h);else{for(var p=0,m=[],E=b.length;p<E;p++)(b[p].fn!==f||l&&!b[p].once||d&&b[p].context!==d)&&m.push(b[p]);m.length?this._events[h]=m.length===1?m[0]:m:i(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&i(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(no)),no.exports}var Gm=Dm();const Hm=Wl(Gm),Ec=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},ro=e=>e?Ec(e):Ec;function Vm(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function Wm(){const e=new Set;let t=[];const n=()=>Vm(s=>{t.some(({info:o})=>o.uuid===s.info.uuid)||(t=[...t,s],e.forEach(o=>o(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(o=>o.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:o}={}){return e.add(s),o&&s(t,{added:t}),()=>e.delete(s)}}}function qn(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const Pr="2.22.1",Km=()=>`@wagmi/core@${Pr}`;var $l=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Vr,Cl;let wt=class Do extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Km()}constructor(t,n={}){super(),Vr.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Do?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Do&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return $l(this,Vr,"m",Cl).call(this,this,t)}};Vr=new WeakSet,Cl=function e(t,n){return n?.(t)?t:t.cause?$l(this,Vr,"m",e).call(this,t.cause,n):t};class Wr extends wt{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Qm extends wt{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class Zm extends wt{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class Ym extends wt{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Jm extends wt{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Xm(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new Jm({connector:f});const[d,l]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:d,chainId:l,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new Qm;const s=t.chainId??r.chainId,o=await r.connector.getChainId();if(n&&o!==s)throw new Ym({connectionChainId:s,connectorChainId:o});const i=r.connector;if(i.getClient)return i.getClient({chainId:s});const a=G(t.account??r.accounts[0]);if(a&&(a.address=We(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new Zm({address:a.address,connector:i});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return ar({account:a,chain:c,name:"Connector Client",transport:f=>Il(u)({...f,retryCount:0})})}function eg(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return qn(s,Ie,"readContract")(r)}function Pc(e){return e.state.chainId}function Go(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Go(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(o&&!Go(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}let so=[];function Ic(e){const t=e.chains;return Go(so,t)?so:(so=t,t)}function tg(e,t={}){try{return e.getClient(t)}catch{return}}function Ho(e,t={}){return tg(e,t)?.extend(ba)}let oo=!1;async function ng(e,t={}){if(oo)return[];oo=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const o=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let i=!1;const a=[],c=[];for(const u of o){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const l=await u.connect({isReconnecting:!0}).catch(()=>null);l&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const b=new Map(i?h.connections:new Map).set(u.uid,{accounts:l.accounts,chainId:l.chainId,connector:u});return{...h,current:i?h.current:u.uid,connections:b}}),a.push({accounts:l.accounts,chainId:l.chainId,connector:u}),c.push(f),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),oo=!1,a}class Zt extends wt{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class rg extends wt{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function sg(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new rg({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const o=e.chains.find(i=>i.id===r);if(!o)throw new Wr;return e.setState(i=>({...i,chainId:r})),o}async function og(e,t){const{chainId:n,timeout:r=0,...s}=t,o=e.getClient({chainId:n}),a=await qn(o,ha,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const c=qn(o,Ps,"getTransaction"),{from:u,...f}=await c({hash:a.transactionHash}),l=await qn(o,Dt,"call")({...f,account:u,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),h=l?.data?Ou(`0x${l.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:o.chain.id}}function ig(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function ag(e,t){const{onChange:n}=t;return e.subscribe(()=>Ho(e),n,{equalityFn(r,s){return r?.uid===s?.uid}})}async function cg(e,t){const{account:n,chainId:r,connector:s,...o}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await Xm(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await qn(i,An,"writeContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})}ya.type="injected";function ya(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...ug[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,o,i,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:ya.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){const l=await this.getProvider();if(!l)throw new Zt;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>We(p)),h.length>0&&(h=await this.getAccounts())}catch(b){const p=b;if(p.code===X.code)throw new X(p);if(p.code===Qe.code)throw p}try{!h?.length&&!f&&(h=(await l.request({method:"eth_requestAccounts"})).map(m=>We(m))),i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let b=await this.getChainId();return u&&b!==u&&(b=(await this.switchChain({chainId:u}).catch(m=>{if(m.code===X.code)throw m;return{id:b}}))?.id??b),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:d?h.map(p=>({address:p,capabilities:{}})):h,chainId:b}}catch(b){const p=b;throw p.code===X.code?new X(p):p.code===Qe.code?new Qe(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new Zt;o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await Qi(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new Zt;return(await u.request({method:"eth_accounts"})).map(d=>We(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new Zt;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=Ir(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const l=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",l),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(l()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(l()),h))]))return!0}throw new Zt}return!!(await $n(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const d=await this.getProvider();if(!d)throw new Zt;const l=c.chains.find(b=>b.id===f);if(!l)throw new lt(new Wr);const h=new Promise(b=>{const p=(m=>{"chainId"in m&&m.chainId===f&&(c.emitter.off("change",p),b())});c.emitter.on("change",p)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:C(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(b){const p=b;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:m,...E}=l.blockExplorers??{};let P;u?.blockExplorerUrls?P=u.blockExplorerUrls:m&&(P=[m.url,...Object.values(E).map(y=>y.url)]);let v;u?.rpcUrls?.length?v=u.rpcUrls:v=[l.rpcUrls.default?.http[0]??""];const g={blockExplorerUrls:P,chainId:C(f),chainName:u?.chainName??l.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??l.nativeCurrency,rpcUrls:v};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[g]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new X(new Error("User rejected switch after adding network."))}),h]),l}catch(m){throw new X(m)}throw p.code===X.code?new X(p):new lt(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>We(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(i&&(l.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),l.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(o&&(f.removeListener("chainChanged",o),o=void 0),a&&(f.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),f.on("connect",i))))}})}const ug={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:Ir(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Ir(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:Ir(e,"isPhantom")}}};function Ir(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}const fg=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const f=c?.equalityFn||Object.is;let d=i(r.getState());u=l=>{const h=i(l);if(!f(d,h)){const b=d;a(d=h,b)}},c?.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},dg=fg;function lg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const Vo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Vo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Vo(r)(n)}}}},hg=(e,t)=>(n,r,s)=>{let o={storage:lg(()=>localStorage),partialize:p=>p,version:0,merge:(p,m)=>({...m,...p}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=o.partialize({...r()});return u.setItem(o.name,{state:p,version:o.version})},d=s.setState;s.setState=(p,m)=>{d(p,m),f()};const l=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let h;const b=()=>{var p,m;if(!u)return;i=!1,a.forEach(P=>{var v;return P((v=r())!=null?v:l)});const E=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(p=r())!=null?p:l))||void 0;return Vo(u.getItem.bind(u))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate)return[!0,o.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var v;const[g,y]=P;if(h=o.merge(y,(v=r())!=null?v:l),n(h,!0),g)return f()}).then(()=>{E?.(h,void 0),h=r(),i=!0,c.forEach(P=>P(h))}).catch(P=>{E?.(void 0,P)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},o.skipHydration||b(),h||l},pg=hg;class bg{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Hm})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function yg(e){return new bg(e)}function mg(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function Sc(e,t){return e.slice(0,t).join(".")||"."}function Ac(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function gg(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Ac(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const f=Ac(s,c);if(f!==0)return r?t.call(this,a,c,Sc(o,f)):`[ref=${Sc(o,f)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function wg(e,t,n,r){return JSON.stringify(e,gg((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),t?.(s,i)??i},r),n??void 0)}function vg(e){const{deserialize:t=mg,key:n="wagmi",serialize:r=wg,storage:s=Bl}=e;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const c=s.getItem(`${n}.${i}`),u=await o(c);return u?t(u)??null:a??null},async setItem(i,a){const c=`${n}.${i}`;a===null?await o(s.removeItem(c)):await o(s.setItem(c,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const Bl={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function xg(){const e=typeof window<"u"&&window.localStorage?window.localStorage:Bl;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const Wo=256;let wr=Wo,vr;function Eg(e=11){if(!vr||wr+e>Wo*2){vr="",wr=0;for(let t=0;t<Wo;t++)vr+=(256+Math.random()*256|0).toString(16).substring(1)}return vr.substring(wr,wr+++e)}function j6(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=vg({storage:xg()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=e,i=typeof window<"u"&&t?Wm():void 0,a=ro(()=>o.chains),c=ro(()=>{const y=[],w=new Set;for(const x of o.connectors??[]){const I=u(x);if(y.push(I),!s&&I.rdns){const $=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const S of $)w.add(S)}}if(!s&&i){const x=i.getProviders();for(const I of x)w.has(I.info.rdns)||y.push(u(f(I)))}return y});function u(y){const w=yg(Eg()),x={...y({emitter:w,chains:a.getState(),storage:n,transports:o.transports}),emitter:w,uid:w.uid};return w.on("connect",v),x.setup?.(),x}function f(y){const{info:w}=y,x=y.provider;return ya({target:{...w,id:w.rdns,provider:x}})}const d=new Map;function l(y={}){const w=y.chainId??m.getState().chainId,x=a.getState().find($=>$.id===w);if(y.chainId&&!x)throw new Wr;{const $=d.get(m.getState().chainId);if($&&!x)return $;if(!x)throw new Wr}{const $=d.get(w);if($)return $}let I;if(o.client)I=o.client({chain:x});else{const $=x.id,S=a.getState().map(F=>F.id),B={},k=Object.entries(o);for(const[F,z]of k)if(!(F==="chains"||F==="client"||F==="connectors"||F==="transports"))if(typeof z=="object")if($ in z)B[F]=z[$];else{if(S.some(T=>T in z))continue;B[F]=z}else B[F]=z;I=ar({...B,chain:x,batch:B.batch??{multicall:!0},transport:F=>o.transports[$]({...F,connectors:c})})}return d.set(w,I),I}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";Pr.startsWith(p)?b=Number.parseInt(Pr.replace(p,""),10):b=Number.parseInt(Pr.split(".")[0]??"0",10);const m=ro(dg(n?pg(h,{migrate(y,w){if(w===b)return y;const x=h(),I=E(y,x.chainId);return{...x,chainId:I}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([w,x])=>{const{id:I,name:$,type:S,uid:B}=x.connector;return[w,{...x,connector:{id:I,name:$,type:S,uid:B}}]})},chainId:y.chainId,current:y.current}},merge(y,w){typeof y=="object"&&y&&"status"in y&&delete y.status;const x=E(y,w.chainId);return{...w,...y,chainId:x}},skipHydration:s,storage:n,version:b}):h));m.setState(h());function E(y,w){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(x=>x.id===y.chainId)?y.chainId:w}r&&m.subscribe(({connections:y,current:w})=>w?y.get(w)?.chainId:void 0,y=>{if(a.getState().some(x=>x.id===y))return m.setState(x=>({...x,chainId:y??x.chainId}))}),i?.subscribe(y=>{const w=new Set,x=new Set;for(const $ of c.getState())if(w.add($.id),$.rdns){const S=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const B of S)x.add(B)}const I=[];for(const $ of y){if(x.has($.info.rdns))continue;const S=u(f($));w.has(S.id)||I.push(S)}n&&!m.persist.hasHydrated()||c.setState($=>[...$,...I],!0)});function P(y){m.setState(w=>{const x=w.connections.get(y.uid);return x?{...w,connections:new Map(w.connections).set(y.uid,{accounts:y.accounts??x.accounts,chainId:y.chainId??x.chainId,connector:x.connector})}:w})}function v(y){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(w=>{const x=c.getState().find(I=>I.uid===y.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",P),x.emitter.listenerCount("change")||x.emitter.on("change",P),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",g),{...w,connections:new Map(w.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:x}),current:y.uid,status:"connected"}):w})}function g(y){m.setState(w=>{const x=w.connections.get(y.uid);if(x){const $=x.connector;$.emitter.listenerCount("change")&&x.connector.emitter.off("change",P),$.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",g),$.emitter.listenerCount("connect")||x.connector.emitter.on("connect",v)}if(w.connections.delete(y.uid),w.connections.size===0)return{...w,connections:new Map,current:null,status:"disconnected"};const I=w.connections.values().next().value;return{...w,connections:new Map(w.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return m.getState()},setState(y){let w;typeof y=="function"?w=y(m.getState()):w=y;const x=h();typeof w!="object"&&(w=x),Object.keys(x).some($=>!($ in w))&&(w=x),m.setState(w,!0)},subscribe(y,w,x){return m.subscribe(y,w,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:i,async revalidate(){const y=m.getState(),w=y.connections;let x=y.current;for(const[,I]of w){const $=I.connector;$.isAuthorized&&await $.isAuthorized()||(w.delete($.uid),x===$.uid&&(x=null))}m.setState(I=>({...I,connections:w,current:x}))},store:m,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(y){const w=typeof y=="function"?y(a.getState()):y;if(w.length!==0)return a.setState(w,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:f,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:P,connect:v,disconnect:g}}}}function Pg(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const o=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)o.add(f)}const i=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(o.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);i.push(f)}return[...s,...i]})),r?ng(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function Ig(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:o}=Pg(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||o();const i=D.useRef(!0);return D.useEffect(()=>{if(i.current&&n._internal.ssr)return o(),()=>{i.current=!1}},[]),t}const Tl=D.createContext(void 0);function L6(e){const{children:t,config:n}=e,r={value:n};return D.createElement(Ig,e,D.createElement(Tl.Provider,r,t))}const Sg="2.19.5",Ag=()=>`wagmi@${Sg}`;class $g extends wt{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Ag()}}class Cg extends $g{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Gt(e={}){const t=e.config??D.useContext(Tl);if(!t)throw new Cg;return t}function Bg(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var io={exports:{}},ao={},co={exports:{}},uo={};var $c;function Tg(){if($c)return uo;$c=1;var e=Uc();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(d,l){var h=l(),b=r({inst:{value:h,getSnapshot:l}}),p=b[0].inst,m=b[1];return o(function(){p.value=h,p.getSnapshot=l,c(p)&&m({inst:p})},[d,h,l]),s(function(){return c(p)&&m({inst:p}),d(function(){c(p)&&m({inst:p})})},[d]),i(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return uo.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,uo}var Cc;function Og(){return Cc||(Cc=1,co.exports=Tg()),co.exports}var Bc;function Rg(){if(Bc)return ao;Bc=1;var e=Uc(),t=Og();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,c=e.useDebugValue;return ao.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var b=o(null);if(b.current===null){var p={hasValue:!1,value:null};b.current=p}else p=b.current;b=a(function(){function E(w){if(!P){if(P=!0,v=w,w=l(w),h!==void 0&&p.hasValue){var x=p.value;if(h(x,w))return g=x}return g=w}if(x=g,r(v,w))return x;var I=l(w);return h!==void 0&&h(x,I)?(v=w,x):(v=w,g=I)}var P=!1,v,g,y=d===void 0?null:d;return[function(){return E(f())},y===null?void 0:function(){return E(y())}]},[f,d,l,h]);var m=s(u,b[0],b[1]);return i(function(){p.hasValue=!0,p.value=m},[m]),c(m),m},ao}var Tc;function kg(){return Tc||(Tc=1,io.exports=Rg()),io.exports}var Fg=kg(),Nn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mt=typeof window>"u"||"Deno"in globalThis;function Ee(){}function Ng(e,t){return typeof e=="function"?e(t):e}function Ko(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ol(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sn(e,t){return typeof e=="function"?e(t):e}function Ce(e,t){return typeof e=="function"?e(t):e}function Oc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==ma(i,t.options))return!1}else if(!Zn(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Rc(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(_t(t.options.mutationKey)!==_t(o))return!1}else if(!Zn(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ma(e,t){return(t?.queryKeyHashFn||_t)(e)}function _t(e){return JSON.stringify(e,(t,n)=>Qo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Zn(e[n],t[n])):!1}function ga(e,t){if(e===t)return e;const n=kc(e)&&kc(t);if(n||Qo(e)&&Qo(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const f=n?u:o[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=ga(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Kr(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qo(e){if(!Fc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Fc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mg(e){return new Promise(t=>{setTimeout(t,e)})}function Zo(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ga(e,t):t}function _g(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function zg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var wa=Symbol();function Rl(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===wa?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var jg=class extends Nn{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Mt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},va=new jg,Lg=class extends Nn{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Mt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Qr=new Lg;function Yo(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Ug(e){return Math.min(1e3*2**e,3e4)}function kl(e){return(e??"online")==="online"?Qr.isOnline():!0}var Fl=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fo(e){return e instanceof Fl}function Nl(e){let t=!1,n=0,r=!1,s;const o=Yo(),i=p=>{r||(l(new Fl(p)),e.abort?.())},a=()=>{t=!0},c=()=>{t=!1},u=()=>va.isFocused()&&(e.networkMode==="always"||Qr.isOnline())&&e.canRun(),f=()=>kl(e.networkMode)&&e.canRun(),d=p=>{r||(r=!0,e.onSuccess?.(p),s?.(),o.resolve(p))},l=p=>{r||(r=!0,e.onError?.(p),s?.(),o.reject(p))},h=()=>new Promise(p=>{s=m=>{(r||u())&&p(m)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let p;const m=n===0?e.initialPromise:void 0;try{p=m??e.fn()}catch(E){p=Promise.reject(E)}Promise.resolve(p).then(d).catch(E=>{if(r)return;const P=e.retry??(Mt?0:3),v=e.retryDelay??Ug,g=typeof v=="function"?v(n,E):v,y=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,E);if(t||!y){l(E);return}n++,e.onFail?.(n,E),Mg(g).then(()=>u()?void 0:h()).then(()=>{t?l(E):b()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),o)}}function qg(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var K=qg(),Ml=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ko(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Dg=class extends Ml{#e;#t;#r;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Gg(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Zo(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Ee).catch(Ee):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ce(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wa||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ol(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const a=Rl(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const i=a=>{fo(a)&&a.silent||this.#s({type:"error",error:a}),fo(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#n=Nl({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(c){i(c);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:i,onFail:(a,c)=>{this.#s({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._l(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return fo(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),K.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function _l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kl(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hg=class extends Nn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??ma(r,t);let o=this.get(s);return o||(o=new Dg({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){K.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Oc(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Oc(e,n)):t}notify(e){K.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){K.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){K.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vg=class extends Ml{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||zl(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Nl({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),K.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function zl(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wg=class extends Nn{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new Vg({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=xr(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=xr(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(xr(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(xr(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){K.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Rc(t,n))}findAll(e={}){return this.getAll().filter(t=>Rc(e,t))}notify(e){K.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return K.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ee))))}};function xr(e){return e.options.scope?.id??String(e.mutationId)}function Nc(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},l=Rl(t.options,t.fetchOptions),h=async(b,p,m)=>{if(f)return Promise.reject();if(p==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:p,direction:m?"backward":"forward",meta:t.options.meta};d(E);const P=await l(E),{maxPages:v}=t.options,g=m?zg:_g;return{pages:g(b.pages,P,v),pageParams:g(b.pageParams,p,v)}};if(s&&o.length){const b=s==="backward",p=b?Kg:Mc,m={pages:o,pageParams:i},E=p(r,m);a=await h(m,E,b)}else{const b=e??o.length;do{const p=c===0?i[0]??r.initialPageParam:Mc(r,a);if(c>0&&p==null)break;a=await h(a,p),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Mc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Kg(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var U6=class{#e;#t;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new Hg,this.#t=e.mutationCache||new Wg,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=va.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Qr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(sn(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(r.queryHash)?.state.data,i=Ng(t,o);if(i!==void 0)return this.#e.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return K.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;K.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return K.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=K.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ee).catch(Ee)}invalidateQueries(e={},t={}){return K.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=K.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ee)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ee)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(sn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ee).catch(Ee)}fetchInfiniteQuery(e){return e.behavior=Nc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ee).catch(Ee)}ensureInfiniteQueryData(e){return e.behavior=Nc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(_t(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{Zn(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(_t(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{Zn(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ma(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wa&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Qg=class extends Nn{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=Yo(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#b;#l;#h;#u;#f;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),_c(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jo(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jo(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#x(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ce(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),n._defaulted&&!Kr(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&zc(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),s&&(this.#t!==r||Ce(this.options.enabled,this.#t)!==Ce(n.enabled,this.#t)||sn(this.options.staleTime,this.#t)!==sn(n.staleTime,this.#t))&&this.#y();const o=this.#m();s&&(this.#t!==r||Ce(this.options.enabled,this.#t)!==Ce(n.enabled,this.#t)||o!==this.#c)&&this.#g(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Yg(this,n)&&(this.#n=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ee)),t}#y(){this.#v();const e=sn(this.options.staleTime,this.#t);if(Mt||this.#n.isStale||!Ko(e))return;const n=Ol(this.#n.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#x(),this.#c=e,!(Mt||Ce(this.options.enabled,this.#t)===!1||!Ko(this.#c)||this.#c===0)&&(this.#f=setInterval(()=>{(this.options.refetchIntervalInBackground||va.isFocused())&&this.#d()},this.#c))}#w(){this.#y(),this.#g(this.#m())}#v(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#x(){this.#f&&(clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#n,o=this.#i,i=this.#o,c=e!==n?e.state:this.#r,{state:u}=e;let f={...u},d=!1,l;if(t._optimisticResults){const x=this.hasListeners(),I=!x&&_c(e,t),$=x&&zc(e,n,t,r);(I||$)&&(f={...f,..._l(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:b,status:p}=f;if(t.select&&f.data!==void 0)if(s&&f.data===o?.data&&t.select===this.#b)l=this.#l;else try{this.#b=t.select,l=t.select(f.data),l=Zo(s?.data,l,t),this.#l=l,this.#a=null}catch(x){this.#a=x}else l=f.data;if(t.placeholderData!==void 0&&l===void 0&&p==="pending"){let x;if(s?.isPlaceholderData&&t.placeholderData===i?.placeholderData)x=s.data;else if(x=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&x!==void 0)try{x=t.select(x),this.#a=null}catch(I){this.#a=I}x!==void 0&&(p="success",l=Zo(s?.data,x,t),d=!0)}this.#a&&(h=this.#a,l=this.#l,b=Date.now(),p="error");const m=f.fetchStatus==="fetching",E=p==="pending",P=p==="error",v=E&&m,g=l!==void 0,w={status:p,fetchStatus:f.fetchStatus,isPending:E,isSuccess:p==="success",isError:P,isInitialLoading:v,isLoading:v,data:l,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!E,isLoadingError:P&&!g,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:P&&g,isStale:xa(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const x=S=>{w.status==="error"?S.reject(w.error):w.data!==void 0&&S.resolve(w.data)},I=()=>{const S=this.#s=w.promise=Yo();x(S)},$=this.#s;switch($.status){case"pending":e.queryHash===n.queryHash&&x($);break;case"fulfilled":(w.status==="error"||w.data!==$.value)&&I();break;case"rejected":(w.status!=="error"||w.error!==$.reason)&&I();break}}return w}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Kr(n,t))return;this.#n=n;const r={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&a.has(u)})};e?.listeners!==!1&&s()&&(r.listeners=!0),this.#P({...r,...e})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#P(e){K.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Zg(e,t){return Ce(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _c(e,t){return Zg(e,t)||e.state.data!==void 0&&Jo(e,t,t.refetchOnMount)}function Jo(e,t,n){if(Ce(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&xa(e,t)}return!1}function zc(e,t,n,r){return(e!==t||Ce(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&xa(e,n)}function xa(e,t){return Ce(t.enabled,e)!==!1&&e.isStaleByTime(sn(t.staleTime,e))}function Yg(e,t){return!Kr(e.getCurrentResult(),t)}var Jg=class extends Nn{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Kr(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&_t(t.mutationKey)!==_t(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??zl();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){K.batch(()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,t,n),this.#n.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,n),this.#n.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(t=>{t(this.#t)})})}};function Xg(e,t){return ga(e,t)}function e6(e){return JSON.stringify(e,(t,n)=>t6(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function t6(e){if(!jc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!jc(n)||!n.hasOwnProperty("isPrototypeOf"))}function jc(e){return Object.prototype.toString.call(e)==="[object Object]"}function jl(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:d,queryKeyHashFn:l,retry:h,retryDelay:b,structuralSharing:p,getPreviousPageParam:m,getNextPageParam:E,initialPageParam:P,_optimisticResults:v,enabled:g,notifyOnChangeProps:y,placeholderData:w,refetchInterval:x,refetchIntervalInBackground:I,refetchOnMount:$,refetchOnReconnect:S,refetchOnWindowFocus:B,retryOnMount:k,select:F,staleTime:z,suspense:O,throwOnError:T,config:N,connector:R,query:_,...j}=e;return j}function n6(e,t={}){return{async queryFn({queryKey:n}){const r=t.abi;if(!r)throw new Error("abi is required");const{functionName:s,scopeKey:o,...i}=n[1],a=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return eg(e,{abi:r,functionName:s,args:i.args,...a,...i})},queryKey:r6(t)}}function r6(e={}){const{abi:t,...n}=e;return["readContract",jl(n)]}function s6(e){return{mutationFn(t){return sg(e,t)},mutationKey:["switchChain"]}}function o6(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return og(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:i6(t)}}function i6(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",jl(n)]}function a6(e){return{mutationFn(t){return cg(e,t)},mutationKey:["writeContract"]}}var Ll=D.createContext(void 0),Ul=e=>{const t=D.useContext(Ll);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},q6=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Zl.jsx(Ll.Provider,{value:e,children:t})),ql=D.createContext(!1),c6=()=>D.useContext(ql);ql.Provider;function u6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var f6=D.createContext(u6()),d6=()=>D.useContext(f6);function Dl(e,t){return typeof e=="function"?e(...t):!!e}function Xo(){}var l6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},h6=e=>{D.useEffect(()=>{e.clearReset()},[e])},p6=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Dl(n,[e.error,r]),b6=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},y6=(e,t)=>e.isLoading&&e.isFetching&&!t,m6=(e,t)=>e?.suspense&&t.isPending,Lc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function g6(e,t,n){const r=Ul(),s=c6(),o=d6(),i=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",b6(i),l6(i,o),h6(o);const a=!r.getQueryCache().get(i.queryHash),[c]=D.useState(()=>new t(r,i)),u=c.getOptimisticResult(i);if(D.useSyncExternalStore(D.useCallback(f=>{const d=s?Xo:c.subscribe(K.batchCalls(f));return c.updateResult(),d},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),D.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),m6(i,u))throw Lc(i,c,o);if(p6({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!Mt&&y6(u,s)&&(a?Lc(i,c,o):r.getQueryCache().get(i.queryHash)?.promise)?.catch(Xo).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function w6(e,t){return g6(e,Qg)}function Gl(e,t){const n=Ul(),[r]=D.useState(()=>new Jg(n,e));D.useEffect(()=>{r.setOptions(e)},[r,e]);const s=D.useSyncExternalStore(D.useCallback(i=>r.subscribe(K.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=D.useCallback((i,a)=>{r.mutate(i,a).catch(Xo)},[r]);if(s.error&&Dl(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function Hl(e){const t=w6({...e,queryKeyHashFn:e6});return t.queryKey=e.queryKey,t}function Vl(e={}){const t=Gt(e);return D.useSyncExternalStore(n=>ig(t,{onChange:n}),()=>Pc(t),()=>Pc(t))}function v6(e={}){const t=Gt(e);return D.useSyncExternalStore(n=>Bg(t,{onChange:n}),()=>Ic(t),()=>Ic(t))}function D6(e={}){const t=Gt(e);return Fg.useSyncExternalStoreWithSelector(n=>ag(t,{onChange:n}),()=>Ho(t,e),()=>Ho(t,e),n=>n,(n,r)=>n?.uid===r?.uid)}function G6(e={}){const{abi:t,address:n,functionName:r,query:s={}}=e,o=e.code,i=Gt(e),a=Vl({config:i}),c=n6(i,{...e,chainId:e.chainId??a}),u=!!((n||o)&&t&&r&&(s.enabled??!0));return Hl({...s,...c,enabled:u,structuralSharing:s.structuralSharing??Xg})}function H6(e={}){const{mutation:t}=e,n=Gt(e),r=s6(n),{mutate:s,mutateAsync:o,...i}=Gl({...t,...r});return{...i,chains:v6({config:n}),switchChain:s,switchChainAsync:o}}function V6(e={}){const{hash:t,query:n={}}=e,r=Gt(e),s=Vl({config:r}),o=o6(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return Hl({...n,...o,enabled:i})}function W6(e={}){const{mutation:t}=e,n=Gt(e),r=a6(n),{mutate:s,mutateAsync:o,...i}=Gl({...t,...r});return{...i,writeContract:s,writeContractAsync:o}}export{ls as $,la as A,A as B,C,qo as D,Hm as E,Mh as F,Zi as G,Y as H,sr as I,Bd as J,kh as K,Qb as L,oe as M,pu as N,wo as O,ze as P,Le as Q,G as R,gt as S,M as T,mt as U,ms as V,Nm as W,Fm as X,nr as Y,Gi as Z,qc as _,ro as a,gs as a0,An as a1,jm as a2,ba as a3,Wm as a4,j6 as a5,U6 as a6,L6 as a7,q6 as a8,W6 as a9,Fn as aA,ar as aB,ft as aC,rd as aD,at as aE,de as aF,id as aG,ut as aH,vc as aI,Eb as aJ,Ou as aK,On as aL,Np as aM,Ut as aN,wi as aO,Zd as aP,Il as aQ,by as aR,rs as aS,Lm as aT,z6 as aU,V6 as aa,G6 as ab,Vl as ac,H6 as ad,D6 as ae,Vn as af,w6 as ag,J as ah,H as ai,Ub as aj,py as ak,To as al,Ie as am,ti as an,Yn as ao,ne as ap,mi as aq,ff as ar,Cr as as,Pi as at,Vh as au,xl as av,Si as aw,ws as ax,V as ay,Xe as az,Q as b,Em as c,zh as d,ge as e,Kp as f,We as g,qm as h,Pe as i,Zl as j,le as k,ye as l,Uh as m,_e as n,qh as o,Gh as p,se as q,pe as r,Sb as s,me as t,pt as u,jt as v,xf as w,Fe as x,Lb as y,tr as z};
