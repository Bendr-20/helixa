const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/core-DhOUFPfj.js","assets/vendor-wallet-iWeBopzN.js","assets/vendor-react-NLnOsXgy.js","assets/index-DGqsWxPd.js","assets/TurnstileWrapper-Co-t5mTh-DCBDwIlp.js","assets/HCaptchaWrapper-CUi9LJsp-8JYckUNv.js","assets/AccountNotFoundScreen-C055cesr-DkOkVJhT.js","assets/ScreenLayout-DTmQLGPf-BlqX97ue.js","assets/ModalHeader-D8-mhjp4-XA-NU1Gv.js","assets/Screen-Bp-TN9gb-CzJwd7hm.js","assets/index-Dq_xe9dz-Ib9Th1lY.js","assets/createLucideIcon-4wkIQryq.js","assets/AffirmativeConsentScreen-DXy2kEcy-C930EfYG.js","assets/shouldProceedtoEmbeddedWalletCreationFlow-BMF_3TVv-Dtp-52mT.js","assets/external-link-CU7IE80P.js","assets/AllowlistRejectionScreen-BIzWPeoe-BHpyISLA.js","assets/lock-ZeGFRSFV.js","assets/AuthenticateWithWalletScreen-q3jQKiH6-CoOTYk_m.js","assets/ConnectWalletView-CDqboUej-CWhVoxAc.js","assets/CopyableText-BCytXyJL-DPy5MIe3.js","assets/check-B9ysh8c4.js","assets/copy-BmDK-JXv.js","assets/Link-DJ5gq9Di-BadnftN9.js","assets/QrCode-C1tgJtOy-DSb5pT55.js","assets/browser-CxT9TM-V.js","assets/EmailInputForm-Dgoii4vf-C6HtYutg.js","assets/ErrorMessage-D8VaAP5m-CR3Tb0Lp.js","assets/useI18n-BuIe8nUA-CXiYt5XN.js","assets/WalletCards-DH1rqayz-C_SCBbu-.js","assets/AwaitingEvmToSolBridgingScreen-B4R4PEVm-BfReFman.js","assets/CheckCircleIcon-DANTQeuo.js","assets/Layouts-BlFm53ED-DCCHjgBa.js","assets/ScreenHeader-CHmc4-Lu-HCjCAZJZ.js","assets/FundWalletMethodHeader-Cfci4-83-BJUxWLXw.js","assets/useGetTokenPrice-BPBpM07F-CbPBvB_1.js","assets/useGetSolPrice-DwwjjGbd-BlOrP3fl.js","assets/analytics-mkkvFRju-DOXuftJB.js","assets/reservoir-0wfhnc0j-De6gY8zu.js","assets/getChainName-DjpPdUSc-c2urPd0g.js","assets/transaction-CnfuREWo-nROljJQP.js","assets/getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","assets/BridgeNetworkSelectionView-CaDh-Zck-bV8qX8uy.js","assets/getErc20Balance-DA4dGV9O-Ds1C3-mP.js","assets/Value-tcJV9e0L-ROBt3A6w.js","assets/LoadingSkeleton-U6-3yFwI-BjURS6hd.js","assets/Subtitle-CV-2yKE4-7aq5bCsa.js","assets/Title-BnzYV3Is-BCOaahtW.js","assets/WalletIcon-BrbXK2eY.js","assets/Chip-D2-wZOHJ-Brw3BdHC.js","assets/TransferOrBridgeLoadingScreen-DcCdHB-g-DN3LXrtP.js","assets/InjectedWalletIcon-DLcYOGDj-5VUxgLWA.js","assets/Address-BjZb-TIL-zOemzO1X.js","assets/GlobeAltIcon-kW1lCngP.js","assets/shared-FM0rljBt-CTZiOGZT.js","assets/ChevronDownIcon-Drg772V5.js","assets/formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","assets/ethers-D1WT71Ay-Bm_QsKrp.js","assets/styles-BmZHuqSX-CsV4hdYx.js","assets/LinkPasskeyScreen-OxaghvUl-D8f-vH8s.js","assets/TodoList-CgrU7uwu-DqvYKPzE.js","assets/circle-check-big-YWHND4yl.js","assets/fingerprint-pattern-ONAhdVhn.js","assets/formatters-DwTIoOJg.js","assets/AwaitingExternalEthereumTransferScreen-Dwy69FD1-BAVT23il.js","assets/transfer-6YztDh-t-DU6hH7CZ.js","assets/AwaitingPasswordlessCodeScreen-Ch_YXDTX-DMPFZnt_.js","assets/EnvelopeIcon-dh-BYWnw.js","assets/PhoneIcon-DQtHTqgM.js","assets/AwaitingSolToEvmBridgingScreen-spElnpUE-FWf6PG5o.js","assets/CaptchaScreen-BZy78GrD-hriyrJzp.js","assets/circle-x-CUSNfWSY.js","assets/CoinbaseOnrampStatusScreen-CTWZaE1o-BuXRhchn.js","assets/ArrowsRightLeftIcon-CDpYNt4X.js","assets/CheckCircleIcon-BMq0VCCt.js","assets/ConnectLedgerScreen-CIPOaq8e-DAzeQx-M.js","assets/ConnectOnlyLandingScreen-CbLV-cj4-KwkzNdFc.js","assets/ConnectOnlyStatusScreen-bmx1wwk1-CEtsPBaa.js","assets/ConnectionStatusScreen-D-9fLZfA-D_KzR1r6.js","assets/ConnectOrCreateScreen-DXw5Y8gN-u7gLfMct.js","assets/CustomLandingScreenView-9mrgsDhT-AeUcuLNt.js","assets/ConnectEmailForm-0GOHNayM-BtIY7j8T.js","assets/mail-C8WLTF0W.js","assets/farcaster-DPlSjvF5-C2vQzryy.js","assets/FingerPrintIcon-CQ2UnhCX.js","assets/ConnectPhoneForm-_lOAQG_X-DosLljE1.js","assets/twitch-5IOe4sIQ-D---MrJS.js","assets/telegram-B-JqnkqZ-DStSjuJ0.js","assets/WalletOverflowButton-BlijhJnI-BwPS-QRe.js","assets/CrossAppAuthScreen-Co723kT3-DhN4Sb3y.js","assets/DelegatedActionsConsentScreen-CyQTJHgT-87J28s0W.js","assets/WalletInfoCard-DFt8ndGE-RQ3Lcpjv.js","assets/LabelXs-oqZNqbm_-DnrDG2NQ.js","assets/circle-alert-0AkLlZ42.js","assets/DelegatedActionsRevokeScreen-CFm4F3CM-3RKrLURN.js","assets/EmbeddedWalletConnectingScreen-DmTtzGwq-D-Jx8tOY.js","assets/EmbeddedWalletCreatedScreen-Cj1c5KyP-Dtrm9Py9.js","assets/EmbeddedWalletKeyExportScreen-CsWRTEgd-DWsU1H3e.js","assets/WarningBanner-c8L53pJ2-VSF-7j_M.js","assets/ExclamationTriangleIcon-C_T-rHXN.js","assets/EmbeddedWalletOnAccountCreateScreen-DBAmWm90-bWQR6g--.js","assets/RecoveryPasswordCreateScreen-Q1zuy9fu-sskHKaNS.js","assets/SetWalletPasswordForm-0nuoz3XZ-fC2KW9P1.js","assets/shared-CwuyxHmv-MNuX6FBj.js","assets/Checkbox-BhNoOKjX-C17pK1r7.js","assets/EmbeddedWalletPasswordUpdateScreen-B5w6wtgf-CGxC5id8.js","assets/EmbeddedWalletPasswordUpdateSplashScreen-BvsscceO-BMGSm1IT.js","assets/ErrorScreen-DtGc3Chy-D7PsekO9.js","assets/FarcasterConnectStatusScreen-DGeCyr6b-ClKTlO8O.js","assets/OpenLink-DZHy38vr-CIr6f7-2.js","assets/FarcasterSignerStatusScreen-DASa1xq2-DXCcIrZX.js","assets/CopyToClipboard-DSTf_eKU-BFXzRnvN.js","assets/FundSolWalletWithExternalSolanaWallet-0jNi_hvn-BX8Z_cq9.js","assets/useSolanaRpcClient-BUWOblv_-CxotUecb.js","assets/getUsdcMintAddress-DFI1hv05-jlhpBW9a.js","assets/FundWithBankDepositScreen-D_uu3GEF-CoQfcn80.js","assets/InfoBanner-DkQEPd77-BOOIvfjL.js","assets/FundingEditAmountScreen-vQUS-a80-CrRDvPC1.js","assets/FundingMethodSelectionScreen-G8gkM1Mk-4NOTJRIp.js","assets/ErrorBanner-CQERa7bL-JkIk9H9H.js","assets/ExclamationCircleIcon-CtD1O1YF.js","assets/getErc20TokenInfo-1Q6w1Ibq-GG1B5xs4.js","assets/index-C9k7EfLZ-DVCcU00k.js","assets/InAppBrowserLoginNotPossible-C8mlSbYe-A830pc6K.js","assets/InstallWalletScreen-D0kdHc5W-DNOu8-LD.js","assets/LandingScreen-0MlIkV3C-rFDGKl1T.js","assets/LinkConflictScreen-DW31R5fr-65Y3kVY2.js","assets/StackedContainer-B2vaEl56-BRm7eOny.js","assets/capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","assets/LinkEmailScreen-B10iXGH8-C0v7QGHg.js","assets/LinkPhoneScreen-Cdg3eg7w-8pt0MajQ.js","assets/LoginFailedScreen-BVOo2ycm-BnxCx08Z.js","assets/ManualTransferScreen-_04Sq7zU-Bgitqxgc.js","assets/useWalletBalance-CDyi5_iR-D3vE1U8E.js","assets/MfaAuthEnrollmentFlowScreen-DApO6DPY-BmyPStTn.js","assets/ShieldCheckIcon-CzN8v7s7.js","assets/EnrollTotp-uSQt9d2Q-B7CFtzlI.js","assets/PinInput-3SLvbnQa-BajsV7_H.js","assets/MfaAuthVerifyFlowScreen-mdmdgWdO-DPW0AkMF.js","assets/to-ui-error-REESv0kM-84bZT2-9.js","assets/TransactionDetails-BurRo8R0-CjQniaaq.js","assets/WalletLink--05Hzo2b-B7H8EzTT.js","assets/MfaEnrollmentFlowScreen-DRZTnt-I-DJtEmdWk.js","assets/MoonpayStatusScreen-DDSK5dda-RRjqoIu8.js","assets/OAuthStatusScreen-DSAUQ_YN-TmG8CFkn.js","assets/PasskeySelectSignupOrLogin-G19VpAdI-Cm6I3W0m.js","assets/PasskeyStatusScreen-TD2nYAnk-SFcabHMC.js","assets/PasswordRecoveryScreen-C0oVVZYe-B51Vt_gC.js","assets/RecoveryOAuthStatusScreen-Ca9VYOrA-U2h6a9in.js","assets/styles-BsotlekN-BJVf0LyG.js","assets/RecoverySelectionScreen-scmqFA8Y-CyAcMF2E.js","assets/LockClosedIcon-B9wwPnAl.js","assets/index-BH9-XZRZ-D1pv50qi.js","assets/JsonTree-aPaJmPx7-Dx616iMh.js","assets/TransactionErrorView-CPFrt0L4-DJoqLmhk.js","assets/SetAutomaticRecoveryScreen-D-__1Pf7-BMbHRDca.js","assets/SignRequestScreen-D6HSUOxx-CFMSY19g.js","assets/StandardSignAndSendTransactionScreen-YlstFfkB-Dtb5vDo5.js","assets/TelegramAuthScreen-DHCcieoC-CDEVjqAr.js","assets/TransferFromWalletScreen-BG5Mj5tz-NkZKxQS9.js","assets/UpdateEmailScreen-ndRi1gY6-D-cK_Qi7.js","assets/UpdatePhoneScreen-DoH__glA-DGZsdF5_.js","assets/UserLimitReachedScreen-BLzaOW7F-6aeN6CBn.js","assets/WalletInterstitialScreen-BQ-ku50j-H_bfCCYo.js","assets/MfaVerifyFlowScreen-mrf95cEs-BdZcsoBm.js","assets/Home-oKtOhE2y.js","assets/AgentCard-D6r6v9KB.js","assets/AuraPreview-BsLrNM_O.js","assets/CredBadge-P-GCNkbr.js","assets/Icons-3VwMs7kR.js","assets/createLucideIcon-DLk6n4fe.js","assets/constants-B-A5LG6g.js","assets/useAgents-BbUs2UDr.js","assets/proxy-8kKveTum.js","assets/Mint-CuUzCzCT.js","assets/refresh-cw-Da-gWwH3.js","assets/Directory-CXdDW-SX.js","assets/AgentProfile-DTJG8hRm.js","assets/circle-x-DzQMbkhd.js","assets/Leaderboard-D53xXuQk.js","assets/Manage-BhcWbFX7.js","assets/Docs-BN1ibJ4p.js","assets/Report-BlCVjLlq.js"])))=>i.map(i=>d[i]);
import{c as UA,h as Hp,i as ap,t as Jt,E as wu,g as Ri,j as ae,a as A7,b as No,_ as Me,m as T7,d as x7,e as _y,f as o5,k as Hr,l as C7,n as I7,o as l5,p as c5,B as Ql,I as O7,q as nu,s as $A,r as u5,u as d5,v as n_,w as k7,x as R7,y as Gr,z as D7,A as h5,C as fO,D as N7,F as P7,G as U7,H as $7,J as M7,K as L7,L as pO,M as mO,N as B7,O as gO,P as j7,Q as z7,R as f5,S as p5,T as xE,U as m5,V as g5,W as F7,X as q7,Y as W7,Z as H7,$ as V7,a0 as K7,a1 as G7,a2 as Y7,a3 as CE,a4 as Z7,a5 as X7,a6 as J7,a7 as Q7,a8 as ej}from"./vendor-wallet-iWeBopzN.js";import{a as MA,b as tj,g as hh,r as F,R as et,c as nj,t as yO,d as y5,e as Ca,u as LA,L as Mg,B as rj,f as ij,h as ao}from"./vendor-react-NLnOsXgy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var r_={exports:{}},yf={},i_={exports:{}},s_={};var wO;function sj(){return wO||(wO=1,(function(t){function e(S,P){var $=S.length;S.push(P);e:for(;0<$;){var R=$-1>>>1,L=S[R];if(0<i(L,P))S[R]=P,S[$]=L,$=R;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var P=S[0],$=S.pop();if($!==P){S[0]=$;e:for(var R=0,L=S.length,Y=L>>>1;R<Y;){var Z=2*(R+1)-1,ie=S[Z],ee=Z+1,se=S[ee];if(0>i(ie,$))ee<L&&0>i(se,ie)?(S[R]=se,S[ee]=$,R=ee):(S[R]=ie,S[Z]=$,R=Z);else if(ee<L&&0>i(se,$))S[R]=se,S[ee]=$,R=ee;else break e}}return P}function i(S,P){var $=S.sortIndex-P.sortIndex;return $!==0?$:S.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,g=3,y=!1,b=!1,_=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function T(S){for(var P=n(f);P!==null;){if(P.callback===null)r(f);else if(P.startTime<=S)r(f),P.sortIndex=P.expirationTime,e(d,P);else break;P=n(f)}}function O(S){if(_=!1,T(S),!b)if(n(d)!==null)b=!0,C||(C=!0,K());else{var P=n(f);P!==null&&A(O,P.startTime-S)}}var C=!1,U=-1,z=5,B=-1;function q(){return E?!0:!(t.unstable_now()-B<z)}function W(){if(E=!1,C){var S=t.unstable_now();B=S;var P=!0;try{e:{b=!1,_&&(_=!1,D(U),U=-1),y=!0;var $=g;try{t:{for(T(S),m=n(d);m!==null&&!(m.expirationTime>S&&q());){var R=m.callback;if(typeof R=="function"){m.callback=null,g=m.priorityLevel;var L=R(m.expirationTime<=S);if(S=t.unstable_now(),typeof L=="function"){m.callback=L,T(S),P=!0;break t}m===n(d)&&r(d),T(S)}else r(d);m=n(d)}if(m!==null)P=!0;else{var Y=n(f);Y!==null&&A(O,Y.startTime-S),P=!1}}break e}finally{m=null,g=$,y=!1}P=void 0}}finally{P?K():C=!1}}}var K;if(typeof x=="function")K=function(){x(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=W,K=function(){G.postMessage(null)}}else K=function(){k(W,0)};function A(S,P){U=k(function(){S(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(S){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var $=g;g=P;try{return S()}finally{g=$}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(S,P){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var $=g;g=S;try{return P()}finally{g=$}},t.unstable_scheduleCallback=function(S,P,$){var R=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,S){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,S={id:p++,callback:P,priorityLevel:S,startTime:$,expirationTime:L,sortIndex:-1},$>R?(S.sortIndex=$,e(f,S),n(d)===null&&S===n(f)&&(_?(D(U),U=-1):_=!0,A(O,$-R))):(S.sortIndex=L,e(d,S),b||y||(b=!0,C||(C=!0,K()))),S},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(S){var P=g;return function(){var $=g;g=P;try{return S.apply(this,arguments)}finally{g=$}}}})(s_)),s_}var bO;function aj(){return bO||(bO=1,i_.exports=sj()),i_.exports}var vO;function oj(){if(vO)return yf;vO=1;var t=aj(),e=MA(),n=tj();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var w=u.return;if(w===null)break;var v=w.alternate;if(v===null){if(h=w.return,h!==null){u=h;continue}break}if(w.child===v.child){for(v=w.child;v;){if(v===u)return d(w),a;if(v===h)return d(w),o;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=w,h=v;else{for(var I=!1,M=w.child;M;){if(M===u){I=!0,u=w,h=v;break}if(M===h){I=!0,h=w,u=v;break}M=M.sibling}if(!I){for(M=v.child;M;){if(M===u){I=!0,u=v,h=w;break}if(M===h){I=!0,h=v,u=w;break}M=M.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case k:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case C:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case x:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return o=a.displayName||null,o!==null?o:G(a.type)||"Memo";case z:o=a._payload,a=a._init;try{return G(a(o))}catch{}}return null}var A=Array.isArray,S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},R=[],L=-1;function Y(a){return{current:a}}function Z(a){0>L||(a.current=R[L],R[L]=null,L--)}function ie(a,o){L++,R[L]=a.current,a.current=o}var ee=Y(null),se=Y(null),Se=Y(null),Ie=Y(null);function $e(a,o){switch(ie(Se,o),ie(se,a),ie(ee,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?$I(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=$I(o),a=MI(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Z(ee),ie(ee,a)}function xe(){Z(ee),Z(se),Z(Se)}function te(a){a.memoizedState!==null&&ie(Ie,a);var o=ee.current,u=MI(o,a.type);o!==u&&(ie(se,a),ie(ee,u))}function Ve(a){se.current===a&&(Z(ee),Z(se)),Ie.current===a&&(Z(Ie),ff._currentValue=$)}var rt,Le;function st(a){if(rt===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);rt=o&&o[1]||"",Le=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+a+Le}var De=!1;function ze(a,o){if(!a||De)return"";De=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ge){var me=ge}Reflect.construct(a,[],ve)}else{try{ve.call()}catch(ge){me=ge}a.call(ve.prototype)}}else{try{throw Error()}catch(ge){me=ge}(ve=a())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ge){if(ge&&me&&typeof ge.stack=="string")return[ge.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),I=v[0],M=v[1];if(I&&M){var X=I.split(`
`),fe=M.split(`
`);for(w=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;w<fe.length&&!fe[w].includes("DetermineComponentFrameRoot");)w++;if(h===X.length||w===fe.length)for(h=X.length-1,w=fe.length-1;1<=h&&0<=w&&X[h]!==fe[w];)w--;for(;1<=h&&0<=w;h--,w--)if(X[h]!==fe[w]){if(h!==1||w!==1)do if(h--,w--,0>w||X[h]!==fe[w]){var we=`
`+X[h].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=h&&0<=w);break}}}finally{De=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?st(u):""}function vr(a,o){switch(a.tag){case 26:case 27:case 5:return st(a.type);case 16:return st("Lazy");case 13:return a.child!==o&&o!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return ze(a.type,!1);case 11:return ze(a.type.render,!1);case 1:return ze(a.type,!0);case 31:return st("Activity");default:return""}}function Mn(a){try{var o="",u=null;do o+=vr(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var lt=Object.prototype.hasOwnProperty,Dr=t.unstable_scheduleCallback,yi=t.unstable_cancelCallback,oi=t.unstable_shouldYield,Zn=t.unstable_requestPaint,Qt=t.unstable_now,wi=t.unstable_getCurrentPriorityLevel,zi=t.unstable_ImmediatePriority,Gt=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,_r=t.unstable_LowPriority,Nr=t.unstable_IdlePriority,mt=t.log,bt=t.unstable_setDisableYieldValue,qe=null,dt=null;function un(a){if(typeof mt=="function"&&bt(a),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(qe,a)}catch{}}var Bt=Math.clz32?Math.clz32:Er,Ct=Math.log,Ne=Math.LN2;function Er(a){return a>>>=0,a===0?32:31-(Ct(a)/Ne|0)|0}var Fi=256,us=262144,ua=4194304;function ds(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function N(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var w=0,v=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var M=h&134217727;return M!==0?(h=M&~v,h!==0?w=ds(h):(I&=M,I!==0?w=ds(I):u||(u=M&~a,u!==0&&(w=ds(u))))):(M=h&~v,M!==0?w=ds(M):I!==0?w=ds(I):u||(u=h&~a,u!==0&&(w=ds(u)))),w===0?0:o!==0&&o!==w&&(o&v)===0&&(v=w&-w,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:w}function j(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ne(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var a=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),a}function le(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function de(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _e(a,o,u,h,w,v){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,X=a.expirationTimes,fe=a.hiddenUpdates;for(u=I&~u;0<u;){var we=31-Bt(u),ve=1<<we;M[we]=0,X[we]=-1;var me=fe[we];if(me!==null)for(fe[we]=null,we=0;we<me.length;we++){var ge=me[we];ge!==null&&(ge.lane&=-536870913)}u&=~ve}h!==0&&Re(a,h,0),v!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=v&~(I&~o))}function Re(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Bt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Ye(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Bt(u),w=1<<h;w&o|a[h]&o&&(a[h]|=o),u&=~w}}function gt(a,o){var u=o&-o;return u=(u&42)!==0?1:jt(u),(u&(a.suspendedLanes|o))!==0?0:u}function jt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Mt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sn(){var a=P.p;return a!==0?a:(a=window.event,a===void 0?32:aO(a.type))}function Qe(a,o){var u=P.p;try{return P.p=a,o()}finally{P.p=u}}var xt=Math.random().toString(36).slice(2),St="__reactFiber$"+xt,Nt="__reactProps$"+xt,ur="__reactContainer$"+xt,Sr="__reactEvents$"+xt,zn="__reactListeners$"+xt,li="__reactHandles$"+xt,dn="__reactResources$"+xt,kn="__reactMarker$"+xt;function qa(a){delete a[St],delete a[Nt],delete a[Sr],delete a[zn],delete a[li]}function qi(a){var o=a[St];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ur]||u[St]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=WI(a);a!==null;){if(u=a[St])return u;a=WI(a)}return o}a=u,u=a.parentNode}return null}function hs(a){if(a=a[St]||a[ur]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function vt(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Yt(a){var o=a[dn];return o||(o=a[dn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ge(a){a[kn]=!0}var $n=new Set,Jr={};function dr(a,o){ci(a,o),ci(a+"Capture",o)}function ci(a,o){for(Jr[a]=o,a=0;a<o.length;a++)$n.add(o[a])}var Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Em={};function ev(a){return lt.call(Em,a)?!0:lt.call(Iu,a)?!1:Sh.test(a)?Em[a]=!0:(Iu[a]=!0,!1)}function Ou(a,o,u){if(ev(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ku(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function zs(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function bi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sm(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function tv(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,v=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return w.call(this)},set:function(I){u=""+I,v.call(this,I)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ah(a){if(!a._valueTracker){var o=Sm(a)?"checked":"value";a._valueTracker=tv(a,o,""+a[o])}}function Am(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=Sm(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Ru(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var nv=/[\n"\\]/g;function vi(a){return a.replace(nv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Th(a,o,u,h,w,v,I,M){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+bi(o)):a.value!==""+bi(o)&&(a.value=""+bi(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?xh(a,I,bi(o)):u!=null?xh(a,I,bi(u)):h!=null&&a.removeAttribute("value"),w==null&&v!=null&&(a.defaultChecked=!!v),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+bi(M):a.removeAttribute("name")}function Tm(a,o,u,h,w,v,I,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){Ah(a);return}u=u!=null?""+bi(u):"",o=o!=null?""+bi(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=M?a.checked:!!h,a.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),Ah(a)}function xh(a,o,u){o==="number"&&Ru(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Wo(a,o,u,h){if(a=a.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<a.length;u++)w=o.hasOwnProperty("$"+a[u].value),a[u].selected!==w&&(a[u].selected=w),w&&h&&(a[u].defaultSelected=!0)}else{for(u=""+bi(u),o=null,w=0;w<a.length;w++){if(a[w].value===u){a[w].selected=!0,h&&(a[w].defaultSelected=!0);return}o!==null||a[w].disabled||(o=a[w])}o!==null&&(o.selected=!0)}}function xm(a,o,u){if(o!=null&&(o=""+bi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+bi(u):""}function Cm(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(A(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=bi(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),Ah(a)}function Ho(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var rv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Im(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||rv.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Om(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var w in o)h=o[w],o.hasOwnProperty(w)&&u[w]!==h&&Im(a,w,h)}else for(var v in o)o.hasOwnProperty(v)&&Im(a,v,o[v])}function Ch(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(a){return sv.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fs(){}var Ih=null;function Oh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Vo=null,Ko=null;function km(a){var o=hs(a);if(o&&(a=o.stateNode)){var u=a[Nt]||null;e:switch(a=o.stateNode,o.type){case"input":if(Th(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+vi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var w=h[Nt]||null;if(!w)throw Error(r(90));Th(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Am(h)}break e;case"textarea":xm(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Wo(a,!!u.multiple,o,!1)}}}var kh=!1;function Rm(a,o,u){if(kh)return a(o,u);kh=!0;try{var h=a(o);return h}finally{if(kh=!1,(Vo!==null||Ko!==null)&&(mg(),Vo&&(o=Vo,a=Ko,Ko=Vo=null,km(o),a)))for(o=0;o<a.length;o++)km(a[o])}}function dc(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Nt]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=!1;if(fs)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{Rh=!1}var V=null,J=null,ye=null;function Ce(){if(ye)return ye;var a,o=J,u=o.length,h,w="value"in V?V.value:V.textContent,v=w.length;for(a=0;a<u&&o[a]===w[a];a++);var I=u-a;for(h=1;h<=I&&o[u-h]===w[v-h];h++);return ye=w.slice(a,1<h?1-h:void 0)}function yt(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function vn(){return!0}function Pr(){return!1}function hr(a){function o(u,h,w,v,I){this._reactName=u,this._targetInst=w,this.type=h,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vn:Pr,this.isPropagationStopped=Pr,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),o}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=hr(Wa),Go=m({},Wa,{view:0,detail:0}),Dm=hr(Go),Pu,Uu,Dh,Nm=m({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Dh&&(Dh&&a.type==="mousemove"?(Pu=a.screenX-Dh.screenX,Uu=a.screenY-Dh.screenY):Uu=Pu=0,Dh=a),Pu)},movementY:function(a){return"movementY"in a?a.movementY:Uu}}),BT=hr(Nm),SB=m({},Nm,{dataTransfer:0}),AB=hr(SB),TB=m({},Go,{relatedTarget:0}),av=hr(TB),xB=m({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),CB=hr(xB),IB=m({},Wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),OB=hr(IB),kB=m({},Wa,{data:0}),jT=hr(kB),RB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PB(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=NB[a])?!!o[a]:!1}function ov(){return PB}var UB=m({},Go,{key:function(a){if(a.key){var o=RB[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=yt(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?DB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(a){return a.type==="keypress"?yt(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yt(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$B=hr(UB),MB=m({},Nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zT=hr(MB),LB=m({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),BB=hr(LB),jB=m({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zB=hr(jB),FB=m({},Nm,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qB=hr(FB),WB=m({},Wa,{newState:0,oldState:0}),HB=hr(WB),VB=[9,13,27,32],lv=fs&&"CompositionEvent"in window,Nh=null;fs&&"documentMode"in document&&(Nh=document.documentMode);var KB=fs&&"TextEvent"in window&&!Nh,FT=fs&&(!lv||Nh&&8<Nh&&11>=Nh),qT=" ",WT=!1;function HT(a,o){switch(a){case"keyup":return VB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VT(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $u=!1;function GB(a,o){switch(a){case"compositionend":return VT(o);case"keypress":return o.which!==32?null:(WT=!0,qT);case"textInput":return a=o.data,a===qT&&WT?null:a;default:return null}}function YB(a,o){if($u)return a==="compositionend"||!lv&&HT(a,o)?(a=Ce(),ye=J=V=null,$u=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return FT&&o.locale!=="ko"?null:o.data;default:return null}}var ZB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KT(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!ZB[a.type]:o==="textarea"}function GT(a,o,u,h){Vo?Ko?Ko.push(h):Ko=[h]:Vo=h,o=Eg(o,"onChange"),0<o.length&&(u=new Nu("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Ph=null,Uh=null;function XB(a){kI(a,0)}function Pm(a){var o=vt(a);if(Am(o))return a}function YT(a,o){if(a==="change")return o}var ZT=!1;if(fs){var cv;if(fs){var uv="oninput"in document;if(!uv){var XT=document.createElement("div");XT.setAttribute("oninput","return;"),uv=typeof XT.oninput=="function"}cv=uv}else cv=!1;ZT=cv&&(!document.documentMode||9<document.documentMode)}function JT(){Ph&&(Ph.detachEvent("onpropertychange",QT),Uh=Ph=null)}function QT(a){if(a.propertyName==="value"&&Pm(Uh)){var o=[];GT(o,Uh,a,Oh(a)),Rm(XB,o)}}function JB(a,o,u){a==="focusin"?(JT(),Ph=o,Uh=u,Ph.attachEvent("onpropertychange",QT)):a==="focusout"&&JT()}function QB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pm(Uh)}function e9(a,o){if(a==="click")return Pm(o)}function t9(a,o){if(a==="input"||a==="change")return Pm(o)}function n9(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Wi=typeof Object.is=="function"?Object.is:n9;function $h(a,o){if(Wi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var w=u[h];if(!lt.call(o,w)||!Wi(a[w],o[w]))return!1}return!0}function ex(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function tx(a,o){var u=ex(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ex(u)}}function nx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?nx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function rx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ru(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ru(a.document)}return o}function dv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var r9=fs&&"documentMode"in document&&11>=document.documentMode,Mu=null,hv=null,Mh=null,fv=!1;function ix(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fv||Mu==null||Mu!==Ru(h)||(h=Mu,"selectionStart"in h&&dv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Mh&&$h(Mh,h)||(Mh=h,h=Eg(hv,"onSelect"),0<h.length&&(o=new Nu("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=Mu)))}function hc(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Lu={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionrun:hc("Transition","TransitionRun"),transitionstart:hc("Transition","TransitionStart"),transitioncancel:hc("Transition","TransitionCancel"),transitionend:hc("Transition","TransitionEnd")},pv={},sx={};fs&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function fc(a){if(pv[a])return pv[a];if(!Lu[a])return a;var o=Lu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in sx)return pv[a]=o[u];return a}var ax=fc("animationend"),ox=fc("animationiteration"),lx=fc("animationstart"),i9=fc("transitionrun"),s9=fc("transitionstart"),a9=fc("transitioncancel"),cx=fc("transitionend"),ux=new Map,mv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mv.push("scrollEnd");function qs(a,o){ux.set(a,o),dr(o,[a])}var Um=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ps=[],Bu=0,gv=0;function $m(){for(var a=Bu,o=gv=Bu=0;o<a;){var u=ps[o];ps[o++]=null;var h=ps[o];ps[o++]=null;var w=ps[o];ps[o++]=null;var v=ps[o];if(ps[o++]=null,h!==null&&w!==null){var I=h.pending;I===null?w.next=w:(w.next=I.next,I.next=w),h.pending=w}v!==0&&dx(u,w,v)}}function Mm(a,o,u,h){ps[Bu++]=a,ps[Bu++]=o,ps[Bu++]=u,ps[Bu++]=h,gv|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function yv(a,o,u,h){return Mm(a,o,u,h),Lm(a)}function pc(a,o){return Mm(a,null,null,o),Lm(a)}function dx(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var w=!1,v=a.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(w=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,w&&o!==null&&(w=31-Bt(u),a=v.hiddenUpdates,h=a[w],h===null?a[w]=[o]:h.push(o),o.lane=u|536870912),v):null}function Lm(a){if(50<af)throw af=0,x0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ju={};function o9(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(a,o,u,h){return new o9(a,o,u,h)}function wv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ha(a,o){var u=a.alternate;return u===null?(u=Hi(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function hx(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Bm(a,o,u,h,w,v){var I=0;if(h=a,typeof a=="function")wv(a)&&(I=1);else if(typeof a=="string")I=h7(a,u,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=Hi(31,u,o,w),a.elementType=B,a.lanes=v,a;case _:return mc(u.children,w,v,o);case E:I=8,w|=24;break;case k:return a=Hi(12,u,o,w|2),a.elementType=k,a.lanes=v,a;case O:return a=Hi(13,u,o,w),a.elementType=O,a.lanes=v,a;case C:return a=Hi(19,u,o,w),a.elementType=C,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:I=10;break e;case D:I=9;break e;case T:I=11;break e;case U:I=14;break e;case z:I=16,h=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Hi(I,u,o,w),o.elementType=a,o.type=h,o.lanes=v,o}function mc(a,o,u,h){return a=Hi(7,a,h,o),a.lanes=u,a}function bv(a,o,u){return a=Hi(6,a,null,o),a.lanes=u,a}function fx(a){var o=Hi(18,null,null,0);return o.stateNode=a,o}function vv(a,o,u){return o=Hi(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var px=new WeakMap;function ms(a,o){if(typeof a=="object"&&a!==null){var u=px.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Mn(o)},px.set(a,o),o)}return{value:a,source:o,stack:Mn(o)}}var zu=[],Fu=0,jm=null,Lh=0,gs=[],ys=0,Yo=null,da=1,ha="";function Va(a,o){zu[Fu++]=Lh,zu[Fu++]=jm,jm=a,Lh=o}function mx(a,o,u){gs[ys++]=da,gs[ys++]=ha,gs[ys++]=Yo,Yo=a;var h=da;a=ha;var w=32-Bt(h)-1;h&=~(1<<w),u+=1;var v=32-Bt(o)+w;if(30<v){var I=w-w%5;v=(h&(1<<I)-1).toString(32),h>>=I,w-=I,da=1<<32-Bt(o)+w|u<<w|h,ha=v+a}else da=1<<v|u<<w|h,ha=a}function _v(a){a.return!==null&&(Va(a,1),mx(a,1,0))}function Ev(a){for(;a===jm;)jm=zu[--Fu],zu[Fu]=null,Lh=zu[--Fu],zu[Fu]=null;for(;a===Yo;)Yo=gs[--ys],gs[ys]=null,ha=gs[--ys],gs[ys]=null,da=gs[--ys],gs[ys]=null}function gx(a,o){gs[ys++]=da,gs[ys++]=ha,gs[ys++]=Yo,da=o.id,ha=o.overflow,Yo=a}var Ur=null,_n=null,Pt=!1,Zo=null,ws=!1,Sv=Error(r(519));function Xo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bh(ms(o,a)),Sv}function yx(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[St]=a,o[Nt]=h,u){case"dialog":Ot("cancel",o),Ot("close",o);break;case"iframe":case"object":case"embed":Ot("load",o);break;case"video":case"audio":for(u=0;u<lf.length;u++)Ot(lf[u],o);break;case"source":Ot("error",o);break;case"img":case"image":case"link":Ot("error",o),Ot("load",o);break;case"details":Ot("toggle",o);break;case"input":Ot("invalid",o),Tm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ot("invalid",o);break;case"textarea":Ot("invalid",o),Cm(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||PI(o.textContent,u)?(h.popover!=null&&(Ot("beforetoggle",o),Ot("toggle",o)),h.onScroll!=null&&Ot("scroll",o),h.onScrollEnd!=null&&Ot("scrollend",o),h.onClick!=null&&(o.onclick=Fs),o=!0):o=!1,o||Xo(a,!0)}function wx(a){for(Ur=a.return;Ur;)switch(Ur.tag){case 5:case 31:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:Ur=Ur.return}}function qu(a){if(a!==Ur)return!1;if(!Pt)return wx(a),Pt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||z0(a.type,a.memoizedProps)),u=!u),u&&_n&&Xo(a),wx(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_n=qI(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_n=qI(a)}else o===27?(o=_n,dl(a.type)?(a=V0,V0=null,_n=a):_n=o):_n=Ur?vs(a.stateNode.nextSibling):null;return!0}function gc(){_n=Ur=null,Pt=!1}function Av(){var a=Zo;return a!==null&&(Ai===null?Ai=a:Ai.push.apply(Ai,a),Zo=null),a}function Bh(a){Zo===null?Zo=[a]:Zo.push(a)}var Tv=Y(null),yc=null,Ka=null;function Jo(a,o,u){ie(Tv,o._currentValue),o._currentValue=u}function Ga(a){a._currentValue=Tv.current,Z(Tv)}function xv(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function Cv(a,o,u,h){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var v=w.dependencies;if(v!==null){var I=w.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=w;for(var X=0;X<o.length;X++)if(M.context===o[X]){v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),xv(v.return,u,a),h||(I=null);break e}v=M.next}}else if(w.tag===18){if(I=w.return,I===null)throw Error(r(341));I.lanes|=u,v=I.alternate,v!==null&&(v.lanes|=u),xv(I,u,a),I=null}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===a){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}}function Wu(a,o,u,h){a=null;for(var w=o,v=!1;w!==null;){if(!v){if((w.flags&524288)!==0)v=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var I=w.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var M=w.type;Wi(w.pendingProps.value,I.value)||(a!==null?a.push(M):a=[M])}}else if(w===Ie.current){if(I=w.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(ff):a=[ff])}w=w.return}a!==null&&Cv(o,a,u,h),o.flags|=262144}function zm(a){for(a=a.firstContext;a!==null;){if(!Wi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function wc(a){yc=a,Ka=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function $r(a){return bx(yc,a)}function Fm(a,o){return yc===null&&wc(a),bx(a,o)}function bx(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ka===null){if(a===null)throw Error(r(308));Ka=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ka=Ka.next=o;return u}var l9=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},c9=t.unstable_scheduleCallback,u9=t.unstable_NormalPriority,Xn={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iv(){return{controller:new l9,data:new Map,refCount:0}}function jh(a){a.refCount--,a.refCount===0&&c9(u9,function(){a.controller.abort()})}var zh=null,Ov=0,Hu=0,Vu=null;function d9(a,o){if(zh===null){var u=zh=[];Ov=0,Hu=D0(),Vu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Ov++,o.then(vx,vx),o}function vx(){if(--Ov===0&&zh!==null){Vu!==null&&(Vu.status="fulfilled");var a=zh;zh=null,Hu=0,Vu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function h9(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var w=0;w<u.length;w++)(0,u[w])(o)},function(w){for(h.status="rejected",h.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),h}var _x=S.S;S.S=function(a,o){iI=Qt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&d9(a,o),_x!==null&&_x(a,o)};var bc=Y(null);function kv(){var a=bc.current;return a!==null?a:hn.pooledCache}function qm(a,o){o===null?ie(bc,bc.current):ie(bc,o.pool)}function Ex(){var a=kv();return a===null?null:{parent:Xn._currentValue,pool:a}}var Ku=Error(r(460)),Rv=Error(r(474)),Wm=Error(r(542)),Hm={then:function(){}};function Sx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ax(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Fs,Fs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xx(a),a;default:if(typeof o.status=="string")o.then(Fs,Fs);else{if(a=hn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=h}},function(h){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xx(a),a}throw _c=o,Ku}}function vc(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(_c=u,Ku):u}}var _c=null;function Tx(){if(_c===null)throw Error(r(459));var a=_c;return _c=null,a}function xx(a){if(a===Ku||a===Wm)throw Error(r(483))}var Gu=null,Fh=0;function Vm(a){var o=Fh;return Fh+=1,Gu===null&&(Gu=[]),Ax(Gu,a,o)}function qh(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Km(a,o){throw o.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Cx(a){function o(ce,re){if(a){var he=ce.deletions;he===null?(ce.deletions=[re],ce.flags|=16):he.push(re)}}function u(ce,re){if(!a)return null;for(;re!==null;)o(ce,re),re=re.sibling;return null}function h(ce){for(var re=new Map;ce!==null;)ce.key!==null?re.set(ce.key,ce):re.set(ce.index,ce),ce=ce.sibling;return re}function w(ce,re){return ce=Ha(ce,re),ce.index=0,ce.sibling=null,ce}function v(ce,re,he){return ce.index=he,a?(he=ce.alternate,he!==null?(he=he.index,he<re?(ce.flags|=67108866,re):he):(ce.flags|=67108866,re)):(ce.flags|=1048576,re)}function I(ce){return a&&ce.alternate===null&&(ce.flags|=67108866),ce}function M(ce,re,he,be){return re===null||re.tag!==6?(re=bv(he,ce.mode,be),re.return=ce,re):(re=w(re,he),re.return=ce,re)}function X(ce,re,he,be){var it=he.type;return it===_?we(ce,re,he.props.children,be,he.key):re!==null&&(re.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&vc(it)===re.type)?(re=w(re,he.props),qh(re,he),re.return=ce,re):(re=Bm(he.type,he.key,he.props,null,ce.mode,be),qh(re,he),re.return=ce,re)}function fe(ce,re,he,be){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=vv(he,ce.mode,be),re.return=ce,re):(re=w(re,he.children||[]),re.return=ce,re)}function we(ce,re,he,be,it){return re===null||re.tag!==7?(re=mc(he,ce.mode,be,it),re.return=ce,re):(re=w(re,he),re.return=ce,re)}function ve(ce,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=bv(""+re,ce.mode,he),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return he=Bm(re.type,re.key,re.props,null,ce.mode,he),qh(he,re),he.return=ce,he;case b:return re=vv(re,ce.mode,he),re.return=ce,re;case z:return re=vc(re),ve(ce,re,he)}if(A(re)||K(re))return re=mc(re,ce.mode,he,null),re.return=ce,re;if(typeof re.then=="function")return ve(ce,Vm(re),he);if(re.$$typeof===x)return ve(ce,Fm(ce,re),he);Km(ce,re)}return null}function me(ce,re,he,be){var it=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return it!==null?null:M(ce,re,""+he,be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return he.key===it?X(ce,re,he,be):null;case b:return he.key===it?fe(ce,re,he,be):null;case z:return he=vc(he),me(ce,re,he,be)}if(A(he)||K(he))return it!==null?null:we(ce,re,he,be,null);if(typeof he.then=="function")return me(ce,re,Vm(he),be);if(he.$$typeof===x)return me(ce,re,Fm(ce,he),be);Km(ce,he)}return null}function ge(ce,re,he,be,it){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ce=ce.get(he)||null,M(re,ce,""+be,it);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return ce=ce.get(be.key===null?he:be.key)||null,X(re,ce,be,it);case b:return ce=ce.get(be.key===null?he:be.key)||null,fe(re,ce,be,it);case z:return be=vc(be),ge(ce,re,he,be,it)}if(A(be)||K(be))return ce=ce.get(he)||null,we(re,ce,be,it,null);if(typeof be.then=="function")return ge(ce,re,he,Vm(be),it);if(be.$$typeof===x)return ge(ce,re,he,Fm(re,be),it);Km(re,be)}return null}function Ke(ce,re,he,be){for(var it=null,qt=null,Ze=re,_t=re=0,Rt=null;Ze!==null&&_t<he.length;_t++){Ze.index>_t?(Rt=Ze,Ze=null):Rt=Ze.sibling;var Wt=me(ce,Ze,he[_t],be);if(Wt===null){Ze===null&&(Ze=Rt);break}a&&Ze&&Wt.alternate===null&&o(ce,Ze),re=v(Wt,re,_t),qt===null?it=Wt:qt.sibling=Wt,qt=Wt,Ze=Rt}if(_t===he.length)return u(ce,Ze),Pt&&Va(ce,_t),it;if(Ze===null){for(;_t<he.length;_t++)Ze=ve(ce,he[_t],be),Ze!==null&&(re=v(Ze,re,_t),qt===null?it=Ze:qt.sibling=Ze,qt=Ze);return Pt&&Va(ce,_t),it}for(Ze=h(Ze);_t<he.length;_t++)Rt=ge(Ze,ce,_t,he[_t],be),Rt!==null&&(a&&Rt.alternate!==null&&Ze.delete(Rt.key===null?_t:Rt.key),re=v(Rt,re,_t),qt===null?it=Rt:qt.sibling=Rt,qt=Rt);return a&&Ze.forEach(function(gl){return o(ce,gl)}),Pt&&Va(ce,_t),it}function ot(ce,re,he,be){if(he==null)throw Error(r(151));for(var it=null,qt=null,Ze=re,_t=re=0,Rt=null,Wt=he.next();Ze!==null&&!Wt.done;_t++,Wt=he.next()){Ze.index>_t?(Rt=Ze,Ze=null):Rt=Ze.sibling;var gl=me(ce,Ze,Wt.value,be);if(gl===null){Ze===null&&(Ze=Rt);break}a&&Ze&&gl.alternate===null&&o(ce,Ze),re=v(gl,re,_t),qt===null?it=gl:qt.sibling=gl,qt=gl,Ze=Rt}if(Wt.done)return u(ce,Ze),Pt&&Va(ce,_t),it;if(Ze===null){for(;!Wt.done;_t++,Wt=he.next())Wt=ve(ce,Wt.value,be),Wt!==null&&(re=v(Wt,re,_t),qt===null?it=Wt:qt.sibling=Wt,qt=Wt);return Pt&&Va(ce,_t),it}for(Ze=h(Ze);!Wt.done;_t++,Wt=he.next())Wt=ge(Ze,ce,_t,Wt.value,be),Wt!==null&&(a&&Wt.alternate!==null&&Ze.delete(Wt.key===null?_t:Wt.key),re=v(Wt,re,_t),qt===null?it=Wt:qt.sibling=Wt,qt=Wt);return a&&Ze.forEach(function(S7){return o(ce,S7)}),Pt&&Va(ce,_t),it}function ln(ce,re,he,be){if(typeof he=="object"&&he!==null&&he.type===_&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case y:e:{for(var it=he.key;re!==null;){if(re.key===it){if(it=he.type,it===_){if(re.tag===7){u(ce,re.sibling),be=w(re,he.props.children),be.return=ce,ce=be;break e}}else if(re.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&vc(it)===re.type){u(ce,re.sibling),be=w(re,he.props),qh(be,he),be.return=ce,ce=be;break e}u(ce,re);break}else o(ce,re);re=re.sibling}he.type===_?(be=mc(he.props.children,ce.mode,be,he.key),be.return=ce,ce=be):(be=Bm(he.type,he.key,he.props,null,ce.mode,be),qh(be,he),be.return=ce,ce=be)}return I(ce);case b:e:{for(it=he.key;re!==null;){if(re.key===it)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){u(ce,re.sibling),be=w(re,he.children||[]),be.return=ce,ce=be;break e}else{u(ce,re);break}else o(ce,re);re=re.sibling}be=vv(he,ce.mode,be),be.return=ce,ce=be}return I(ce);case z:return he=vc(he),ln(ce,re,he,be)}if(A(he))return Ke(ce,re,he,be);if(K(he)){if(it=K(he),typeof it!="function")throw Error(r(150));return he=it.call(he),ot(ce,re,he,be)}if(typeof he.then=="function")return ln(ce,re,Vm(he),be);if(he.$$typeof===x)return ln(ce,re,Fm(ce,he),be);Km(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,re!==null&&re.tag===6?(u(ce,re.sibling),be=w(re,he),be.return=ce,ce=be):(u(ce,re),be=bv(he,ce.mode,be),be.return=ce,ce=be),I(ce)):u(ce,re)}return function(ce,re,he,be){try{Fh=0;var it=ln(ce,re,he,be);return Gu=null,it}catch(Ze){if(Ze===Ku||Ze===Wm)throw Ze;var qt=Hi(29,Ze,null,ce.mode);return qt.lanes=be,qt.return=ce,qt}}}var Ec=Cx(!0),Ix=Cx(!1),Qo=!1;function Dv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function el(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function tl(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Zt&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,o=Lm(a),dx(a,null,u),o}return Mm(a,h,o,u),Lm(a)}function Wh(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Ye(a,u)}}function Pv(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var w=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?w=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?w=v=o:v=v.next=o}else w=v=o;u={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Uv=!1;function Hh(){if(Uv){var a=Vu;if(a!==null)throw a}}function Vh(a,o,u,h){Uv=!1;var w=a.updateQueue;Qo=!1;var v=w.firstBaseUpdate,I=w.lastBaseUpdate,M=w.shared.pending;if(M!==null){w.shared.pending=null;var X=M,fe=X.next;X.next=null,I===null?v=fe:I.next=fe,I=X;var we=a.alternate;we!==null&&(we=we.updateQueue,M=we.lastBaseUpdate,M!==I&&(M===null?we.firstBaseUpdate=fe:M.next=fe,we.lastBaseUpdate=X))}if(v!==null){var ve=w.baseState;I=0,we=fe=X=null,M=v;do{var me=M.lane&-536870913,ge=me!==M.lane;if(ge?(kt&me)===me:(h&me)===me){me!==0&&me===Hu&&(Uv=!0),we!==null&&(we=we.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ke=a,ot=M;me=o;var ln=u;switch(ot.tag){case 1:if(Ke=ot.payload,typeof Ke=="function"){ve=Ke.call(ln,ve,me);break e}ve=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=ot.payload,me=typeof Ke=="function"?Ke.call(ln,ve,me):Ke,me==null)break e;ve=m({},ve,me);break e;case 2:Qo=!0}}me=M.callback,me!==null&&(a.flags|=64,ge&&(a.flags|=8192),ge=w.callbacks,ge===null?w.callbacks=[me]:ge.push(me))}else ge={lane:me,tag:M.tag,payload:M.payload,callback:M.callback,next:null},we===null?(fe=we=ge,X=ve):we=we.next=ge,I|=me;if(M=M.next,M===null){if(M=w.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);we===null&&(X=ve),w.baseState=X,w.firstBaseUpdate=fe,w.lastBaseUpdate=we,v===null&&(w.shared.lanes=0),al|=I,a.lanes=I,a.memoizedState=ve}}function Ox(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function kx(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Ox(u[a],o)}var Yu=Y(null),Gm=Y(0);function Rx(a,o){a=ro,ie(Gm,a),ie(Yu,o),ro=a|o.baseLanes}function $v(){ie(Gm,ro),ie(Yu,Yu.current)}function Mv(){ro=Gm.current,Z(Yu),Z(Gm)}var Vi=Y(null),bs=null;function nl(a){var o=a.alternate;ie(Fn,Fn.current&1),ie(Vi,a),bs===null&&(o===null||Yu.current!==null||o.memoizedState!==null)&&(bs=a)}function Lv(a){ie(Fn,Fn.current),ie(Vi,a),bs===null&&(bs=a)}function Dx(a){a.tag===22?(ie(Fn,Fn.current),ie(Vi,a),bs===null&&(bs=a)):rl()}function rl(){ie(Fn,Fn.current),ie(Vi,Vi.current)}function Ki(a){Z(Vi),bs===a&&(bs=null),Z(Fn)}var Fn=Y(0);function Ym(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||W0(u)||H0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ya=0,wt=null,an=null,Jn=null,Zm=!1,Zu=!1,Sc=!1,Xm=0,Kh=0,Xu=null,f9=0;function Ln(){throw Error(r(321))}function Bv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Wi(a[u],o[u]))return!1;return!0}function jv(a,o,u,h,w,v){return Ya=v,wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,S.H=a===null||a.memoizedState===null?mC:t0,Sc=!1,v=u(h,w),Sc=!1,Zu&&(v=Px(o,u,h,w)),Nx(a),v}function Nx(a){S.H=Zh;var o=an!==null&&an.next!==null;if(Ya=0,Jn=an=wt=null,Zm=!1,Kh=0,Xu=null,o)throw Error(r(300));a===null||Qn||(a=a.dependencies,a!==null&&zm(a)&&(Qn=!0))}function Px(a,o,u,h){wt=a;var w=0;do{if(Zu&&(Xu=null),Kh=0,Zu=!1,25<=w)throw Error(r(301));if(w+=1,Jn=an=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}S.H=gC,v=o(u,h)}while(Zu);return v}function p9(){var a=S.H,o=a.useState()[0];return o=typeof o.then=="function"?Gh(o):o,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(wt.flags|=1024),o}function zv(){var a=Xm!==0;return Xm=0,a}function Fv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function qv(a){if(Zm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Zm=!1}Ya=0,Jn=an=wt=null,Zu=!1,Kh=Xm=0,Xu=null}function ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?wt.memoizedState=Jn=a:Jn=Jn.next=a,Jn}function qn(){if(an===null){var a=wt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var o=Jn===null?wt.memoizedState:Jn.next;if(o!==null)Jn=o,an=a;else{if(a===null)throw wt.alternate===null?Error(r(467)):Error(r(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Jn===null?wt.memoizedState=Jn=a:Jn=Jn.next=a}return Jn}function Jm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gh(a){var o=Kh;return Kh+=1,Xu===null&&(Xu=[]),a=Ax(Xu,a,o),o=wt,(Jn===null?o.memoizedState:Jn.next)===null&&(o=o.alternate,S.H=o===null||o.memoizedState===null?mC:t0),a}function Qm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gh(a);if(a.$$typeof===x)return $r(a)}throw Error(r(438,String(a)))}function Wv(a){var o=null,u=wt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=wt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Jm(),wt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=q;return o.index++,u}function Za(a,o){return typeof o=="function"?o(a):o}function eg(a){var o=qn();return Hv(o,an,a)}function Hv(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var w=a.baseQueue,v=h.pending;if(v!==null){if(w!==null){var I=w.next;w.next=v.next,v.next=I}o.baseQueue=w=v,h.pending=null}if(v=a.baseState,w===null)a.memoizedState=v;else{o=w.next;var M=I=null,X=null,fe=o,we=!1;do{var ve=fe.lane&-536870913;if(ve!==fe.lane?(kt&ve)===ve:(Ya&ve)===ve){var me=fe.revertLane;if(me===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),ve===Hu&&(we=!0);else if((Ya&me)===me){fe=fe.next,me===Hu&&(we=!0);continue}else ve={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(M=X=ve,I=v):X=X.next=ve,wt.lanes|=me,al|=me;ve=fe.action,Sc&&u(v,ve),v=fe.hasEagerState?fe.eagerState:u(v,ve)}else me={lane:ve,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(M=X=me,I=v):X=X.next=me,wt.lanes|=ve,al|=ve;fe=fe.next}while(fe!==null&&fe!==o);if(X===null?I=v:X.next=M,!Wi(v,a.memoizedState)&&(Qn=!0,we&&(u=Vu,u!==null)))throw u;a.memoizedState=v,a.baseState=I,a.baseQueue=X,h.lastRenderedState=v}return w===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Vv(a){var o=qn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,w=u.pending,v=o.memoizedState;if(w!==null){u.pending=null;var I=w=w.next;do v=a(v,I.action),I=I.next;while(I!==w);Wi(v,o.memoizedState)||(Qn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function Ux(a,o,u){var h=wt,w=qn(),v=Pt;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Wi((an||w).memoizedState,u);if(I&&(w.memoizedState=u,Qn=!0),w=w.queue,Yv(Lx.bind(null,h,w,a),[a]),w.getSnapshot!==o||I||Jn!==null&&Jn.memoizedState.tag&1){if(h.flags|=2048,Ju(9,{destroy:void 0},Mx.bind(null,h,w,u,o),null),hn===null)throw Error(r(349));v||(Ya&127)!==0||$x(h,o,u)}return u}function $x(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=wt.updateQueue,o===null?(o=Jm(),wt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Mx(a,o,u,h){o.value=u,o.getSnapshot=h,Bx(o)&&jx(a)}function Lx(a,o,u){return u(function(){Bx(o)&&jx(a)})}function Bx(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Wi(a,u)}catch{return!0}}function jx(a){var o=pc(a,2);o!==null&&Ti(o,a,2)}function Kv(a){var o=ui();if(typeof a=="function"){var u=a;if(a=u(),Sc){un(!0);try{u()}finally{un(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},o}function zx(a,o,u,h){return a.baseState=u,Hv(a,an,typeof h=="function"?h:Za)}function m9(a,o,u,h,w){if(rg(a))throw Error(r(485));if(a=o.action,a!==null){var v={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};S.T!==null?u(!0):v.isTransition=!1,h(v),u=o.pending,u===null?(v.next=o.pending=v,Fx(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Fx(a,o){var u=o.action,h=o.payload,w=a.state;if(o.isTransition){var v=S.T,I={};S.T=I;try{var M=u(w,h),X=S.S;X!==null&&X(I,M),qx(a,o,M)}catch(fe){Gv(a,o,fe)}finally{v!==null&&I.types!==null&&(v.types=I.types),S.T=v}}else try{v=u(w,h),qx(a,o,v)}catch(fe){Gv(a,o,fe)}}function qx(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Wx(a,o,h)},function(h){return Gv(a,o,h)}):Wx(a,o,u)}function Wx(a,o,u){o.status="fulfilled",o.value=u,Hx(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Fx(a,u)))}function Gv(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Hx(o),o=o.next;while(o!==h)}a.action=null}function Hx(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Vx(a,o){return o}function Kx(a,o){if(Pt){var u=hn.formState;if(u!==null){e:{var h=wt;if(Pt){if(_n){t:{for(var w=_n,v=ws;w.nodeType!==8;){if(!v){w=null;break t}if(w=vs(w.nextSibling),w===null){w=null;break t}}v=w.data,w=v==="F!"||v==="F"?w:null}if(w){_n=vs(w.nextSibling),h=w.data==="F!";break e}}Xo(h)}h=!1}h&&(o=u[0])}}return u=ui(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vx,lastRenderedState:o},u.queue=h,u=hC.bind(null,wt,h),h.dispatch=u,h=Kv(!1),v=e0.bind(null,wt,!1,h.queue),h=ui(),w={state:o,dispatch:null,action:a,pending:null},h.queue=w,u=m9.bind(null,wt,w,v,u),w.dispatch=u,h.memoizedState=a,[o,u,!1]}function Gx(a){var o=qn();return Yx(o,an,a)}function Yx(a,o,u){if(o=Hv(a,o,Vx)[0],a=eg(Za)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Gh(o)}catch(I){throw I===Ku?Wm:I}else h=o;o=qn();var w=o.queue,v=w.dispatch;return u!==o.memoizedState&&(wt.flags|=2048,Ju(9,{destroy:void 0},g9.bind(null,w,u),null)),[h,v,a]}function g9(a,o){a.action=o}function Zx(a){var o=qn(),u=an;if(u!==null)return Yx(o,u,a);qn(),o=o.memoizedState,u=qn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function Ju(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=wt.updateQueue,o===null&&(o=Jm(),wt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function Xx(){return qn().memoizedState}function tg(a,o,u,h){var w=ui();wt.flags|=a,w.memoizedState=Ju(1|o,{destroy:void 0},u,h===void 0?null:h)}function ng(a,o,u,h){var w=qn();h=h===void 0?null:h;var v=w.memoizedState.inst;an!==null&&h!==null&&Bv(h,an.memoizedState.deps)?w.memoizedState=Ju(o,v,u,h):(wt.flags|=a,w.memoizedState=Ju(1|o,v,u,h))}function Jx(a,o){tg(8390656,8,a,o)}function Yv(a,o){ng(2048,8,a,o)}function y9(a){wt.flags|=4;var o=wt.updateQueue;if(o===null)o=Jm(),wt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Qx(a){var o=qn().memoizedState;return y9({ref:o,nextImpl:a}),function(){if((Zt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function eC(a,o){return ng(4,2,a,o)}function tC(a,o){return ng(4,4,a,o)}function nC(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function rC(a,o,u){u=u!=null?u.concat([a]):null,ng(4,4,nC.bind(null,o,a),u)}function Zv(){}function iC(a,o){var u=qn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&Bv(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function sC(a,o){var u=qn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&Bv(o,h[1]))return h[0];if(h=a(),Sc){un(!0);try{a()}finally{un(!1)}}return u.memoizedState=[h,o],h}function Xv(a,o,u){return u===void 0||(Ya&1073741824)!==0&&(kt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=aI(),wt.lanes|=a,al|=a,u)}function aC(a,o,u,h){return Wi(u,o)?u:Yu.current!==null?(a=Xv(a,u,h),Wi(a,o)||(Qn=!0),a):(Ya&42)===0||(Ya&1073741824)!==0&&(kt&261930)===0?(Qn=!0,a.memoizedState=u):(a=aI(),wt.lanes|=a,al|=a,o)}function oC(a,o,u,h,w){var v=P.p;P.p=v!==0&&8>v?v:8;var I=S.T,M={};S.T=M,e0(a,!1,o,u);try{var X=w(),fe=S.S;if(fe!==null&&fe(M,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var we=h9(X,h);Yh(a,o,we,Zi(a))}else Yh(a,o,h,Zi(a))}catch(ve){Yh(a,o,{then:function(){},status:"rejected",reason:ve},Zi())}finally{P.p=v,I!==null&&M.types!==null&&(I.types=M.types),S.T=I}}function w9(){}function Jv(a,o,u,h){if(a.tag!==5)throw Error(r(476));var w=lC(a).queue;oC(a,w,o,$,u===null?w9:function(){return cC(a),u(h)})}function lC(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function cC(a){var o=lC(a);o.next===null&&(o=a.alternate.memoizedState),Yh(a,o.next.queue,{},Zi())}function Qv(){return $r(ff)}function uC(){return qn().memoizedState}function dC(){return qn().memoizedState}function b9(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Zi();a=el(u);var h=tl(o,a,u);h!==null&&(Ti(h,o,u),Wh(h,o,u)),o={cache:Iv()},a.payload=o;return}o=o.return}}function v9(a,o,u){var h=Zi();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rg(a)?fC(o,u):(u=yv(a,o,u,h),u!==null&&(Ti(u,a,h),pC(u,o,h)))}function hC(a,o,u){var h=Zi();Yh(a,o,u,h)}function Yh(a,o,u,h){var w={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(rg(a))fC(o,w);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,M=v(I,u);if(w.hasEagerState=!0,w.eagerState=M,Wi(M,I))return Mm(a,o,w,0),hn===null&&$m(),!1}catch{}if(u=yv(a,o,w,h),u!==null)return Ti(u,a,h),pC(u,o,h),!0}return!1}function e0(a,o,u,h){if(h={lane:2,revertLane:D0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},rg(a)){if(o)throw Error(r(479))}else o=yv(a,u,h,2),o!==null&&Ti(o,a,2)}function rg(a){var o=a.alternate;return a===wt||o!==null&&o===wt}function fC(a,o){Zu=Zm=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function pC(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Ye(a,u)}}var Zh={readContext:$r,use:Qm,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};Zh.useEffectEvent=Ln;var mC={readContext:$r,use:Qm,useCallback:function(a,o){return ui().memoizedState=[a,o===void 0?null:o],a},useContext:$r,useEffect:Jx,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,tg(4194308,4,nC.bind(null,o,a),u)},useLayoutEffect:function(a,o){return tg(4194308,4,a,o)},useInsertionEffect:function(a,o){tg(4,2,a,o)},useMemo:function(a,o){var u=ui();o=o===void 0?null:o;var h=a();if(Sc){un(!0);try{a()}finally{un(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=ui();if(u!==void 0){var w=u(o);if(Sc){un(!0);try{u(o)}finally{un(!1)}}}else w=o;return h.memoizedState=h.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},h.queue=a,a=a.dispatch=v9.bind(null,wt,a),[h.memoizedState,a]},useRef:function(a){var o=ui();return a={current:a},o.memoizedState=a},useState:function(a){a=Kv(a);var o=a.queue,u=hC.bind(null,wt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Zv,useDeferredValue:function(a,o){var u=ui();return Xv(u,a,o)},useTransition:function(){var a=Kv(!1);return a=oC.bind(null,wt,a.queue,!0,!1),ui().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=wt,w=ui();if(Pt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),hn===null)throw Error(r(349));(kt&127)!==0||$x(h,o,u)}w.memoizedState=u;var v={value:u,getSnapshot:o};return w.queue=v,Jx(Lx.bind(null,h,v,a),[a]),h.flags|=2048,Ju(9,{destroy:void 0},Mx.bind(null,h,v,u,o),null),u},useId:function(){var a=ui(),o=hn.identifierPrefix;if(Pt){var u=ha,h=da;u=(h&~(1<<32-Bt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Xm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=f9++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Qv,useFormState:Kx,useActionState:Kx,useOptimistic:function(a){var o=ui();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=e0.bind(null,wt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Wv,useCacheRefresh:function(){return ui().memoizedState=b9.bind(null,wt)},useEffectEvent:function(a){var o=ui(),u={impl:a};return o.memoizedState=u,function(){if((Zt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},t0={readContext:$r,use:Qm,useCallback:iC,useContext:$r,useEffect:Yv,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:sC,useReducer:eg,useRef:Xx,useState:function(){return eg(Za)},useDebugValue:Zv,useDeferredValue:function(a,o){var u=qn();return aC(u,an.memoizedState,a,o)},useTransition:function(){var a=eg(Za)[0],o=qn().memoizedState;return[typeof a=="boolean"?a:Gh(a),o]},useSyncExternalStore:Ux,useId:uC,useHostTransitionStatus:Qv,useFormState:Gx,useActionState:Gx,useOptimistic:function(a,o){var u=qn();return zx(u,an,a,o)},useMemoCache:Wv,useCacheRefresh:dC};t0.useEffectEvent=Qx;var gC={readContext:$r,use:Qm,useCallback:iC,useContext:$r,useEffect:Yv,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:sC,useReducer:Vv,useRef:Xx,useState:function(){return Vv(Za)},useDebugValue:Zv,useDeferredValue:function(a,o){var u=qn();return an===null?Xv(u,a,o):aC(u,an.memoizedState,a,o)},useTransition:function(){var a=Vv(Za)[0],o=qn().memoizedState;return[typeof a=="boolean"?a:Gh(a),o]},useSyncExternalStore:Ux,useId:uC,useHostTransitionStatus:Qv,useFormState:Zx,useActionState:Zx,useOptimistic:function(a,o){var u=qn();return an!==null?zx(u,an,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Wv,useCacheRefresh:dC};gC.useEffectEvent=Qx;function n0(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var r0={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=Zi(),w=el(h);w.payload=o,u!=null&&(w.callback=u),o=tl(a,w,h),o!==null&&(Ti(o,a,h),Wh(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=Zi(),w=el(h);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=tl(a,w,h),o!==null&&(Ti(o,a,h),Wh(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Zi(),h=el(u);h.tag=2,o!=null&&(h.callback=o),o=tl(a,h,u),o!==null&&(Ti(o,a,u),Wh(o,a,u))}};function yC(a,o,u,h,w,v,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,v,I):o.prototype&&o.prototype.isPureReactComponent?!$h(u,h)||!$h(w,v):!0}function wC(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&r0.enqueueReplaceState(o,o.state,null)}function Ac(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var w in a)u[w]===void 0&&(u[w]=a[w])}return u}function bC(a){Um(a)}function vC(a){console.error(a)}function _C(a){Um(a)}function ig(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function EC(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function i0(a,o,u){return u=el(u),u.tag=3,u.payload={element:null},u.callback=function(){ig(a,o)},u}function SC(a){return a=el(a),a.tag=3,a}function AC(a,o,u,h){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var v=h.value;a.payload=function(){return w(v)},a.callback=function(){EC(o,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){EC(o,u,h),typeof w!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function _9(a,o,u,h,w){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Wu(o,u,w,!0),u=Vi.current,u!==null){switch(u.tag){case 31:case 13:return bs===null?gg():u.alternate===null&&Bn===0&&(Bn=3),u.flags&=-257,u.flags|=65536,u.lanes=w,h===Hm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),O0(a,h,w)),!1;case 22:return u.flags|=65536,h===Hm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),O0(a,h,w)),!1}throw Error(r(435,u.tag))}return O0(a,h,w),gg(),!1}if(Pt)return o=Vi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,h!==Sv&&(a=Error(r(422),{cause:h}),Bh(ms(a,u)))):(h!==Sv&&(o=Error(r(423),{cause:h}),Bh(ms(o,u))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,h=ms(h,u),w=i0(a.stateNode,h,w),Pv(a,w),Bn!==4&&(Bn=2)),!1;var v=Error(r(520),{cause:h});if(v=ms(v,u),sf===null?sf=[v]:sf.push(v),Bn!==4&&(Bn=2),o===null)return!0;h=ms(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=w&-w,u.lanes|=a,a=i0(u.stateNode,h,a),Pv(u,a),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ol===null||!ol.has(v))))return u.flags|=65536,w&=-w,u.lanes|=w,w=SC(w),AC(w,a,u,h),Pv(u,w),!1}u=u.return}while(u!==null);return!1}var s0=Error(r(461)),Qn=!1;function Mr(a,o,u,h){o.child=a===null?Ix(o,null,u,h):Ec(o,a.child,u,h)}function TC(a,o,u,h,w){u=u.render;var v=o.ref;if("ref"in h){var I={};for(var M in h)M!=="ref"&&(I[M]=h[M])}else I=h;return wc(o),h=jv(a,o,u,I,v,w),M=zv(),a!==null&&!Qn?(Fv(a,o,w),Xa(a,o,w)):(Pt&&M&&_v(o),o.flags|=1,Mr(a,o,h,w),o.child)}function xC(a,o,u,h,w){if(a===null){var v=u.type;return typeof v=="function"&&!wv(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,CC(a,o,v,h,w)):(a=Bm(u.type,null,h,o,o.mode,w),a.ref=o.ref,a.return=o,o.child=a)}if(v=a.child,!f0(a,w)){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:$h,u(I,h)&&a.ref===o.ref)return Xa(a,o,w)}return o.flags|=1,a=Ha(v,h),a.ref=o.ref,a.return=o,o.child=a}function CC(a,o,u,h,w){if(a!==null){var v=a.memoizedProps;if($h(v,h)&&a.ref===o.ref)if(Qn=!1,o.pendingProps=h=v,f0(a,w))(a.flags&131072)!==0&&(Qn=!0);else return o.lanes=a.lanes,Xa(a,o,w)}return a0(a,o,u,h,w)}function IC(a,o,u,h){var w=h.children,v=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,a!==null){for(h=o.child=a.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~v}else h=0,o.child=null;return OC(a,o,v,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&qm(o,v!==null?v.cachePool:null),v!==null?Rx(o,v):$v(),Dx(o);else return h=o.lanes=536870912,OC(a,o,v!==null?v.baseLanes|u:u,u,h)}else v!==null?(qm(o,v.cachePool),Rx(o,v),rl(),o.memoizedState=null):(a!==null&&qm(o,null),$v(),rl());return Mr(a,o,w,u),o.child}function Xh(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function OC(a,o,u,h,w){var v=kv();return v=v===null?null:{parent:Xn._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},a!==null&&qm(o,null),$v(),Dx(o),a!==null&&Wu(a,o,h,!0),o.childLanes=w,null}function sg(a,o){return o=og({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function kC(a,o,u){return Ec(o,a.child,null,u),a=sg(o,o.pendingProps),a.flags|=2,Ki(o),o.memoizedState=null,a}function E9(a,o,u){var h=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Pt){if(h.mode==="hidden")return a=sg(o,h),o.lanes=536870912,Xh(null,a);if(Lv(o),(a=_n)?(a=FI(a,ws),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Yo!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=fx(a),u.return=o,o.child=u,Ur=o,_n=null)):a=null,a===null)throw Xo(o);return o.lanes=536870912,null}return sg(o,h)}var v=a.memoizedState;if(v!==null){var I=v.dehydrated;if(Lv(o),w)if(o.flags&256)o.flags&=-257,o=kC(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Qn||Wu(a,o,u,!1),w=(u&a.childLanes)!==0,Qn||w){if(h=hn,h!==null&&(I=gt(h,u),I!==0&&I!==v.retryLane))throw v.retryLane=I,pc(a,I),Ti(h,a,I),s0;gg(),o=kC(a,o,u)}else a=v.treeContext,_n=vs(I.nextSibling),Ur=o,Pt=!0,Zo=null,ws=!1,a!==null&&gx(o,a),o=sg(o,h),o.flags|=4096;return o}return a=Ha(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function ag(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function a0(a,o,u,h,w){return wc(o),u=jv(a,o,u,h,void 0,w),h=zv(),a!==null&&!Qn?(Fv(a,o,w),Xa(a,o,w)):(Pt&&h&&_v(o),o.flags|=1,Mr(a,o,u,w),o.child)}function RC(a,o,u,h,w,v){return wc(o),o.updateQueue=null,u=Px(o,h,u,w),Nx(a),h=zv(),a!==null&&!Qn?(Fv(a,o,v),Xa(a,o,v)):(Pt&&h&&_v(o),o.flags|=1,Mr(a,o,u,v),o.child)}function DC(a,o,u,h,w){if(wc(o),o.stateNode===null){var v=ju,I=u.contextType;typeof I=="object"&&I!==null&&(v=$r(I)),v=new u(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=r0,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},Dv(o),I=u.contextType,v.context=typeof I=="object"&&I!==null?$r(I):ju,v.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(n0(o,u,I,h),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&r0.enqueueReplaceState(v,v.state,null),Vh(o,h,v,w),Hh(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){v=o.stateNode;var M=o.memoizedProps,X=Ac(u,M);v.props=X;var fe=v.context,we=u.contextType;I=ju,typeof we=="object"&&we!==null&&(I=$r(we));var ve=u.getDerivedStateFromProps;we=typeof ve=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,we||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||fe!==I)&&wC(o,v,h,I),Qo=!1;var me=o.memoizedState;v.state=me,Vh(o,h,v,w),Hh(),fe=o.memoizedState,M||me!==fe||Qo?(typeof ve=="function"&&(n0(o,u,ve,h),fe=o.memoizedState),(X=Qo||yC(o,u,X,h,me,fe,I))?(we||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=fe),v.props=h,v.state=fe,v.context=I,h=X):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,Nv(a,o),I=o.memoizedProps,we=Ac(u,I),v.props=we,ve=o.pendingProps,me=v.context,fe=u.contextType,X=ju,typeof fe=="object"&&fe!==null&&(X=$r(fe)),M=u.getDerivedStateFromProps,(fe=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==ve||me!==X)&&wC(o,v,h,X),Qo=!1,me=o.memoizedState,v.state=me,Vh(o,h,v,w),Hh();var ge=o.memoizedState;I!==ve||me!==ge||Qo||a!==null&&a.dependencies!==null&&zm(a.dependencies)?(typeof M=="function"&&(n0(o,u,M,h),ge=o.memoizedState),(we=Qo||yC(o,u,we,h,me,ge,X)||a!==null&&a.dependencies!==null&&zm(a.dependencies))?(fe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ge,X),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ge,X)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ge),v.props=h,v.state=ge,v.context=X,h=we):(typeof v.componentDidUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&me===a.memoizedState||(o.flags|=1024),h=!1)}return v=h,ag(a,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,a!==null&&h?(o.child=Ec(o,a.child,null,w),o.child=Ec(o,null,u,w)):Mr(a,o,u,w),o.memoizedState=v.state,a=o.child):a=Xa(a,o,w),a}function NC(a,o,u,h){return gc(),o.flags|=256,Mr(a,o,u,h),o.child}var o0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l0(a){return{baseLanes:a,cachePool:Ex()}}function c0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Yi),a}function PC(a,o,u){var h=o.pendingProps,w=!1,v=(o.flags&128)!==0,I;if((I=v)||(I=a!==null&&a.memoizedState===null?!1:(Fn.current&2)!==0),I&&(w=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(Pt){if(w?nl(o):rl(),(a=_n)?(a=FI(a,ws),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Yo!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=fx(a),u.return=o,o.child=u,Ur=o,_n=null)):a=null,a===null)throw Xo(o);return H0(a)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,w?(rl(),w=o.mode,M=og({mode:"hidden",children:M},w),h=mc(h,w,u,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=l0(u),h.childLanes=c0(a,I,u),o.memoizedState=o0,Xh(null,h)):(nl(o),u0(o,M))}var X=a.memoizedState;if(X!==null&&(M=X.dehydrated,M!==null)){if(v)o.flags&256?(nl(o),o.flags&=-257,o=d0(a,o,u)):o.memoizedState!==null?(rl(),o.child=a.child,o.flags|=128,o=null):(rl(),M=h.fallback,w=o.mode,h=og({mode:"visible",children:h.children},w),M=mc(M,w,u,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,Ec(o,a.child,null,u),h=o.child,h.memoizedState=l0(u),h.childLanes=c0(a,I,u),o.memoizedState=o0,o=Xh(null,h));else if(nl(o),H0(M)){if(I=M.nextSibling&&M.nextSibling.dataset,I)var fe=I.dgst;I=fe,h=Error(r(419)),h.stack="",h.digest=I,Bh({value:h,source:null,stack:null}),o=d0(a,o,u)}else if(Qn||Wu(a,o,u,!1),I=(u&a.childLanes)!==0,Qn||I){if(I=hn,I!==null&&(h=gt(I,u),h!==0&&h!==X.retryLane))throw X.retryLane=h,pc(a,h),Ti(I,a,h),s0;W0(M)||gg(),o=d0(a,o,u)}else W0(M)?(o.flags|=192,o.child=a.child,o=null):(a=X.treeContext,_n=vs(M.nextSibling),Ur=o,Pt=!0,Zo=null,ws=!1,a!==null&&gx(o,a),o=u0(o,h.children),o.flags|=4096);return o}return w?(rl(),M=h.fallback,w=o.mode,X=a.child,fe=X.sibling,h=Ha(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,fe!==null?M=Ha(fe,M):(M=mc(M,w,u,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,Xh(null,h),h=o.child,M=a.child.memoizedState,M===null?M=l0(u):(w=M.cachePool,w!==null?(X=Xn._currentValue,w=w.parent!==X?{parent:X,pool:X}:w):w=Ex(),M={baseLanes:M.baseLanes|u,cachePool:w}),h.memoizedState=M,h.childLanes=c0(a,I,u),o.memoizedState=o0,Xh(a.child,h)):(nl(o),u=a.child,a=u.sibling,u=Ha(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function u0(a,o){return o=og({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function og(a,o){return a=Hi(22,a,null,o),a.lanes=0,a}function d0(a,o,u){return Ec(o,a.child,null,u),a=u0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function UC(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),xv(a.return,o,u)}function h0(a,o,u,h,w,v){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:w,treeForkCount:v}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=w,I.treeForkCount=v)}function $C(a,o,u){var h=o.pendingProps,w=h.revealOrder,v=h.tail;h=h.children;var I=Fn.current,M=(I&2)!==0;if(M?(I=I&1|2,o.flags|=128):I&=1,ie(Fn,I),Mr(a,o,h,u),h=Pt?Lh:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&UC(a,u,o);else if(a.tag===19)UC(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(u=o.child,w=null;u!==null;)a=u.alternate,a!==null&&Ym(a)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),h0(o,!1,w,u,v,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(a=w.alternate,a!==null&&Ym(a)===null){o.child=w;break}a=w.sibling,w.sibling=u,u=w,w=a}h0(o,!0,u,null,v,h);break;case"together":h0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Xa(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),al|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Wu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ha(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ha(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function f0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&zm(a)))}function S9(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Jo(o,Xn,a.memoizedState.cache),gc();break;case 27:case 5:te(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Jo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Lv(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(nl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?PC(a,o,u):(nl(o),a=Xa(a,o,u),a!==null?a.sibling:null);nl(o);break;case 19:var w=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Wu(a,o,u,!1),h=(u&o.childLanes)!==0),w){if(h)return $C(a,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ie(Fn,Fn.current),h)break;return null;case 22:return o.lanes=0,IC(a,o,u,o.pendingProps);case 24:Jo(o,Xn,a.memoizedState.cache)}return Xa(a,o,u)}function MC(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Qn=!0;else{if(!f0(a,u)&&(o.flags&128)===0)return Qn=!1,S9(a,o,u);Qn=(a.flags&131072)!==0}else Qn=!1,Pt&&(o.flags&1048576)!==0&&mx(o,Lh,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=vc(o.elementType),o.type=a,typeof a=="function")wv(a)?(h=Ac(a,h),o.tag=1,o=DC(null,o,a,h,u)):(o.tag=0,o=a0(null,o,a,h,u));else{if(a!=null){var w=a.$$typeof;if(w===T){o.tag=11,o=TC(null,o,a,h,u);break e}else if(w===U){o.tag=14,o=xC(null,o,a,h,u);break e}}throw o=G(a)||a,Error(r(306,o,""))}}return o;case 0:return a0(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,w=Ac(h,o.pendingProps),DC(a,o,h,w,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var v=o.memoizedState;w=v.element,Nv(a,o),Vh(o,h,null,u);var I=o.memoizedState;if(h=I.cache,Jo(o,Xn,h),h!==v.cache&&Cv(o,[Xn],u,!0),Hh(),h=I.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=NC(a,o,h,u);break e}else if(h!==w){w=ms(Error(r(424)),o),Bh(w),o=NC(a,o,h,u);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,_n=vs(a.firstChild),Ur=o,Pt=!0,Zo=null,ws=!0,u=Ix(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(gc(),h===w){o=Xa(a,o,u);break e}Mr(a,o,h,u)}o=o.child}return o;case 26:return ag(a,o),a===null?(u=GI(o.type,null,o.pendingProps,null))?o.memoizedState=u:Pt||(u=o.type,a=o.pendingProps,h=Sg(Se.current).createElement(u),h[St]=o,h[Nt]=a,Lr(h,u,a),Ge(h),o.stateNode=h):o.memoizedState=GI(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return te(o),a===null&&Pt&&(h=o.stateNode=HI(o.type,o.pendingProps,Se.current),Ur=o,ws=!0,w=_n,dl(o.type)?(V0=w,_n=vs(h.firstChild)):_n=w),Mr(a,o,o.pendingProps.children,u),ag(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Pt&&((w=h=_n)&&(h=Q9(h,o.type,o.pendingProps,ws),h!==null?(o.stateNode=h,Ur=o,_n=vs(h.firstChild),ws=!1,w=!0):w=!1),w||Xo(o)),te(o),w=o.type,v=o.pendingProps,I=a!==null?a.memoizedProps:null,h=v.children,z0(w,v)?h=null:I!==null&&z0(w,I)&&(o.flags|=32),o.memoizedState!==null&&(w=jv(a,o,p9,null,null,u),ff._currentValue=w),ag(a,o),Mr(a,o,h,u),o.child;case 6:return a===null&&Pt&&((a=u=_n)&&(u=e7(u,o.pendingProps,ws),u!==null?(o.stateNode=u,Ur=o,_n=null,a=!0):a=!1),a||Xo(o)),null;case 13:return PC(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Ec(o,null,h,u):Mr(a,o,h,u),o.child;case 11:return TC(a,o,o.type,o.pendingProps,u);case 7:return Mr(a,o,o.pendingProps,u),o.child;case 8:return Mr(a,o,o.pendingProps.children,u),o.child;case 12:return Mr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Jo(o,o.type,h.value),Mr(a,o,h.children,u),o.child;case 9:return w=o.type._context,h=o.pendingProps.children,wc(o),w=$r(w),h=h(w),o.flags|=1,Mr(a,o,h,u),o.child;case 14:return xC(a,o,o.type,o.pendingProps,u);case 15:return CC(a,o,o.type,o.pendingProps,u);case 19:return $C(a,o,u);case 31:return E9(a,o,u);case 22:return IC(a,o,u,o.pendingProps);case 24:return wc(o),h=$r(Xn),a===null?(w=kv(),w===null&&(w=hn,v=Iv(),w.pooledCache=v,v.refCount++,v!==null&&(w.pooledCacheLanes|=u),w=v),o.memoizedState={parent:h,cache:w},Dv(o),Jo(o,Xn,w)):((a.lanes&u)!==0&&(Nv(a,o),Vh(o,null,null,u),Hh()),w=a.memoizedState,v=o.memoizedState,w.parent!==h?(w={parent:h,cache:h},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),Jo(o,Xn,h)):(h=v.cache,Jo(o,Xn,h),h!==w.cache&&Cv(o,[Xn],u,!0))),Mr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ja(a){a.flags|=4}function p0(a,o,u,h,w){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(uI())a.flags|=8192;else throw _c=Hm,Rv}else a.flags&=-16777217}function LC(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!QI(o))if(uI())a.flags|=8192;else throw _c=Hm,Rv}function lg(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Q():536870912,a.lanes|=o,nd|=o)}function Jh(a,o){if(!Pt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function En(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var w=a.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function A9(a,o,u){var h=o.pendingProps;switch(Ev(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(o),null;case 1:return En(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ga(Xn),xe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(qu(o)?Ja(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Av())),En(o),null;case 26:var w=o.type,v=o.memoizedState;return a===null?(Ja(o),v!==null?(En(o),LC(o,v)):(En(o),p0(o,w,null,h,u))):v?v!==a.memoizedState?(Ja(o),En(o),LC(o,v)):(En(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&Ja(o),En(o),p0(o,w,a,h,u)),null;case 27:if(Ve(o),u=Se.current,w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Ja(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return En(o),null}a=ee.current,qu(o)?yx(o):(a=HI(w,h,u),o.stateNode=a,Ja(o))}return En(o),null;case 5:if(Ve(o),w=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Ja(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return En(o),null}if(v=ee.current,qu(o))yx(o);else{var I=Sg(Se.current);switch(v){case 1:v=I.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:v=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":v=I.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":v=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":v=I.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?I.createElement(w,{is:h.is}):I.createElement(w)}}v[St]=o,v[Nt]=h;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)v.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=v;e:switch(Lr(v,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ja(o)}}return En(o),p0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Ja(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,qu(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,w=Ur,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}a[St]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||PI(a.nodeValue,u)),a||Xo(o,!0)}else a=Sg(a).createTextNode(h),a[St]=o,o.stateNode=a}return En(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=qu(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[St]=o}else gc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;En(o),a=!1}else u=Av(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Ki(o),o):(Ki(o),null);if((o.flags&128)!==0)throw Error(r(558))}return En(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=qu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[St]=o}else gc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;En(o),w=!1}else w=Av(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(Ki(o),o):(Ki(o),null)}return Ki(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==w&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),lg(o,o.updateQueue),En(o),null);case 4:return xe(),a===null&&$0(o.stateNode.containerInfo),En(o),null;case 10:return Ga(o.type),En(o),null;case 19:if(Z(Fn),h=o.memoizedState,h===null)return En(o),null;if(w=(o.flags&128)!==0,v=h.rendering,v===null)if(w)Jh(h,!1);else{if(Bn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(v=Ym(a),v!==null){for(o.flags|=128,Jh(h,!1),a=v.updateQueue,o.updateQueue=a,lg(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)hx(u,a),u=u.sibling;return ie(Fn,Fn.current&1|2),Pt&&Va(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&Qt()>fg&&(o.flags|=128,w=!0,Jh(h,!1),o.lanes=4194304)}else{if(!w)if(a=Ym(v),a!==null){if(o.flags|=128,w=!0,a=a.updateQueue,o.updateQueue=a,lg(o,a),Jh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Pt)return En(o),null}else 2*Qt()-h.renderingStartTime>fg&&u!==536870912&&(o.flags|=128,w=!0,Jh(h,!1),o.lanes=4194304);h.isBackwards?(v.sibling=o.child,o.child=v):(a=h.last,a!==null?a.sibling=v:o.child=v,h.last=v)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Qt(),a.sibling=null,u=Fn.current,ie(Fn,w?u&1|2:u&1),Pt&&Va(o,h.treeForkCount),a):(En(o),null);case 22:case 23:return Ki(o),Mv(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(En(o),o.subtreeFlags&6&&(o.flags|=8192)):En(o),u=o.updateQueue,u!==null&&lg(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&Z(bc),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ga(Xn),En(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function T9(a,o){switch(Ev(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ga(Xn),xe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 31:if(o.memoizedState!==null){if(Ki(o),o.alternate===null)throw Error(r(340));gc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Ki(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));gc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Z(Fn),null;case 4:return xe(),null;case 10:return Ga(o.type),null;case 22:case 23:return Ki(o),Mv(),a!==null&&Z(bc),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ga(Xn),null;case 25:return null;default:return null}}function BC(a,o){switch(Ev(o),o.tag){case 3:Ga(Xn),xe();break;case 26:case 27:case 5:Ve(o);break;case 4:xe();break;case 31:o.memoizedState!==null&&Ki(o);break;case 13:Ki(o);break;case 19:Z(Fn);break;case 10:Ga(o.type);break;case 22:case 23:Ki(o),Mv(),a!==null&&Z(bc);break;case 24:Ga(Xn)}}function Qh(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var w=h.next;u=w;do{if((u.tag&a)===a){h=void 0;var v=u.create,I=u.inst;h=v(),I.destroy=h}u=u.next}while(u!==w)}}catch(M){nn(o,o.return,M)}}function il(a,o,u){try{var h=o.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var v=w.next;h=v;do{if((h.tag&a)===a){var I=h.inst,M=I.destroy;if(M!==void 0){I.destroy=void 0,w=o;var X=u,fe=M;try{fe()}catch(we){nn(w,X,we)}}}h=h.next}while(h!==v)}}catch(we){nn(o,o.return,we)}}function jC(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{kx(o,u)}catch(h){nn(a,a.return,h)}}}function zC(a,o,u){u.props=Ac(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){nn(a,o,h)}}function ef(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(w){nn(a,o,w)}}function fa(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(w){nn(a,o,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){nn(a,o,w)}else u.current=null}function FC(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(w){nn(a,a.return,w)}}function m0(a,o,u){try{var h=a.stateNode;K9(h,a.type,u,o),h[Nt]=o}catch(w){nn(a,a.return,w)}}function qC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&dl(a.type)||a.tag===4}function g0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||qC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&dl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function y0(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Fs));else if(h!==4&&(h===27&&dl(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(y0(a,o,u),a=a.sibling;a!==null;)y0(a,o,u),a=a.sibling}function cg(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&dl(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(cg(a,o,u),a=a.sibling;a!==null;)cg(a,o,u),a=a.sibling}function WC(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);Lr(o,h,u),o[St]=a,o[Nt]=u}catch(v){nn(a,a.return,v)}}var Qa=!1,er=!1,w0=!1,HC=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function x9(a,o){if(a=a.containerInfo,B0=kg,a=rx(a),dv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var w=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,M=-1,X=-1,fe=0,we=0,ve=a,me=null;t:for(;;){for(var ge;ve!==u||w!==0&&ve.nodeType!==3||(M=I+w),ve!==v||h!==0&&ve.nodeType!==3||(X=I+h),ve.nodeType===3&&(I+=ve.nodeValue.length),(ge=ve.firstChild)!==null;)me=ve,ve=ge;for(;;){if(ve===a)break t;if(me===u&&++fe===w&&(M=I),me===v&&++we===h&&(X=I),(ge=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=ge}u=M===-1||X===-1?null:{start:M,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(j0={focusedElem:a,selectionRange:u},kg=!1,Ar=o;Ar!==null;)if(o=Ar,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ar=a;else for(;Ar!==null;){switch(o=Ar,v=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)w=a[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=o,w=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var Ke=Ac(u.type,w);a=h.getSnapshotBeforeUpdate(Ke,v),h.__reactInternalSnapshotBeforeUpdate=a}catch(ot){nn(u,u.return,ot)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)q0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":q0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Ar=a;break}Ar=o.return}}function VC(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:to(a,u),h&4&&Qh(5,u);break;case 1:if(to(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){nn(u,u.return,I)}else{var w=Ac(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(w,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){nn(u,u.return,I)}}h&64&&jC(u),h&512&&ef(u,u.return);break;case 3:if(to(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{kx(a,o)}catch(I){nn(u,u.return,I)}}break;case 27:o===null&&h&4&&WC(u);case 26:case 5:to(a,u),o===null&&h&4&&FC(u),h&512&&ef(u,u.return);break;case 12:to(a,u);break;case 31:to(a,u),h&4&&YC(a,u);break;case 13:to(a,u),h&4&&ZC(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=U9.bind(null,u),t7(a,u))));break;case 22:if(h=u.memoizedState!==null||Qa,!h){o=o!==null&&o.memoizedState!==null||er,w=Qa;var v=er;Qa=h,(er=o)&&!v?no(a,u,(u.subtreeFlags&8772)!==0):to(a,u),Qa=w,er=v}break;case 30:break;default:to(a,u)}}function KC(a){var o=a.alternate;o!==null&&(a.alternate=null,KC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&qa(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Rn=null,_i=!1;function eo(a,o,u){for(u=u.child;u!==null;)GC(a,o,u),u=u.sibling}function GC(a,o,u){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(qe,u)}catch{}switch(u.tag){case 26:er||fa(u,o),eo(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:er||fa(u,o);var h=Rn,w=_i;dl(u.type)&&(Rn=u.stateNode,_i=!1),eo(a,o,u),uf(u.stateNode),Rn=h,_i=w;break;case 5:er||fa(u,o);case 6:if(h=Rn,w=_i,Rn=null,eo(a,o,u),Rn=h,_i=w,Rn!==null)if(_i)try{(Rn.nodeType===9?Rn.body:Rn.nodeName==="HTML"?Rn.ownerDocument.body:Rn).removeChild(u.stateNode)}catch(v){nn(u,o,v)}else try{Rn.removeChild(u.stateNode)}catch(v){nn(u,o,v)}break;case 18:Rn!==null&&(_i?(a=Rn,jI(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ud(a)):jI(Rn,u.stateNode));break;case 4:h=Rn,w=_i,Rn=u.stateNode.containerInfo,_i=!0,eo(a,o,u),Rn=h,_i=w;break;case 0:case 11:case 14:case 15:il(2,u,o),er||il(4,u,o),eo(a,o,u);break;case 1:er||(fa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&zC(u,o,h)),eo(a,o,u);break;case 21:eo(a,o,u);break;case 22:er=(h=er)||u.memoizedState!==null,eo(a,o,u),er=h;break;default:eo(a,o,u)}}function YC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ud(a)}catch(u){nn(o,o.return,u)}}}function ZC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ud(a)}catch(u){nn(o,o.return,u)}}function C9(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new HC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new HC),o;default:throw Error(r(435,a.tag))}}function ug(a,o){var u=C9(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var w=$9.bind(null,a,h);h.then(w,w)}})}function Ei(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var w=u[h],v=a,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 27:if(dl(M.type)){Rn=M.stateNode,_i=!1;break e}break;case 5:Rn=M.stateNode,_i=!1;break e;case 3:case 4:Rn=M.stateNode.containerInfo,_i=!0;break e}M=M.return}if(Rn===null)throw Error(r(160));GC(v,I,w),Rn=null,_i=!1,v=w.alternate,v!==null&&(v.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)XC(o,a),o=o.sibling}var Ws=null;function XC(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ei(o,a),Si(a),h&4&&(il(3,a,a.return),Qh(3,a),il(5,a,a.return));break;case 1:Ei(o,a),Si(a),h&512&&(er||u===null||fa(u,u.return)),h&64&&Qa&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var w=Ws;if(Ei(o,a),Si(a),h&512&&(er||u===null||fa(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":v=w.getElementsByTagName("title")[0],(!v||v[kn]||v[St]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=w.createElement(h),w.head.insertBefore(v,w.querySelector("head > title"))),Lr(v,h,u),v[St]=a,Ge(v),h=v;break e;case"link":var I=XI("link","href",w).get(h+(u.href||""));if(I){for(var M=0;M<I.length;M++)if(v=I[M],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(M,1);break t}}v=w.createElement(h),Lr(v,h,u),w.head.appendChild(v);break;case"meta":if(I=XI("meta","content",w).get(h+(u.content||""))){for(M=0;M<I.length;M++)if(v=I[M],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(M,1);break t}}v=w.createElement(h),Lr(v,h,u),w.head.appendChild(v);break;default:throw Error(r(468,h))}v[St]=a,Ge(v),h=v}a.stateNode=h}else JI(w,a.type,a.stateNode);else a.stateNode=ZI(w,h,a.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?JI(w,a.type,a.stateNode):ZI(w,h,a.memoizedProps)):h===null&&a.stateNode!==null&&m0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ei(o,a),Si(a),h&512&&(er||u===null||fa(u,u.return)),u!==null&&h&4&&m0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ei(o,a),Si(a),h&512&&(er||u===null||fa(u,u.return)),a.flags&32){w=a.stateNode;try{Ho(w,"")}catch(Ke){nn(a,a.return,Ke)}}h&4&&a.stateNode!=null&&(w=a.memoizedProps,m0(a,w,u!==null?u.memoizedProps:w)),h&1024&&(w0=!0);break;case 6:if(Ei(o,a),Si(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Ke){nn(a,a.return,Ke)}}break;case 3:if(xg=null,w=Ws,Ws=Ag(o.containerInfo),Ei(o,a),Ws=w,Si(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ud(o.containerInfo)}catch(Ke){nn(a,a.return,Ke)}w0&&(w0=!1,JC(a));break;case 4:h=Ws,Ws=Ag(a.stateNode.containerInfo),Ei(o,a),Si(a),Ws=h;break;case 12:Ei(o,a),Si(a);break;case 31:Ei(o,a),Si(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ug(a,h)));break;case 13:Ei(o,a),Si(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(hg=Qt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ug(a,h)));break;case 22:w=a.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,fe=Qa,we=er;if(Qa=fe||w,er=we||X,Ei(o,a),er=we,Qa=fe,Si(a),h&8192)e:for(o=a.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(u===null||X||Qa||er||Tc(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){X=u=o;try{if(v=X.stateNode,w)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{M=X.stateNode;var ve=X.memoizedProps.style,me=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;M.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Ke){nn(X,X.return,Ke)}}}else if(o.tag===6){if(u===null){X=o;try{X.stateNode.nodeValue=w?"":X.memoizedProps}catch(Ke){nn(X,X.return,Ke)}}}else if(o.tag===18){if(u===null){X=o;try{var ge=X.stateNode;w?zI(ge,!0):zI(X.stateNode,!1)}catch(Ke){nn(X,X.return,Ke)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,ug(a,u))));break;case 19:Ei(o,a),Si(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ug(a,h)));break;case 30:break;case 21:break;default:Ei(o,a),Si(a)}}function Si(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(qC(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var w=u.stateNode,v=g0(a);cg(a,v,w);break;case 5:var I=u.stateNode;u.flags&32&&(Ho(I,""),u.flags&=-33);var M=g0(a);cg(a,M,I);break;case 3:case 4:var X=u.stateNode.containerInfo,fe=g0(a);y0(a,fe,X);break;default:throw Error(r(161))}}catch(we){nn(a,a.return,we)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function JC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;JC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function to(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)VC(a,o.alternate,o),o=o.sibling}function Tc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:il(4,o,o.return),Tc(o);break;case 1:fa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&zC(o,o.return,u),Tc(o);break;case 27:uf(o.stateNode);case 26:case 5:fa(o,o.return),Tc(o);break;case 22:o.memoizedState===null&&Tc(o);break;case 30:Tc(o);break;default:Tc(o)}a=a.sibling}}function no(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,w=a,v=o,I=v.flags;switch(v.tag){case 0:case 11:case 15:no(w,v,u),Qh(4,v);break;case 1:if(no(w,v,u),h=v,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(fe){nn(h,h.return,fe)}if(h=v,w=h.updateQueue,w!==null){var M=h.stateNode;try{var X=w.shared.hiddenCallbacks;if(X!==null)for(w.shared.hiddenCallbacks=null,w=0;w<X.length;w++)Ox(X[w],M)}catch(fe){nn(h,h.return,fe)}}u&&I&64&&jC(v),ef(v,v.return);break;case 27:WC(v);case 26:case 5:no(w,v,u),u&&h===null&&I&4&&FC(v),ef(v,v.return);break;case 12:no(w,v,u);break;case 31:no(w,v,u),u&&I&4&&YC(w,v);break;case 13:no(w,v,u),u&&I&4&&ZC(w,v);break;case 22:v.memoizedState===null&&no(w,v,u),ef(v,v.return);break;case 30:break;default:no(w,v,u)}o=o.sibling}}function b0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&jh(u))}function v0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&jh(a))}function Hs(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)QC(a,o,u,h),o=o.sibling}function QC(a,o,u,h){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(a,o,u,h),w&2048&&Qh(9,o);break;case 1:Hs(a,o,u,h);break;case 3:Hs(a,o,u,h),w&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&jh(a)));break;case 12:if(w&2048){Hs(a,o,u,h),a=o.stateNode;try{var v=o.memoizedProps,I=v.id,M=v.onPostCommit;typeof M=="function"&&M(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){nn(o,o.return,X)}}else Hs(a,o,u,h);break;case 31:Hs(a,o,u,h);break;case 13:Hs(a,o,u,h);break;case 23:break;case 22:v=o.stateNode,I=o.alternate,o.memoizedState!==null?v._visibility&2?Hs(a,o,u,h):tf(a,o):v._visibility&2?Hs(a,o,u,h):(v._visibility|=2,Qu(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),w&2048&&b0(I,o);break;case 24:Hs(a,o,u,h),w&2048&&v0(o.alternate,o);break;default:Hs(a,o,u,h)}}function Qu(a,o,u,h,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=a,I=o,M=u,X=h,fe=I.flags;switch(I.tag){case 0:case 11:case 15:Qu(v,I,M,X,w),Qh(8,I);break;case 23:break;case 22:var we=I.stateNode;I.memoizedState!==null?we._visibility&2?Qu(v,I,M,X,w):tf(v,I):(we._visibility|=2,Qu(v,I,M,X,w)),w&&fe&2048&&b0(I.alternate,I);break;case 24:Qu(v,I,M,X,w),w&&fe&2048&&v0(I.alternate,I);break;default:Qu(v,I,M,X,w)}o=o.sibling}}function tf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,w=h.flags;switch(h.tag){case 22:tf(u,h),w&2048&&b0(h.alternate,h);break;case 24:tf(u,h),w&2048&&v0(h.alternate,h);break;default:tf(u,h)}o=o.sibling}}var nf=8192;function ed(a,o,u){if(a.subtreeFlags&nf)for(a=a.child;a!==null;)eI(a,o,u),a=a.sibling}function eI(a,o,u){switch(a.tag){case 26:ed(a,o,u),a.flags&nf&&a.memoizedState!==null&&f7(u,Ws,a.memoizedState,a.memoizedProps);break;case 5:ed(a,o,u);break;case 3:case 4:var h=Ws;Ws=Ag(a.stateNode.containerInfo),ed(a,o,u),Ws=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=nf,nf=16777216,ed(a,o,u),nf=h):ed(a,o,u));break;default:ed(a,o,u)}}function tI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function rf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ar=h,rI(h,a)}tI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nI(a),a=a.sibling}function nI(a){switch(a.tag){case 0:case 11:case 15:rf(a),a.flags&2048&&il(9,a,a.return);break;case 3:rf(a);break;case 12:rf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,dg(a)):rf(a);break;default:rf(a)}}function dg(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Ar=h,rI(h,a)}tI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:il(8,o,o.return),dg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,dg(o));break;default:dg(o)}a=a.sibling}}function rI(a,o){for(;Ar!==null;){var u=Ar;switch(u.tag){case 0:case 11:case 15:il(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:jh(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ar=h;else e:for(u=a;Ar!==null;){h=Ar;var w=h.sibling,v=h.return;if(KC(h),h===u){Ar=null;break e}if(w!==null){w.return=v,Ar=w;break e}Ar=v}}}var I9={getCacheForType:function(a){var o=$r(Xn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return $r(Xn).controller.signal}},O9=typeof WeakMap=="function"?WeakMap:Map,Zt=0,hn=null,It=null,kt=0,tn=0,Gi=null,sl=!1,td=!1,_0=!1,ro=0,Bn=0,al=0,xc=0,E0=0,Yi=0,nd=0,sf=null,Ai=null,S0=!1,hg=0,iI=0,fg=1/0,pg=null,ol=null,fr=0,ll=null,rd=null,io=0,A0=0,T0=null,sI=null,af=0,x0=null;function Zi(){return(Zt&2)!==0&&kt!==0?kt&-kt:S.T!==null?D0():sn()}function aI(){if(Yi===0)if((kt&536870912)===0||Pt){var a=us;us<<=1,(us&3932160)===0&&(us=262144),Yi=a}else Yi=536870912;return a=Vi.current,a!==null&&(a.flags|=32),Yi}function Ti(a,o,u){(a===hn&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(id(a,0),cl(a,kt,Yi,!1)),de(a,u),((Zt&2)===0||a!==hn)&&(a===hn&&((Zt&2)===0&&(xc|=u),Bn===4&&cl(a,kt,Yi,!1)),pa(a))}function oI(a,o,u){if((Zt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||j(a,o),w=h?D9(a,o):I0(a,o,!0),v=h;do{if(w===0){td&&!h&&cl(a,o,0,!1);break}else{if(u=a.current.alternate,v&&!k9(u)){w=I0(a,o,!1),v=!1;continue}if(w===2){if(v=o,a.errorRecoveryDisabledLanes&v)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var M=a;w=sf;var X=M.current.memoizedState.isDehydrated;if(X&&(id(M,I).flags|=256),I=I0(M,I,!1),I!==2){if(_0&&!X){M.errorRecoveryDisabledLanes|=v,xc|=v,w=4;break e}v=Ai,Ai=w,v!==null&&(Ai===null?Ai=v:Ai.push.apply(Ai,v))}w=I}if(v=!1,w!==2)continue}}if(w===1){id(a,0),cl(a,o,0,!0);break}e:{switch(h=a,v=w,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:cl(h,o,Yi,!sl);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=hg+300-Qt(),10<w)){if(cl(h,o,Yi,!sl),N(h,0,!0)!==0)break e;io=o,h.timeoutHandle=LI(lI.bind(null,h,u,Ai,pg,S0,o,Yi,xc,nd,sl,v,"Throttled",-0,0),w);break e}lI(h,u,Ai,pg,S0,o,Yi,xc,nd,sl,v,null,-0,0)}}break}while(!0);pa(a)}function lI(a,o,u,h,w,v,I,M,X,fe,we,ve,me,ge){if(a.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fs},eI(o,v,ve);var Ke=(v&62914560)===v?hg-Qt():(v&4194048)===v?iI-Qt():0;if(Ke=p7(ve,Ke),Ke!==null){io=v,a.cancelPendingCommit=Ke(gI.bind(null,a,o,v,u,h,w,I,M,X,we,ve,null,me,ge)),cl(a,v,I,!fe);return}}gI(a,o,v,u,h,w,I,M,X)}function k9(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var w=u[h],v=w.getSnapshot;w=w.value;try{if(!Wi(v(),w))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function cl(a,o,u,h){o&=~E0,o&=~xc,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var w=o;0<w;){var v=31-Bt(w),I=1<<v;h[v]=-1,w&=~I}u!==0&&Re(a,u,o)}function mg(){return(Zt&6)===0?(of(0),!1):!0}function C0(){if(It!==null){if(tn===0)var a=It.return;else a=It,Ka=yc=null,qv(a),Gu=null,Fh=0,a=It;for(;a!==null;)BC(a.alternate,a),a=a.return;It=null}}function id(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Z9(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),io=0,C0(),hn=a,It=u=Ha(a.current,null),kt=o,tn=0,Gi=null,sl=!1,td=j(a,o),_0=!1,nd=Yi=E0=xc=al=Bn=0,Ai=sf=null,S0=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var w=31-Bt(h),v=1<<w;o|=a[w],h&=~v}return ro=o,$m(),u}function cI(a,o){wt=null,S.H=Zh,o===Ku||o===Wm?(o=Tx(),tn=3):o===Rv?(o=Tx(),tn=4):tn=o===s0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gi=o,It===null&&(Bn=1,ig(a,ms(o,a.current)))}function uI(){var a=Vi.current;return a===null?!0:(kt&4194048)===kt?bs===null:(kt&62914560)===kt||(kt&536870912)!==0?a===bs:!1}function dI(){var a=S.H;return S.H=Zh,a===null?Zh:a}function hI(){var a=S.A;return S.A=I9,a}function gg(){Bn=4,sl||(kt&4194048)!==kt&&Vi.current!==null||(td=!0),(al&134217727)===0&&(xc&134217727)===0||hn===null||cl(hn,kt,Yi,!1)}function I0(a,o,u){var h=Zt;Zt|=2;var w=dI(),v=hI();(hn!==a||kt!==o)&&(pg=null,id(a,o)),o=!1;var I=Bn;e:do try{if(tn!==0&&It!==null){var M=It,X=Gi;switch(tn){case 8:C0(),I=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(o=!0);var fe=tn;if(tn=0,Gi=null,sd(a,M,X,fe),u&&td){I=0;break e}break;default:fe=tn,tn=0,Gi=null,sd(a,M,X,fe)}}R9(),I=Bn;break}catch(we){cI(a,we)}while(!0);return o&&a.shellSuspendCounter++,Ka=yc=null,Zt=h,S.H=w,S.A=v,It===null&&(hn=null,kt=0,$m()),I}function R9(){for(;It!==null;)fI(It)}function D9(a,o){var u=Zt;Zt|=2;var h=dI(),w=hI();hn!==a||kt!==o?(pg=null,fg=Qt()+500,id(a,o)):td=j(a,o);e:do try{if(tn!==0&&It!==null){o=It;var v=Gi;t:switch(tn){case 1:tn=0,Gi=null,sd(a,o,v,1);break;case 2:case 9:if(Sx(v)){tn=0,Gi=null,pI(o);break}o=function(){tn!==2&&tn!==9||hn!==a||(tn=7),pa(a)},v.then(o,o);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Sx(v)?(tn=0,Gi=null,pI(o)):(tn=0,Gi=null,sd(a,o,v,7));break;case 5:var I=null;switch(It.tag){case 26:I=It.memoizedState;case 5:case 27:var M=It;if(I?QI(I):M.stateNode.complete){tn=0,Gi=null;var X=M.sibling;if(X!==null)It=X;else{var fe=M.return;fe!==null?(It=fe,yg(fe)):It=null}break t}}tn=0,Gi=null,sd(a,o,v,5);break;case 6:tn=0,Gi=null,sd(a,o,v,6);break;case 8:C0(),Bn=6;break e;default:throw Error(r(462))}}N9();break}catch(we){cI(a,we)}while(!0);return Ka=yc=null,S.H=h,S.A=w,Zt=u,It!==null?0:(hn=null,kt=0,$m(),Bn)}function N9(){for(;It!==null&&!oi();)fI(It)}function fI(a){var o=MC(a.alternate,a,ro);a.memoizedProps=a.pendingProps,o===null?yg(a):It=o}function pI(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=RC(u,o,o.pendingProps,o.type,void 0,kt);break;case 11:o=RC(u,o,o.pendingProps,o.type.render,o.ref,kt);break;case 5:qv(o);default:BC(u,o),o=It=hx(o,ro),o=MC(u,o,ro)}a.memoizedProps=a.pendingProps,o===null?yg(a):It=o}function sd(a,o,u,h){Ka=yc=null,qv(o),Gu=null,Fh=0;var w=o.return;try{if(_9(a,w,o,u,kt)){Bn=1,ig(a,ms(u,a.current)),It=null;return}}catch(v){if(w!==null)throw It=w,v;Bn=1,ig(a,ms(u,a.current)),It=null;return}o.flags&32768?(Pt||h===1?a=!0:td||(kt&536870912)!==0?a=!1:(sl=a=!0,(h===2||h===9||h===3||h===6)&&(h=Vi.current,h!==null&&h.tag===13&&(h.flags|=16384))),mI(o,a)):yg(o)}function yg(a){var o=a;do{if((o.flags&32768)!==0){mI(o,sl);return}a=o.return;var u=A9(o.alternate,o,ro);if(u!==null){It=u;return}if(o=o.sibling,o!==null){It=o;return}It=o=a}while(o!==null);Bn===0&&(Bn=5)}function mI(a,o){do{var u=T9(a.alternate,a);if(u!==null){u.flags&=32767,It=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){It=a;return}It=a=u}while(a!==null);Bn=6,It=null}function gI(a,o,u,h,w,v,I,M,X){a.cancelPendingCommit=null;do wg();while(fr!==0);if((Zt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=gv,_e(a,u,v,I,M,X),a===hn&&(It=hn=null,kt=0),rd=o,ll=a,io=u,A0=v,T0=w,sI=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,M9(Un,function(){return _I(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=S.T,S.T=null,w=P.p,P.p=2,I=Zt,Zt|=4;try{x9(a,o,u)}finally{Zt=I,P.p=w,S.T=h}}fr=1,yI(),wI(),bI()}}function yI(){if(fr===1){fr=0;var a=ll,o=rd,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=S.T,S.T=null;var h=P.p;P.p=2;var w=Zt;Zt|=4;try{XC(o,a);var v=j0,I=rx(a.containerInfo),M=v.focusedElem,X=v.selectionRange;if(I!==M&&M&&M.ownerDocument&&nx(M.ownerDocument.documentElement,M)){if(X!==null&&dv(M)){var fe=X.start,we=X.end;if(we===void 0&&(we=fe),"selectionStart"in M)M.selectionStart=fe,M.selectionEnd=Math.min(we,M.value.length);else{var ve=M.ownerDocument||document,me=ve&&ve.defaultView||window;if(me.getSelection){var ge=me.getSelection(),Ke=M.textContent.length,ot=Math.min(X.start,Ke),ln=X.end===void 0?ot:Math.min(X.end,Ke);!ge.extend&&ot>ln&&(I=ln,ln=ot,ot=I);var ce=tx(M,ot),re=tx(M,ln);if(ce&&re&&(ge.rangeCount!==1||ge.anchorNode!==ce.node||ge.anchorOffset!==ce.offset||ge.focusNode!==re.node||ge.focusOffset!==re.offset)){var he=ve.createRange();he.setStart(ce.node,ce.offset),ge.removeAllRanges(),ot>ln?(ge.addRange(he),ge.extend(re.node,re.offset)):(he.setEnd(re.node,re.offset),ge.addRange(he))}}}}for(ve=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&ve.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ve.length;M++){var be=ve[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}kg=!!B0,j0=B0=null}finally{Zt=w,P.p=h,S.T=u}}a.current=o,fr=2}}function wI(){if(fr===2){fr=0;var a=ll,o=rd,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=S.T,S.T=null;var h=P.p;P.p=2;var w=Zt;Zt|=4;try{VC(a,o.alternate,o)}finally{Zt=w,P.p=h,S.T=u}}fr=3}}function bI(){if(fr===4||fr===3){fr=0,Zn();var a=ll,o=rd,u=io,h=sI;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?fr=5:(fr=0,rd=ll=null,vI(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(ol=null),Mt(u),o=o.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(qe,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=S.T,w=P.p,P.p=2,S.T=null;try{for(var v=a.onRecoverableError,I=0;I<h.length;I++){var M=h[I];v(M.value,{componentStack:M.stack})}}finally{S.T=o,P.p=w}}(io&3)!==0&&wg(),pa(a),w=a.pendingLanes,(u&261930)!==0&&(w&42)!==0?a===x0?af++:(af=0,x0=a):af=0,of(0)}}function vI(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,jh(o)))}function wg(){return yI(),wI(),bI(),_I()}function _I(){if(fr!==5)return!1;var a=ll,o=A0;A0=0;var u=Mt(io),h=S.T,w=P.p;try{P.p=32>u?32:u,S.T=null,u=T0,T0=null;var v=ll,I=io;if(fr=0,rd=ll=null,io=0,(Zt&6)!==0)throw Error(r(331));var M=Zt;if(Zt|=4,nI(v.current),QC(v,v.current,I,u),Zt=M,of(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(qe,v)}catch{}return!0}finally{P.p=w,S.T=h,vI(a,o)}}function EI(a,o,u){o=ms(u,o),o=i0(a.stateNode,o,2),a=tl(a,o,2),a!==null&&(de(a,2),pa(a))}function nn(a,o,u){if(a.tag===3)EI(a,a,u);else for(;o!==null;){if(o.tag===3){EI(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ol===null||!ol.has(h))){a=ms(u,a),u=SC(2),h=tl(o,u,2),h!==null&&(AC(u,h,o,a),de(h,2),pa(h));break}}o=o.return}}function O0(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new O9;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(u)||(_0=!0,w.add(u),a=P9.bind(null,a,o,u),o.then(a,a))}function P9(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,hn===a&&(kt&u)===u&&(Bn===4||Bn===3&&(kt&62914560)===kt&&300>Qt()-hg?(Zt&2)===0&&id(a,0):E0|=u,nd===kt&&(nd=0)),pa(a)}function SI(a,o){o===0&&(o=Q()),a=pc(a,o),a!==null&&(de(a,o),pa(a))}function U9(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),SI(a,u)}function $9(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,w=a.memoizedState;w!==null&&(u=w.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),SI(a,u)}function M9(a,o){return Dr(a,o)}var bg=null,ad=null,k0=!1,vg=!1,R0=!1,ul=0;function pa(a){a!==ad&&a.next===null&&(ad===null?bg=ad=a:ad=ad.next=a),vg=!0,k0||(k0=!0,B9())}function of(a,o){if(!R0&&vg){R0=!0;do for(var u=!1,h=bg;h!==null;){if(a!==0){var w=h.pendingLanes;if(w===0)var v=0;else{var I=h.suspendedLanes,M=h.pingedLanes;v=(1<<31-Bt(42|a)+1)-1,v&=w&~(I&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,CI(h,v))}else v=kt,v=N(h,h===hn?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||j(h,v)||(u=!0,CI(h,v));h=h.next}while(u);R0=!1}}function L9(){AI()}function AI(){vg=k0=!1;var a=0;ul!==0&&Y9()&&(a=ul);for(var o=Qt(),u=null,h=bg;h!==null;){var w=h.next,v=TI(h,o);v===0?(h.next=null,u===null?bg=w:u.next=w,w===null&&(ad=u)):(u=h,(a!==0||(v&3)!==0)&&(vg=!0)),h=w}fr!==0&&fr!==5||of(a),ul!==0&&(ul=0)}function TI(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,w=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var I=31-Bt(v),M=1<<I,X=w[I];X===-1?((M&u)===0||(M&h)!==0)&&(w[I]=ne(M,o)):X<=o&&(a.expiredLanes|=M),v&=~M}if(o=hn,u=kt,u=N(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&yi(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||j(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&yi(h),Mt(u)){case 2:case 8:u=Gt;break;case 32:u=Un;break;case 268435456:u=Nr;break;default:u=Un}return h=xI.bind(null,a),u=Dr(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&yi(h),a.callbackPriority=2,a.callbackNode=null,2}function xI(a,o){if(fr!==0&&fr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(wg()&&a.callbackNode!==u)return null;var h=kt;return h=N(a,a===hn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(oI(a,h,o),TI(a,Qt()),a.callbackNode!=null&&a.callbackNode===u?xI.bind(null,a):null)}function CI(a,o){if(wg())return null;oI(a,o,!0)}function B9(){X9(function(){(Zt&6)!==0?Dr(zi,L9):AI()})}function D0(){if(ul===0){var a=Hu;a===0&&(a=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),ul=a}return ul}function II(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Du(""+a)}function OI(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function j9(a,o,u,h,w){if(o==="submit"&&u&&u.stateNode===w){var v=II((w[Nt]||null).action),I=h.submitter;I&&(o=(o=I[Nt]||null)?II(o.formAction):I.getAttribute("formAction"),o!==null&&(v=o,I=null));var M=new Nu("action","action",null,h,w);a.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ul!==0){var X=I?OI(w,I):new FormData(w);Jv(u,{pending:!0,data:X,method:w.method,action:v},null,X)}}else typeof v=="function"&&(M.preventDefault(),X=I?OI(w,I):new FormData(w),Jv(u,{pending:!0,data:X,method:w.method,action:v},v,X))},currentTarget:w}]})}}for(var N0=0;N0<mv.length;N0++){var P0=mv[N0],z9=P0.toLowerCase(),F9=P0[0].toUpperCase()+P0.slice(1);qs(z9,"on"+F9)}qs(ax,"onAnimationEnd"),qs(ox,"onAnimationIteration"),qs(lx,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(i9,"onTransitionRun"),qs(s9,"onTransitionStart"),qs(a9,"onTransitionCancel"),qs(cx,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function kI(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],w=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var I=h.length-1;0<=I;I--){var M=h[I],X=M.instance,fe=M.currentTarget;if(M=M.listener,X!==v&&w.isPropagationStopped())break e;v=M,w.currentTarget=fe;try{v(w)}catch(we){Um(we)}w.currentTarget=null,v=X}else for(I=0;I<h.length;I++){if(M=h[I],X=M.instance,fe=M.currentTarget,M=M.listener,X!==v&&w.isPropagationStopped())break e;v=M,w.currentTarget=fe;try{v(w)}catch(we){Um(we)}w.currentTarget=null,v=X}}}}function Ot(a,o){var u=o[Sr];u===void 0&&(u=o[Sr]=new Set);var h=a+"__bubble";u.has(h)||(RI(o,a,2,!1),u.add(h))}function U0(a,o,u){var h=0;o&&(h|=4),RI(u,a,h,o)}var _g="_reactListening"+Math.random().toString(36).slice(2);function $0(a){if(!a[_g]){a[_g]=!0,$n.forEach(function(u){u!=="selectionchange"&&(q9.has(u)||U0(u,!1,a),U0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[_g]||(o[_g]=!0,U0("selectionchange",!1,o))}}function RI(a,o,u,h){switch(aO(o)){case 2:var w=y7;break;case 8:w=w7;break;default:w=X0}u=w.bind(null,o,u,a),w=void 0,!Rh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?a.addEventListener(o,u,{capture:!0,passive:w}):a.addEventListener(o,u,!0):w!==void 0?a.addEventListener(o,u,{passive:w}):a.addEventListener(o,u,!1)}function M0(a,o,u,h,w){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var M=h.stateNode.containerInfo;if(M===w)break;if(I===4)for(I=h.return;I!==null;){var X=I.tag;if((X===3||X===4)&&I.stateNode.containerInfo===w)return;I=I.return}for(;M!==null;){if(I=qi(M),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){h=v=I;continue e}M=M.parentNode}}h=h.return}Rm(function(){var fe=v,we=Oh(u),ve=[];e:{var me=ux.get(a);if(me!==void 0){var ge=Nu,Ke=a;switch(a){case"keypress":if(yt(u)===0)break e;case"keydown":case"keyup":ge=$B;break;case"focusin":Ke="focus",ge=av;break;case"focusout":Ke="blur",ge=av;break;case"beforeblur":case"afterblur":ge=av;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=BT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=AB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=BB;break;case ax:case ox:case lx:ge=CB;break;case cx:ge=zB;break;case"scroll":case"scrollend":ge=Dm;break;case"wheel":ge=qB;break;case"copy":case"cut":case"paste":ge=OB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=zT;break;case"toggle":case"beforetoggle":ge=HB}var ot=(o&4)!==0,ln=!ot&&(a==="scroll"||a==="scrollend"),ce=ot?me!==null?me+"Capture":null:me;ot=[];for(var re=fe,he;re!==null;){var be=re;if(he=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||he===null||ce===null||(be=dc(re,ce),be!=null&&ot.push(cf(re,be,he))),ln)break;re=re.return}0<ot.length&&(me=new ge(me,Ke,null,u,we),ve.push({event:me,listeners:ot}))}}if((o&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",me&&u!==Ih&&(Ke=u.relatedTarget||u.fromElement)&&(qi(Ke)||Ke[ur]))break e;if((ge||me)&&(me=we.window===we?we:(me=we.ownerDocument)?me.defaultView||me.parentWindow:window,ge?(Ke=u.relatedTarget||u.toElement,ge=fe,Ke=Ke?qi(Ke):null,Ke!==null&&(ln=s(Ke),ot=Ke.tag,Ke!==ln||ot!==5&&ot!==27&&ot!==6)&&(Ke=null)):(ge=null,Ke=fe),ge!==Ke)){if(ot=BT,be="onMouseLeave",ce="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(ot=zT,be="onPointerLeave",ce="onPointerEnter",re="pointer"),ln=ge==null?me:vt(ge),he=Ke==null?me:vt(Ke),me=new ot(be,re+"leave",ge,u,we),me.target=ln,me.relatedTarget=he,be=null,qi(we)===fe&&(ot=new ot(ce,re+"enter",Ke,u,we),ot.target=he,ot.relatedTarget=ln,be=ot),ln=be,ge&&Ke)t:{for(ot=W9,ce=ge,re=Ke,he=0,be=ce;be;be=ot(be))he++;be=0;for(var it=re;it;it=ot(it))be++;for(;0<he-be;)ce=ot(ce),he--;for(;0<be-he;)re=ot(re),be--;for(;he--;){if(ce===re||re!==null&&ce===re.alternate){ot=ce;break t}ce=ot(ce),re=ot(re)}ot=null}else ot=null;ge!==null&&DI(ve,me,ge,ot,!1),Ke!==null&&ln!==null&&DI(ve,ln,Ke,ot,!0)}}e:{if(me=fe?vt(fe):window,ge=me.nodeName&&me.nodeName.toLowerCase(),ge==="select"||ge==="input"&&me.type==="file")var qt=YT;else if(KT(me))if(ZT)qt=t9;else{qt=QB;var Ze=JB}else ge=me.nodeName,!ge||ge.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&Ch(fe.elementType)&&(qt=YT):qt=e9;if(qt&&(qt=qt(a,fe))){GT(ve,qt,u,we);break e}Ze&&Ze(a,me,fe),a==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&xh(me,"number",me.value)}switch(Ze=fe?vt(fe):window,a){case"focusin":(KT(Ze)||Ze.contentEditable==="true")&&(Mu=Ze,hv=fe,Mh=null);break;case"focusout":Mh=hv=Mu=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,ix(ve,u,we);break;case"selectionchange":if(r9)break;case"keydown":case"keyup":ix(ve,u,we)}var _t;if(lv)e:{switch(a){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else $u?HT(a,u)&&(Rt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Rt="onCompositionStart");Rt&&(FT&&u.locale!=="ko"&&($u||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&$u&&(_t=Ce()):(V=we,J="value"in V?V.value:V.textContent,$u=!0)),Ze=Eg(fe,Rt),0<Ze.length&&(Rt=new jT(Rt,a,null,u,we),ve.push({event:Rt,listeners:Ze}),_t?Rt.data=_t:(_t=VT(u),_t!==null&&(Rt.data=_t)))),(_t=KB?GB(a,u):YB(a,u))&&(Rt=Eg(fe,"onBeforeInput"),0<Rt.length&&(Ze=new jT("onBeforeInput","beforeinput",null,u,we),ve.push({event:Ze,listeners:Rt}),Ze.data=_t)),j9(ve,a,fe,u,we)}kI(ve,o)})}function cf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Eg(a,o){for(var u=o+"Capture",h=[];a!==null;){var w=a,v=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||v===null||(w=dc(a,u),w!=null&&h.unshift(cf(a,w,v)),w=dc(a,o),w!=null&&h.push(cf(a,w,v))),a.tag===3)return h;a=a.return}return[]}function W9(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function DI(a,o,u,h,w){for(var v=o._reactName,I=[];u!==null&&u!==h;){var M=u,X=M.alternate,fe=M.stateNode;if(M=M.tag,X!==null&&X===h)break;M!==5&&M!==26&&M!==27||fe===null||(X=fe,w?(fe=dc(u,v),fe!=null&&I.unshift(cf(u,fe,X))):w||(fe=dc(u,v),fe!=null&&I.push(cf(u,fe,X)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var H9=/\r\n?/g,V9=/\u0000|\uFFFD/g;function NI(a){return(typeof a=="string"?a:""+a).replace(H9,`
`).replace(V9,"")}function PI(a,o){return o=NI(o),NI(a)===o}function on(a,o,u,h,w,v){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ho(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ho(a,""+h);break;case"className":ku(a,"class",h);break;case"tabIndex":ku(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ku(a,u,h);break;case"style":Om(a,h,v);break;case"data":if(o!=="object"){ku(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Du(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&on(a,o,"name",w.name,w,null),on(a,o,"formEncType",w.formEncType,w,null),on(a,o,"formMethod",w.formMethod,w,null),on(a,o,"formTarget",w.formTarget,w,null)):(on(a,o,"encType",w.encType,w,null),on(a,o,"method",w.method,w,null),on(a,o,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=Du(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Fs);break;case"onScroll":h!=null&&Ot("scroll",a);break;case"onScrollEnd":h!=null&&Ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=Du(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":Ot("beforetoggle",a),Ot("toggle",a),Ou(a,"popover",h);break;case"xlinkActuate":zs(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":zs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":zs(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":zs(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":zs(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":zs(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":zs(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":zs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":zs(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ou(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=iv.get(u)||u,Ou(a,u,h))}}function L0(a,o,u,h,w,v){switch(u){case"style":Om(a,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Ho(a,h):(typeof h=="number"||typeof h=="bigint")&&Ho(a,""+h);break;case"onScroll":h!=null&&Ot("scroll",a);break;case"onScrollEnd":h!=null&&Ot("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),o=u.slice(2,w?u.length-7:void 0),v=a[Nt]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(o,v,w),typeof h=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,w);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Ou(a,u,h)}}}function Lr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",a),Ot("load",a);var h=!1,w=!1,v;for(v in u)if(u.hasOwnProperty(v)){var I=u[v];if(I!=null)switch(v){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:on(a,o,v,I,u,null)}}w&&on(a,o,"srcSet",u.srcSet,u,null),h&&on(a,o,"src",u.src,u,null);return;case"input":Ot("invalid",a);var M=v=I=w=null,X=null,fe=null;for(h in u)if(u.hasOwnProperty(h)){var we=u[h];if(we!=null)switch(h){case"name":w=we;break;case"type":I=we;break;case"checked":X=we;break;case"defaultChecked":fe=we;break;case"value":v=we;break;case"defaultValue":M=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:on(a,o,h,we,u,null)}}Tm(a,v,M,X,fe,I,w,!1);return;case"select":Ot("invalid",a),h=I=v=null;for(w in u)if(u.hasOwnProperty(w)&&(M=u[w],M!=null))switch(w){case"value":v=M;break;case"defaultValue":I=M;break;case"multiple":h=M;default:on(a,o,w,M,u,null)}o=v,u=I,a.multiple=!!h,o!=null?Wo(a,!!h,o,!1):u!=null&&Wo(a,!!h,u,!0);return;case"textarea":Ot("invalid",a),v=w=h=null;for(I in u)if(u.hasOwnProperty(I)&&(M=u[I],M!=null))switch(I){case"value":h=M;break;case"defaultValue":w=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:on(a,o,I,M,u,null)}Cm(a,h,w,v);return;case"option":for(X in u)u.hasOwnProperty(X)&&(h=u[X],h!=null)&&(X==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":on(a,o,X,h,u,null));return;case"dialog":Ot("beforetoggle",a),Ot("toggle",a),Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":Ot("load",a);break;case"video":case"audio":for(h=0;h<lf.length;h++)Ot(lf[h],a);break;case"image":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"embed":case"source":case"link":Ot("error",a),Ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(h=u[fe],h!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:on(a,o,fe,h,u,null)}return;default:if(Ch(o)){for(we in u)u.hasOwnProperty(we)&&(h=u[we],h!==void 0&&L0(a,o,we,h,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(h=u[M],h!=null&&on(a,o,M,h,u,null))}function K9(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,v=null,I=null,M=null,X=null,fe=null,we=null;for(ge in u){var ve=u[ge];if(u.hasOwnProperty(ge)&&ve!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":X=ve;default:h.hasOwnProperty(ge)||on(a,o,ge,null,h,ve)}}for(var me in h){var ge=h[me];if(ve=u[me],h.hasOwnProperty(me)&&(ge!=null||ve!=null))switch(me){case"type":v=ge;break;case"name":w=ge;break;case"checked":fe=ge;break;case"defaultChecked":we=ge;break;case"value":I=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:ge!==ve&&on(a,o,me,ge,h,ve)}}Th(a,I,M,X,fe,we,v,w);return;case"select":ge=I=M=me=null;for(v in u)if(X=u[v],u.hasOwnProperty(v)&&X!=null)switch(v){case"value":break;case"multiple":ge=X;default:h.hasOwnProperty(v)||on(a,o,v,null,h,X)}for(w in h)if(v=h[w],X=u[w],h.hasOwnProperty(w)&&(v!=null||X!=null))switch(w){case"value":me=v;break;case"defaultValue":M=v;break;case"multiple":I=v;default:v!==X&&on(a,o,w,v,h,X)}o=M,u=I,h=ge,me!=null?Wo(a,!!u,me,!1):!!h!=!!u&&(o!=null?Wo(a,!!u,o,!0):Wo(a,!!u,u?[]:"",!1));return;case"textarea":ge=me=null;for(M in u)if(w=u[M],u.hasOwnProperty(M)&&w!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:on(a,o,M,null,h,w)}for(I in h)if(w=h[I],v=u[I],h.hasOwnProperty(I)&&(w!=null||v!=null))switch(I){case"value":me=w;break;case"defaultValue":ge=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==v&&on(a,o,I,w,h,v)}xm(a,me,ge);return;case"option":for(var Ke in u)me=u[Ke],u.hasOwnProperty(Ke)&&me!=null&&!h.hasOwnProperty(Ke)&&(Ke==="selected"?a.selected=!1:on(a,o,Ke,null,h,me));for(X in h)me=h[X],ge=u[X],h.hasOwnProperty(X)&&me!==ge&&(me!=null||ge!=null)&&(X==="selected"?a.selected=me&&typeof me!="function"&&typeof me!="symbol":on(a,o,X,me,h,ge));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in u)me=u[ot],u.hasOwnProperty(ot)&&me!=null&&!h.hasOwnProperty(ot)&&on(a,o,ot,null,h,me);for(fe in h)if(me=h[fe],ge=u[fe],h.hasOwnProperty(fe)&&me!==ge&&(me!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:on(a,o,fe,me,h,ge)}return;default:if(Ch(o)){for(var ln in u)me=u[ln],u.hasOwnProperty(ln)&&me!==void 0&&!h.hasOwnProperty(ln)&&L0(a,o,ln,void 0,h,me);for(we in h)me=h[we],ge=u[we],!h.hasOwnProperty(we)||me===ge||me===void 0&&ge===void 0||L0(a,o,we,me,h,ge);return}}for(var ce in u)me=u[ce],u.hasOwnProperty(ce)&&me!=null&&!h.hasOwnProperty(ce)&&on(a,o,ce,null,h,me);for(ve in h)me=h[ve],ge=u[ve],!h.hasOwnProperty(ve)||me===ge||me==null&&ge==null||on(a,o,ve,me,h,ge)}function UI(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G9(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var w=u[h],v=w.transferSize,I=w.initiatorType,M=w.duration;if(v&&M&&UI(I)){for(I=0,M=w.responseEnd,h+=1;h<u.length;h++){var X=u[h],fe=X.startTime;if(fe>M)break;var we=X.transferSize,ve=X.initiatorType;we&&UI(ve)&&(X=X.responseEnd,I+=we*(X<M?1:(M-fe)/(X-fe)))}if(--h,o+=8*(v+I)/(w.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var B0=null,j0=null;function Sg(a){return a.nodeType===9?a:a.ownerDocument}function $I(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MI(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function z0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var F0=null;function Y9(){var a=window.event;return a&&a.type==="popstate"?a===F0?!1:(F0=a,!0):(F0=null,!1)}var LI=typeof setTimeout=="function"?setTimeout:void 0,Z9=typeof clearTimeout=="function"?clearTimeout:void 0,BI=typeof Promise=="function"?Promise:void 0,X9=typeof queueMicrotask=="function"?queueMicrotask:typeof BI<"u"?function(a){return BI.resolve(null).then(a).catch(J9)}:LI;function J9(a){setTimeout(function(){throw a})}function dl(a){return a==="head"}function jI(a,o){var u=o,h=0;do{var w=u.nextSibling;if(a.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(w),ud(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")uf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,uf(u);for(var v=u.firstChild;v;){var I=v.nextSibling,M=v.nodeName;v[kn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=I}}else u==="body"&&uf(a.ownerDocument.body);u=w}while(u);ud(o)}function zI(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function q0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":q0(u),qa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function Q9(a,o,u,h){for(;a.nodeType===1;){var w=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[kn])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var v=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=vs(a.nextSibling),a===null)break}return null}function e7(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=vs(a.nextSibling),a===null))return null;return a}function FI(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=vs(a.nextSibling),a===null))return null;return a}function W0(a){return a.data==="$?"||a.data==="$~"}function H0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function t7(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function vs(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var V0=null;function qI(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return vs(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function WI(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function HI(a,o,u){switch(o=Sg(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function uf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);qa(a)}var _s=new Map,VI=new Set;function Ag(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var so=P.d;P.d={f:n7,r:r7,D:i7,C:s7,L:a7,m:o7,X:c7,S:l7,M:u7};function n7(){var a=so.f(),o=mg();return a||o}function r7(a){var o=hs(a);o!==null&&o.tag===5&&o.type==="form"?cC(o):so.r(a)}var od=typeof document>"u"?null:document;function KI(a,o,u){var h=od;if(h&&typeof o=="string"&&o){var w=vi(o);w='link[rel="'+a+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),VI.has(w)||(VI.add(w),a={rel:a,crossOrigin:u,href:o},h.querySelector(w)===null&&(o=h.createElement("link"),Lr(o,"link",a),Ge(o),h.head.appendChild(o)))}}function i7(a){so.D(a),KI("dns-prefetch",a,null)}function s7(a,o){so.C(a,o),KI("preconnect",a,o)}function a7(a,o,u){so.L(a,o,u);var h=od;if(h&&a&&o){var w='link[rel="preload"][as="'+vi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+vi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+vi(u.imageSizes)+'"]')):w+='[href="'+vi(a)+'"]';var v=w;switch(o){case"style":v=ld(a);break;case"script":v=cd(a)}_s.has(v)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),_s.set(v,a),h.querySelector(w)!==null||o==="style"&&h.querySelector(df(v))||o==="script"&&h.querySelector(hf(v))||(o=h.createElement("link"),Lr(o,"link",a),Ge(o),h.head.appendChild(o)))}}function o7(a,o){so.m(a,o);var u=od;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+vi(h)+'"][href="'+vi(a)+'"]',v=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=cd(a)}if(!_s.has(v)&&(a=m({rel:"modulepreload",href:a},o),_s.set(v,a),u.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hf(v)))return}h=u.createElement("link"),Lr(h,"link",a),Ge(h),u.head.appendChild(h)}}}function l7(a,o,u){so.S(a,o,u);var h=od;if(h&&a){var w=Yt(h).hoistableStyles,v=ld(a);o=o||"default";var I=w.get(v);if(!I){var M={loading:0,preload:null};if(I=h.querySelector(df(v)))M.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=_s.get(v))&&K0(a,u);var X=I=h.createElement("link");Ge(X),Lr(X,"link",a),X._p=new Promise(function(fe,we){X.onload=fe,X.onerror=we}),X.addEventListener("load",function(){M.loading|=1}),X.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Tg(I,o,h)}I={type:"stylesheet",instance:I,count:1,state:M},w.set(v,I)}}}function c7(a,o){so.X(a,o);var u=od;if(u&&a){var h=Yt(u).hoistableScripts,w=cd(a),v=h.get(w);v||(v=u.querySelector(hf(w)),v||(a=m({src:a,async:!0},o),(o=_s.get(w))&&G0(a,o),v=u.createElement("script"),Ge(v),Lr(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(w,v))}}function u7(a,o){so.M(a,o);var u=od;if(u&&a){var h=Yt(u).hoistableScripts,w=cd(a),v=h.get(w);v||(v=u.querySelector(hf(w)),v||(a=m({src:a,async:!0,type:"module"},o),(o=_s.get(w))&&G0(a,o),v=u.createElement("script"),Ge(v),Lr(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(w,v))}}function GI(a,o,u,h){var w=(w=Se.current)?Ag(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ld(u.href),u=Yt(w).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ld(u.href);var v=Yt(w).hoistableStyles,I=v.get(a);if(I||(w=w.ownerDocument||w,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,I),(v=w.querySelector(df(a)))&&!v._p&&(I.instance=v,I.state.loading=5),_s.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},_s.set(a,u),v||d7(w,a,u,I.state))),o&&h===null)throw Error(r(528,""));return I}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cd(u),u=Yt(w).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ld(a){return'href="'+vi(a)+'"'}function df(a){return'link[rel="stylesheet"]['+a+"]"}function YI(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function d7(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Lr(o,"link",u),Ge(o),a.head.appendChild(o))}function cd(a){return'[src="'+vi(a)+'"]'}function hf(a){return"script[async]"+a}function ZI(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+vi(u.href)+'"]');if(h)return o.instance=h,Ge(h),h;var w=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Ge(h),Lr(h,"style",w),Tg(h,u.precedence,a),o.instance=h;case"stylesheet":w=ld(u.href);var v=a.querySelector(df(w));if(v)return o.state.loading|=4,o.instance=v,Ge(v),v;h=YI(u),(w=_s.get(w))&&K0(h,w),v=(a.ownerDocument||a).createElement("link"),Ge(v);var I=v;return I._p=new Promise(function(M,X){I.onload=M,I.onerror=X}),Lr(v,"link",h),o.state.loading|=4,Tg(v,u.precedence,a),o.instance=v;case"script":return v=cd(u.src),(w=a.querySelector(hf(v)))?(o.instance=w,Ge(w),w):(h=u,(w=_s.get(v))&&(h=m({},u),G0(h,w)),a=a.ownerDocument||a,w=a.createElement("script"),Ge(w),Lr(w,"link",h),a.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Tg(h,u.precedence,a));return o.instance}function Tg(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,v=w,I=0;I<h.length;I++){var M=h[I];if(M.dataset.precedence===o)v=M;else if(v!==w)break}v?v.parentNode.insertBefore(a,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function K0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function G0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xg=null;function XI(a,o,u){if(xg===null){var h=new Map,w=xg=new Map;w.set(u,h)}else w=xg,h=w.get(u),h||(h=new Map,w.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),w=0;w<u.length;w++){var v=u[w];if(!(v[kn]||v[St]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(o)||"";I=a+I;var M=h.get(I);M?M.push(v):h.set(I,[v])}}return h}function JI(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function h7(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function QI(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function f7(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=ld(h.href),v=o.querySelector(df(w));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Cg.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=v,Ge(v);return}v=o.ownerDocument||o,h=YI(h),(w=_s.get(w))&&K0(h,w),v=v.createElement("link"),Ge(v);var I=v;I._p=new Promise(function(M,X){I.onload=M,I.onerror=X}),Lr(v,"link",h),u.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Cg.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Y0=0;function p7(a,o){return a.stylesheets&&a.count===0&&Og(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Og(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+o);0<a.imgBytes&&Y0===0&&(Y0=62500*G9());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Og(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Y0?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function Cg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ig=null;function Og(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ig=new Map,o.forEach(m7,a),Ig=null,Cg.call(a))}function m7(a,o){if(!(o.state.loading&4)){var u=Ig.get(a);if(u)var h=u.get(null);else{u=new Map,Ig.set(a,u);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<w.length;v++){var I=w[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}w=o.instance,I=w.getAttribute("data-precedence"),v=u.get(I)||h,v===h&&u.set(null,w),u.set(I,w),this.count++,h=Cg.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),v?v.parentNode.insertBefore(w,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),o.state.loading|=4}}var ff={$$typeof:x,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function g7(a,o,u,h,w,v,I,M,X){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.hiddenUpdates=le(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function eO(a,o,u,h,w,v,I,M,X,fe,we,ve){return a=new g7(a,o,u,I,X,fe,we,ve,M),o=1,v===!0&&(o|=24),v=Hi(3,null,null,o),a.current=v,v.stateNode=a,o=Iv(),o.refCount++,a.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:o},Dv(v),a}function tO(a){return a?(a=ju,a):ju}function nO(a,o,u,h,w,v){w=tO(w),h.context===null?h.context=w:h.pendingContext=w,h=el(o),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=tl(a,h,o),u!==null&&(Ti(u,a,o),Wh(u,a,o))}function rO(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Z0(a,o){rO(a,o),(a=a.alternate)&&rO(a,o)}function iO(a){if(a.tag===13||a.tag===31){var o=pc(a,67108864);o!==null&&Ti(o,a,67108864),Z0(a,67108864)}}function sO(a){if(a.tag===13||a.tag===31){var o=Zi();o=jt(o);var u=pc(a,o);u!==null&&Ti(u,a,o),Z0(a,o)}}var kg=!0;function y7(a,o,u,h){var w=S.T;S.T=null;var v=P.p;try{P.p=2,X0(a,o,u,h)}finally{P.p=v,S.T=w}}function w7(a,o,u,h){var w=S.T;S.T=null;var v=P.p;try{P.p=8,X0(a,o,u,h)}finally{P.p=v,S.T=w}}function X0(a,o,u,h){if(kg){var w=J0(h);if(w===null)M0(a,o,h,Rg,u),oO(a,h);else if(v7(w,a,o,u,h))h.stopPropagation();else if(oO(a,h),o&4&&-1<b7.indexOf(a)){for(;w!==null;){var v=hs(w);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=ds(v.pendingLanes);if(I!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;I;){var X=1<<31-Bt(I);M.entanglements[1]|=X,I&=~X}pa(v),(Zt&6)===0&&(fg=Qt()+500,of(0))}}break;case 31:case 13:M=pc(v,2),M!==null&&Ti(M,v,2),mg(),Z0(v,2)}if(v=J0(h),v===null&&M0(a,o,h,Rg,u),v===w)break;w=v}w!==null&&h.stopPropagation()}else M0(a,o,h,null,u)}}function J0(a){return a=Oh(a),Q0(a)}var Rg=null;function Q0(a){if(Rg=null,a=qi(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Rg=a,null}function aO(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wi()){case zi:return 2;case Gt:return 8;case Un:case _r:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var e_=!1,hl=null,fl=null,pl=null,pf=new Map,mf=new Map,ml=[],b7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oO(a,o){switch(a){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":pf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(o.pointerId)}}function gf(a,o,u,h,w,v){return a===null||a.nativeEvent!==v?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[w]},o!==null&&(o=hs(o),o!==null&&iO(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),a)}function v7(a,o,u,h,w){switch(o){case"focusin":return hl=gf(hl,a,o,u,h,w),!0;case"dragenter":return fl=gf(fl,a,o,u,h,w),!0;case"mouseover":return pl=gf(pl,a,o,u,h,w),!0;case"pointerover":var v=w.pointerId;return pf.set(v,gf(pf.get(v)||null,a,o,u,h,w)),!0;case"gotpointercapture":return v=w.pointerId,mf.set(v,gf(mf.get(v)||null,a,o,u,h,w)),!0}return!1}function lO(a){var o=qi(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Qe(a.priority,function(){sO(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Qe(a.priority,function(){sO(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=J0(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Ih=h,u.target.dispatchEvent(h),Ih=null}else return o=hs(u),o!==null&&iO(o),a.blockedOn=u,!1;o.shift()}return!0}function cO(a,o,u){Dg(a)&&u.delete(o)}function _7(){e_=!1,hl!==null&&Dg(hl)&&(hl=null),fl!==null&&Dg(fl)&&(fl=null),pl!==null&&Dg(pl)&&(pl=null),pf.forEach(cO),mf.forEach(cO)}function Ng(a,o){a.blockedOn===o&&(a.blockedOn=null,e_||(e_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_7)))}var Pg=null;function uO(a){Pg!==a&&(Pg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pg===a&&(Pg=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],w=a[o+2];if(typeof h!="function"){if(Q0(h||u)===null)continue;break}var v=hs(u);v!==null&&(a.splice(o,3),o-=3,Jv(v,{pending:!0,data:w,method:u.method,action:h},h,w))}}))}function ud(a){function o(X){return Ng(X,a)}hl!==null&&Ng(hl,a),fl!==null&&Ng(fl,a),pl!==null&&Ng(pl,a),pf.forEach(o),mf.forEach(o);for(var u=0;u<ml.length;u++){var h=ml[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<ml.length&&(u=ml[0],u.blockedOn===null);)lO(u),u.blockedOn===null&&ml.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var w=u[h],v=u[h+1],I=w[Nt]||null;if(typeof v=="function")I||uO(u);else if(I){var M=null;if(v&&v.hasAttribute("formAction")){if(w=v,I=v[Nt]||null)M=I.formAction;else if(Q0(w)!==null)continue}else M=I.action;typeof M=="function"?u[h+1]=M:(u.splice(h,3),h-=3),uO(u)}}}function dO(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(I){return w=I})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function t_(a){this._internalRoot=a}Ug.prototype.render=t_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=Zi();nO(u,h,a,o,null,null)},Ug.prototype.unmount=t_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;nO(a.current,2,null,a,null,null),mg(),o[ur]=null}};function Ug(a){this._internalRoot=a}Ug.prototype.unstable_scheduleHydration=function(a){if(a){var o=sn();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ml.length&&o!==0&&o<ml[u].priority;u++);ml.splice(u,0,a),u===0&&lO(a)}};var hO=e.version;if(hO!=="19.2.4")throw Error(r(527,hO,"19.2.4"));P.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var E7={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{qe=$g.inject(E7),dt=$g}catch{}}return yf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",w=bC,v=vC,I=_C;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=eO(a,1,!1,null,null,u,h,null,w,v,I,dO),a[ur]=o.current,$0(a),new t_(o)},yf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,w="",v=bC,I=vC,M=_C,X=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(X=u.formState)),o=eO(a,1,!0,o,u??null,h,w,X,v,I,M,dO),o.context=tO(null),u=o.current,h=Zi(),h=jt(h),w=el(h),w.callback=null,tl(u,w,h),u=h,o.current.lanes=u,de(o,u),pa(o),a[ur]=o.current,$0(a),new Ug(o)},yf.version="19.2.4",yf}var _O;function lj(){if(_O)return r_.exports;_O=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r_.exports=oj(),r_.exports}var cj=lj();const uj={path:"/api/v1/analytics_events",method:"POST"},dj={path:"/api/v1/apps/:app_id",method:"GET"},hj={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},fj={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},pj={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},mj={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},gj={path:"/api/v1/custom_jwt_account/link",method:"POST"},yj={path:"/api/v1/farcaster/init",method:"POST"},wj={path:"/api/v1/farcaster/authenticate",method:"POST"},bj={path:"/api/v1/farcaster/link",method:"POST"},vj={path:"/api/v1/farcaster/unlink",method:"POST"},_j={path:"/api/v1/farcaster/status",method:"GET"},Ej={path:"/api/v2/farcaster/init",method:"POST"},Sj={path:"/api/v2/farcaster/authenticate",method:"POST"},Aj={path:"/api/v1/guest/authenticate",method:"POST"},Tj={path:"/api/v1/mfa/passkeys/init",method:"POST"},xj={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Cj={path:"/api/v1/oauth/authenticate",method:"POST"},Ij={path:"/api/v1/oauth/init",method:"POST"},Oj={path:"/api/v1/oauth/link",method:"POST"},kj={path:"/api/v1/oauth/unlink",method:"POST"},Rj={path:"/api/v1/passkeys/link",method:"POST"},Dj={path:"/api/v1/passkeys/authenticate",method:"POST"},Nj={path:"/api/v1/passkeys/register",method:"POST"},Pj={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Uj={path:"/api/v1/passkeys/register/init",method:"POST"},$j={path:"/api/v1/passkeys/link/init",method:"POST"},Mj={path:"/api/v1/passwordless/authenticate",method:"POST"},Lj={path:"/api/v1/passwordless/init",method:"POST"},Bj={path:"/api/v1/passwordless/link",method:"POST"},jj={path:"/api/v1/passwordless/unlink",method:"POST"},zj={path:"/api/v1/passwordless/update",method:"POST"},Fj={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},qj={path:"/api/v1/passwordless_sms/init",method:"POST"},Wj={path:"/api/v1/passwordless_sms/link",method:"POST"},Hj={path:"/api/v1/passwordless_sms/unlink",method:"POST"},Vj={path:"/api/v1/passwordless_sms/update",method:"POST"},Kj={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},Gj={path:"/api/v1/recovery/oauth/init",method:"POST"},Yj={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},Zj={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},Xj={path:"/api/v1/recovery/configuration_icloud",method:"POST"},Jj=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,EO={path:"/api/v1/sessions",method:"POST"},Qj={path:"/api/v1/sessions/logout",method:"POST"},ez={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},w5={path:"/api/v1/siwe/init",method:"POST"},tz={path:"/api/v1/siwe/authenticate",method:"POST"},nz={path:"/api/v1/siwe/link",method:"POST"},rz={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},iz={path:"/api/v1/siwe/unlink",method:"POST"},sz={path:"/api/v1/siws/init",method:"POST"},az={path:"/api/v1/siws/authenticate",method:"POST"},oz={path:"/api/v1/siws/link",method:"POST"},lz={path:"/api/v1/siws/unlink",method:"POST"},cz={path:"/api/v1/users/me/accept_terms",method:"POST"},uz={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},dz={path:"/api/v1/wallets",method:"POST"},a_={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},hz={path:"/api/v1/wallets/revoke",method:"POST"};let fz=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(ez,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const pz=new TextEncoder,b5=new TextDecoder,mz=t=>{let e=t;typeof e=="string"&&(e=pz.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},gz=t=>mz(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),yz=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},wz=t=>{let e=t;e instanceof Uint8Array&&(e=b5.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return yz(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};let bz=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}},Cc=class extends bz{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};function vz(t){return typeof t=="object"&&t!==null}function _z(t){if(!vz(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const BA=gz,Ez=wz;function Sz(t){if(typeof t!="string")throw new Cc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Cc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Cc("Invalid JWT");if(!e)throw new Cc("JWTs must contain a payload");let r;try{r=Ez(e)}catch{throw new Cc("Failed to base64url decode the payload")}let i;try{i=JSON.parse(b5.decode(r))}catch{throw new Cc("Failed to parse the decoded payload as JSON")}if(!_z(i))throw new Cc("Invalid JWT Claims Set");return i}let Cd=class v5{static parse(e){try{return new v5(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Sz(e)}},_5=class IE{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=IE.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=IE.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new Cd(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(pj,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};_5.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let Az=class{async revoke(){await this._privyInternal.fetch(hz,{})}constructor(e){this._privyInternal=e}};function Tz(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const Vp={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},E5={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Kp={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},S5={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Gp={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},A5={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},xz={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},Cz={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},jA={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},Iz={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},Oz={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},kz={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},Rz={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Dz={id:43419,name:"Gunz Mainnet",network:"gunz",nativeCurrency:{name:"GUN",symbol:"GUN",decimals:18},rpcUrls:{privy:{http:["https://gunz-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]},public:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]}},blockExplorers:{default:{name:"Gunz Explorer",url:"https://gunzscan.io"}}},Nz={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},Pz={id:13371,name:"Immutable zkEVM",network:"immutable-zkevm",nativeCurrency:{name:"Immutable Coin",symbol:"IMX",decimals:18},rpcUrls:{privy:{http:["https://immutable-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.immutable.com"]},public:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com"}}},Uz={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},$z={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},Mz={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},fh={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},zA={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},T5={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Yp={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},x5={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},Lz={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},C5={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},Bz={id:1868,name:"Soneium Mainnet",network:"soneium",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://soneium-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.soneium.org"]},public:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com"}}},jz={id:130,name:"Unichain",network:"unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://unichain-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.unichain.org"]},public:{http:["https://mainnet.unichain.org"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz"}}},zz={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{privy:{http:["https://zora-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},Fz={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},qz={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},tb=[fh,C5,Nz,Vp,E5,zA,T5,Yp,x5,jA,Iz,Oz,kz,Gp,A5,xz,Cz,Dz,Pz,Mz,Uz,$z,Kp,S5,Bz,jz,zz,qz,Fz,Lz,Rz],Wz=new Set(tb.map((t=>t.id))),I5=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=tb.find((i=>i.id===e.id)),r=n?.rpcUrls.privy?.http[0];return r?Tz(e,r):e})),Hz={id:999},FA={id:143};let o_=class extends Error{constructor({error:e,code:n,status:r}){super(e),this.name="PrivyApiError",this.error=e,this.code=n,this.status=r}},Kt=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},Vz=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const Ml=t=>!!t.id&&t.recovery_method==="privy-v2";let Kz=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Ml(this._account))throw new Kt({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new Kt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Kt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const Gz=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var xi;(xi={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",xi.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",xi.INVALID_DATA="invalid_data",xi.LINKED_TO_ANOTHER_USER="linked_to_another_user",xi.ALLOWLIST_REJECTED="allowlist_rejected",xi.OAUTH_USER_DENIED="oauth_user_denied",xi.UNKNOWN_AUTH_ERROR="unknown_auth_error",xi.USER_EXITED_AUTH_FLOW="exited_auth_flow",xi.MUST_BE_AUTHENTICATED="must_be_authenticated",xi.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",xi.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",xi.CLIENT_REQUEST_TIMEOUT="client_request_timeout",xi.INVALID_CREDENTIALS="invalid_credentials";let Yz=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Ey=class extends Error{constructor(e,n){super(n),this.type=e}},O5=class extends Yz{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},SO=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Id={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function Zz(t){let e=t.type;return typeof e=="string"&&Gz.includes(e)}function qA(t){return Zz(t)&&t.type==="wallet_not_on_device"}async function OE(t,{request:e,headers:n}){return await t.fetchPrivyRoute(dz,{body:e,headers:n})}async function l_({context:t,chainType:e,idempotencyKey:n}){return{wallet:await OE(t,{request:{chain_type:e,owner_id:void 0},headers:n?{"privy-idempotency-key":n}:void 0})}}const AO=(t,e,n,r)=>{let i=Number(t),s=e.find((l=>l.id===i));if(!s)throw new O5(`Unsupported chainId ${t}`,4901);return UA({transport:Hp(Xz(s,n,r.appId)),chain:s})},Xz=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new O5(`No RPC url found for ${i}`);return r};function Jz({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function Qz(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let eF=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function tF(t,e,n,r,i=!1,s,l){let c=i,d=async p=>{if(c){p===(i?0:1)?r():n.current?.reject(new Ey("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise(((g,y)=>{e.current={resolve:g,reject:y},setTimeout((()=>{let b=new Ey("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(b),y(b)}),l)}));return await t(m)}return await t()},f=null;for(let p=0;p<s;p++)try{f=await d(p),n.current?.resolve(void 0);break}catch(m){if(m.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),m;c=!0}if(f===null){let p=new Ey("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(p),p}return f}var TO;let nF=(TO=0,()=>"id-"+TO++),rF=(t,e)=>typeof e=="bigint"?e.toString():e,yl=async(t,{ms:e,msg:n})=>{let r,i=new Promise(((s,l)=>{r=setTimeout((()=>{l(Error(n))}),e??15e3)}));try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},xO=new eF,CO=class{invokeWithMfa(e,n){return yl(tF((r=>yl(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return yl(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return yl(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return yl(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return yl(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return yl(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return yl(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=xO.dequeue(e.event,e.id);return e.error!==void 0?n(new Ey(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await Qz(150)}))}invoke(e,n){let r=((s,l)=>`${s}${JSON.stringify(l,rF)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,l)=>{let c=nF();xO.enqueue(c,{resolve:s,reject:l}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:c,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}},c_={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const k5={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let dd=t=>t!==void 0?BigInt(t):void 0;function Ky(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((f=>Array.isArray(f)?{address:f[0],storageKeys:f[1]}:f)):r.accessList&&(e=Object.entries(r.accessList).map((f=>({address:f[0],storageKeys:f[1]}))));let i=Number(r.chainId??1),s=ap(r.data)?r.data:r.data?Jt(Uint8Array.from(r.data)):void 0,l=r.nonce?Number(r.nonce):void 0,c={chainId:i,data:s,nonce:l,value:dd(r.value),gas:dd(r.gas??r.gasLimit)},d=Number(n);if(d===0)return{...r,type:c_[d],...c,gasPrice:dd(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(d===1)return{...r,type:c_[d],...c,gasPrice:dd(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(d===2)return{...r,type:c_[d],...c,nonce:l,accessList:e,maxFeePerGas:dd(r.maxFeePerGas),maxPriorityFeePerGas:dd(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const Gy=t=>/^0x[0-9a-fA-F]*$/.test(t),Yy=t=>Buffer.from(t,"utf8"),Ep=t=>`0x${t.toString("hex")}`;var u_,IO;function iF(){return IO||(IO=1,u_=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,l)=>`${i}${l===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),u_}var sF=iF();const aF=hh(sF);async function oF(t,e){let n=aF(e);if(n===void 0)throw new Kt({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function ea(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(a_,{params:{wallet_id:n}}),method:a_.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await oF(e,i);return await t.fetchPrivyRoute(a_,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function lF(t){return{from:t.from,to:t.to??void 0,nonce:Ic(t.nonce),chain_id:Ic(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?Gy(e)?e:Ep(Yy(e)):Ep(Buffer.from(Uint8Array.from(e)))})(t.data),value:Ic(t.value),type:t.type,gas_limit:Ic(t.gasLimit),gas_price:Ic(t.gasPrice),max_fee_per_gas:Ic(t.maxFeePerGas),max_priority_fee_per_gas:Ic(t.maxPriorityFeePerGas)}}function Ic(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return Gy(t)?t:Ep(Yy(t))}function cF(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function R5({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[l]=s.params,c=await ea(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:l.startsWith("0x")?{message:l.slice(2),encoding:"hex"}:{message:l,encoding:"utf-8"}});if(c.method!=="personal_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"eth_signTransaction":{let[l]=s.params,c=await ea(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:lF(l)}});if(c.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:c.data.signed_transaction}}case"eth_signTypedData_v4":{let[,l]=s.params,c=await ea(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:cF(l)}});if(c.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:c.data.signature}}case"eth_sign":{let[,l]=s.params,c=await ea(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Gy(l)?l:Ep(Yy(l))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"secp256k1_sign":{let[l]=s.params,c=await ea(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Gy(l)?l:Ep(Yy(l))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:l}=s.params,c=await ea(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:l,encoding:"base64"}});if(c.method!=="signMessage")throw Error("Unable to sign message");return{data:c.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let uF=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),d_=class extends wu{async request(e){if(uF.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=AO(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=Ky(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:k5[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=Jt(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=Ky(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new SO(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new SO(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(Ml(r)){let{data:i}=await R5({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=qA(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let l;await new Promise((async(c,d)=>{l=setTimeout((()=>d(new Kt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>c(!0)})})).finally((()=>clearTimeout(l)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Kt({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:l,onNeedsRecovery:c,chainId:d=l[0].id,appApi:f}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=d,this._chains=l,this._onNeedsRecovery=c,this._client=AO(d,l,{rpcUrls:[]},{appId:f.appId}),this._appApi=f}};function kE(t){return"version"in t}function OO(t,e){let n=(kE(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let dF=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new Kt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=qA(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,l)=>{i=setTimeout((()=>l(new Kt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!Ml(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await R5({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Kt({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,l=OO(r,this._account.address),c=kE(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:d}=await this.signMessageRpc({method:"signMessage",params:{message:c.toString("base64")}},n);return r.addSignature(l,Buffer.from(d,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Kt({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=OO(r,this._account.address),s=kE(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(l,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Kt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:l,app:c}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=l,this._app=c}},hF=class{setMessagePoster(e){this._proxy=new CO(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new Kt({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await l_({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new Kt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Ml(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:l}),new Kz({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:l,solanaAccount:c,skipCallbacks:d,idempotencyKey:f}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Kt({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await l_({context:{app:this._appApi,fetchPrivyRoute:(...p)=>this._privyInternal.fetch(...p),getCompiledPath:(...p)=>this._privyInternal.getPath(...p)},chainType:"ethereum",idempotencyKey:f})}else{let p;if(p=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(p==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let m=await this._privyInternal.getAccessTokenInternal();if(!m)throw Error("User must be logged in to create an embedded wallet");let{address:g}=await this._proxy.create({accessToken:m,recoveryMethod:p,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:l,solanaAddress:c?.address});if(!g)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(d)}async createSolana(e){if(!this._proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await l_({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana",idempotencyKey:e?.idempotencyKey});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new Kt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new Kt({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new Kt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Ml(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new d_({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:l,recoveryKey:c,onNeedsRecovery:d}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Ml(e)||(!d||i||s||l||c)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:l,recoveryKey:c}),new d_({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:d,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,l,c){if(!this._proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Ml(e)||(!c||i||s||l)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:l}),new dF({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:c,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Ml(n))throw new Kt({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Jz({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let l;if(r.recoveryMethod==="user-passcode")l={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")l={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")l={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")l={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")l={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);l={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...l}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:c}=await this._privyInternal.refreshSession();return{user:c,provider:n.chain_type!=="ethereum"?null:new d_({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(l){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:l instanceof Error?l.message:"Unable to recover wallet"}),l}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:l,recoverySecretOverride:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let d=await this._privyInternal.getAccessTokenInternal();if(!d)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:d,entropyId:e,entropyIdVerifier:n}),e}catch(f){if(qA(f))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let p=await this._proxy.recover({accessToken:d,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),p.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let p=await this._proxy.recover({accessToken:d,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),p.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&l){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let p=await this._proxy.recover({accessToken:d,recoveryAccessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),p.entropyId}if(r.recovery_method==="icloud"&&c){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let p=await this._proxy.recover({accessToken:d,recoverySecretOverride:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),p.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let p=await this._proxy.recover({accessToken:d,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),p.entropyId}}catch(p){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:p instanceof Error?p.message:`Unable to recover wallet: ${e}`}),p}throw f}}constructor(e,n,r,i,s,l){if(this._chains=Array.from(tb),this._privyInternal=e,n&&(this._proxy=new CO(n,s),i.setProxy(this._proxy)),r){let c=I5(r);this._chains=c}this._mfa=i,this._mfaPromises=s,this._appApi=l}},fF=class extends wu{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var Sy={exports:{}},pF=Sy.exports,kO;function mF(){return kO||(kO=1,(function(t,e){(function(n,r){t.exports=r()})(pF,(function(){var n=function(s,l){if(l=l||{},typeof s!="function")throw new i("fetch must be a function");if(typeof l!="object")throw new i("defaults must be an object");if(l.retries!==void 0&&!r(l.retries))throw new i("retries must be a positive integer");if(l.retryDelay!==void 0&&!r(l.retryDelay)&&typeof l.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(l.retryOn!==void 0&&!Array.isArray(l.retryOn)&&typeof l.retryOn!="function")throw new i("retryOn property expects an array or function");var c={retries:3,retryDelay:1e3,retryOn:[]};return l=Object.assign(c,l),function(f,p){var m=l.retries,g=l.retryDelay,y=l.retryOn;if(p&&p.retries!==void 0)if(r(p.retries))m=p.retries;else throw new i("retries must be a positive integer");if(p&&p.retryDelay!==void 0)if(r(p.retryDelay)||typeof p.retryDelay=="function")g=p.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(p&&p.retryOn)if(Array.isArray(p.retryOn)||typeof p.retryOn=="function")y=p.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,_){var E=function(D){var x=typeof Request<"u"&&f instanceof Request?f.clone():f;s(x,p).then(function(T){if(Array.isArray(y)&&y.indexOf(T.status)===-1)b(T);else if(typeof y=="function")try{return Promise.resolve(y(D,null,T)).then(function(O){O?k(D,null,T):b(T)}).catch(_)}catch(O){_(O)}else D<m?k(D,null,T):b(T)}).catch(function(T){if(typeof y=="function")try{Promise.resolve(y(D,T,null)).then(function(O){O?k(D,T,null):_(T)}).catch(function(O){_(O)})}catch(O){_(O)}else D<m?k(D,T,null):_(T)})};function k(D,x,T){var O=typeof g=="function"?g(D,x,T):g;setTimeout(function(){E(++D)},O)}E(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(Sy)),Sy.exports}var gF=mF();const D5=hh(gF);var Lg,yF=new Uint8Array(16);function wF(){if(!Lg&&(Lg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Lg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lg(yF)}const bF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vF(t){return typeof t=="string"&&bF.test(t)}var qr=[];for(var h_=0;h_<256;++h_)qr.push((h_+256).toString(16).substr(1));function _F(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(qr[t[e+0]]+qr[t[e+1]]+qr[t[e+2]]+qr[t[e+3]]+"-"+qr[t[e+4]]+qr[t[e+5]]+"-"+qr[t[e+6]]+qr[t[e+7]]+"-"+qr[t[e+8]]+qr[t[e+9]]+"-"+qr[t[e+10]]+qr[t[e+11]]+qr[t[e+12]]+qr[t[e+13]]+qr[t[e+14]]+qr[t[e+15]]).toLowerCase();if(!vF(n))throw TypeError("Stringified UUID is invalid");return n}function RE(t,e,n){t=t||{};var r=t.random||(t.rng||wF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_F(r)}var tt,RO=((tt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",tt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",tt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",tt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",tt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",tt.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",tt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",tt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",tt.INVALID_DATA="invalid_data",tt.INVALID_CREDENTIALS="invalid_credentials",tt.INVALID_CAPTCHA="invalid_captcha",tt.LINKED_TO_ANOTHER_USER="linked_to_another_user",tt.ALLOWLIST_REJECTED="allowlist_rejected",tt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",tt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",tt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",tt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",tt.TOO_MANY_REQUESTS="too_many_requests",tt.RESOURCE_CONFLICT="resource_conflict",tt.INVALID_ORIGIN="invalid_origin",tt.MISSING_ORIGIN="missing_origin",tt.INVALID_NATIVE_APP_ID="invalid_native_app_id",tt.TOKEN_ALREADY_USED="token_already_used",tt.ALREADY_LOGGED_OUT="already_logged_out",tt.NOT_SUPPORTED="not_supported",tt.USER_UNSUBSCRIBED="user_unsubscribed",tt.MAX_APPS_REACHED="max_apps_reached",tt.USER_LIMIT_REACHED="max_accounts_reached",tt.DEVICE_REVOKED="device_revoked",tt.WALLET_PASSWORD_EXISTS="wallet_password_exists",tt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",tt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",tt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",tt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",tt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",tt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",tt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",tt.CANNOT_SET_PASSWORD="cannot_set_password",tt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",tt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",tt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",tt.USER_DOES_NOT_EXIST="user_does_not_exist",tt.ALREADY_EXISTS="resource_already_exists",tt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",tt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",tt.FEATURE_NOT_ENABLED="feature_not_enabled",tt.INSUFFICIENT_FUNDS="insufficient_funds",tt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",tt.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",tt.INVALID_SOLANA_TRANSACTION="invalid_solana_transaction",tt.INVALID_POLICY_FORMAT="invalid_policy_format",tt.INVALID_AGGREGATION_FORMAT="invalid_aggregation_format",tt.POLICY_VIOLATION="policy_violation",tt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",tt.INVALID_REQUEST="invalid_request",tt.SIGNUP_DISABLED="signup_disabled",tt);function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var EF={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function DE(t,e){function n(i,s,l){if(!(typeof document>"u")){l=Bg({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var d in l)l[d]&&(c+="; "+d,l[d]!==!0&&(c+="="+l[d].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],l={},c=0;c<s.length;c++){var d=s[c].split("="),f=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(l[p]=t.read(f,p),i===p)break}catch{}}return i?l[i]:l}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Bg({},s,{expires:-1}))},withAttributes:function(i){return DE(this.converter,Bg({},this.attributes,i))},withConverter:function(i){return DE(Bg({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Hn=DE(EF,{path:"/"});const DO=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let hd="privy:token",f_="privy-token",p_="privy:pat",jg="privy:refresh_token",m_="privy-refresh-token",fd="privy:id-token",g_="privy-id-token",zg="privy-session",N5=class extends wu{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(hd);try{return typeof e=="string"?new Cd(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(p_);try{return typeof e=="string"?new Cd(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(jg);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(fd);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Hn.get(zg);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=Cd.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await DO([this._storage.del(hd),this._storage.del(jg),this._storage.del(fd),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Hn.remove(f_),Hn.remove(m_),Hn.remove(g_),Hn.remove(zg),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(hd);if(await this._storage.put(hd,e),!this._isUsingServerCookies){let r=Cd.parse(e)?.expiration;Hn.set(f_,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(hd);await this._storage.del(hd),Hn.remove(f_),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(p_,e):await this._storage.del(p_)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(jg,e),this._isUsingServerCookies||(Hn.set(zg,"t",{sameSite:"Strict",secure:!0,expires:30}),Hn.set(m_,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(jg),Hn.remove(m_),Hn.remove(zg),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await DO([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(fd);if(await this._storage.put(fd,e),!this._isUsingServerCookies){let r=Cd.parse(e)?.expiration;Hn.set(g_,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(fd);await this._storage.del(fd),Hn.remove(g_),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=BA(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};N5.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var SF=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function AF(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const Fg=()=>{};let wl={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const TF=({level:t}={level:"ERROR"})=>({get level(){return t},error:wl[t]>=wl.ERROR?console.error:Fg,warn:wl[t]>=wl.WARN?console.warn:Fg,info:wl[t]>=wl.INFO?console.info:Fg,debug:wl[t]>=wl.DEBUG?console.debug:Fg});let y_="privy:caid",xF=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new Kt({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${Jj(e.path,n)}${AF(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:l=this._beforeRequest.bind(this)}){let c=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),d=await l(c),f=await this._fetch(c,d),p=await f.json();if(f.status>299)throw new o_({...p,status:f.status});return p}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:SF(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(dj,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(y_);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=RE()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(y_,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(y_)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(uj,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Kt({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new o_({code:RO.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage",status:401});try{this.logger.debug(`[privy:refresh] fetching: ${EO.path}`);let i=await this.fetch(EO,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&(i.token&&(await this.session.storeCustomerAccessToken(i.token),this.logger.debug("[privy:refresh] token stored (CAT)")),i.privy_access_token&&(await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] token stored (PAT)")),i.identity_token&&(this.logger.debug("[privy:refresh] token stored (IDT)"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),n||this.callbacks?.setUser?.(i.user),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof o_&&i.code===RO.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${RE()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.60.2",this._cache=new Map,this.logger=TF({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new N5({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=D5(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},CF=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(cz,{})}}constructor(e){this._privyInternal=e}};const P5=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",U5=t=>t?t.linked_accounts.filter(P5).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],NO=t=>U5(t).find((e=>e.wallet_index===0))??null,$5=t=>t?t.linked_accounts.filter(P5).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],IF=t=>$5(t).find((e=>e.wallet_index===0))??null,OF=(t,e)=>!(e==="off"||U5(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),kF=(t,e)=>!(e==="off"||$5(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),oa=async(t,e,n)=>{let r=OF(e.user,n?.ethereum?.createOnLogin??"off"),i=kF(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:NO(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:IF(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:NO(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let RF=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(mj,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await oa(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithToken(e){await this._privyInternal.fetch(gj,{body:{token:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},DF=class{async sendCode(e,n){return this._privyInternal.fetch(Lj,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(Mj,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let l=await oa(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async linkWithCode(e,n){await this._privyInternal.fetch(Bj,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(zj,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(jj,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},NF=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(yj,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(_j,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},l){let c=await this._privyInternal.fetch(wj,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let d=await oa(this._embedded,c,l?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(bj,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(vj,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},PF=class{async initializeAuth(){return await this._privyInternal.fetch(Ej,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(Sj,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let l=await oa(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}constructor(e,n){this._privyInternal=e,this._embedded=n}},UF=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(Aj,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await oa(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Ll="privy:state_code",Bl="privy:code_verifier";async function $F(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function MF(t){return crypto.getRandomValues(new Uint8Array(t))}function WA(){return BA(MF(36))}function M5(){return WA()}async function L5({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await $F(t,n);return BA(r)}}let LF=class{async generateURL(e,n){let r=WA(),i=M5(),s=await L5({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Bl,r),this._storage.put(Ll,i)]),this._privyInternal.fetch(Ij,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,l){let[c,d]=await Promise.all([this._storage.get(Bl),this._storage.get(Ll)]);if(d!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:d??"",returnedStateCode:n??""}),new Kt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let f=await this._privyInternal.fetch(Cj,{body:{authorization_code:e,code_type:i,state_code:d,code_verifier:c,mode:s}});await this._privyInternal.session.updateWithTokensResponse(f);let p=await oa(this._embedded,f,l?.embedded);return await Promise.all([this._storage.del(Bl),this._storage.del(Ll)]),this._privyInternal.callbacks?.setUser?.(p.user),p}async linkWithCode(e,n,r,i){let[s,l]=await Promise.all([this._storage.get(Bl),this._storage.get(Ll)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Kt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(Oj,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(c.oauth_tokens);let d=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Bl),this._storage.del(Ll)]),{user:d.user,identity_token:d.identity_token}}async unlink(e,n){await this._privyInternal.fetch(kj,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},BF=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch($j,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Pj,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Uj,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(Dj,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let l=await oa(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(Nj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await oa(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(Rj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},jF=class{async sendCode(e,n){return this._privyInternal.fetch(qj,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(Fj,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let l=await oa(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async linkWithCode(e,n){await this._privyInternal.fetch(Wj,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(Vj,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(Hj,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},zF=class{async unlinkWallet(e){await this._privyInternal.fetch(iz,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(nz,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let l=await this._privyInternal.refreshSession();return{user:l.user,identity_token:l.identity_token}}async loginWithSiwe(e,n,r,i,s){let l=n||this._wallet,c=r||this._preparedMessage;if(!l)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!c)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let d=await this._privyInternal.fetch(tz,{body:{signature:e,message:c,chainId:l.chainId,walletClientType:l.walletClientType??null,connectorType:l.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(d);let f=await oa(this._embedded,d,s?.embedded);return this._privyInternal.callbacks?.setUser?.(f.user),f}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(w5,{body:{address:e.address}}),l=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=l,{nonce:s,message:l}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},FF=class{async unlink({address:e}){await this._privyInternal.fetch(lz,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(oz,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:l}){let c=await this._privyInternal.fetch(az,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(c);let d=await oa(this._embedded,c,l?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(sz,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},qF=class{async link(e,n,r,i){await this._privyInternal.fetch(rz,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(w5,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},WF=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(Qj,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new RF(this._privyInternal,n),this.phone=new jF(this._privyInternal,n),this.email=new DF(this._privyInternal,n),this.oauth=new LF(this._privyInternal,n,r,i),this.guest=new UF(this._privyInternal,n),this.siwe=new zF(this._privyInternal,n),this.siws=new FF(this._privyInternal,n),this.smartWallet=new qF(this._privyInternal),this.passkey=new BF(this._privyInternal,n),this.farcaster=new NF(this._privyInternal,n),this.farcasterV2=new PF(this._privyInternal,n)}},HF=class{async initOnRampSession(e){return await this._privyInternal.fetch(hj,{body:e})}async getStatus(e){return await this._privyInternal.fetch(fj,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const VF={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let KF=new Set([fh.id,Vp.id,Gp.id,Yp.id,Kp.id,jA.id,FA.id]),GF=new Set([fh.id,Vp.id,zA.id,Gp.id,Yp.id,Kp.id]);function m2e(t,e){switch(e){case"native-currency":return KF.has(t);case"USDC":return GF.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function g2e(t,e){switch(t){case Vp.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Kp.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case Gp.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case jA.id:return"CELO_CELO";case Yp.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case FA.id:return"MON_MON";case fh.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let YF=class{async sign(e){return await this._privyInternal.fetch(uz,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=VF[n?"sandbox":"prod"],s=await D5(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new Vz({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let l=await s.json();return Array.isArray(l)?l.at(0):void 0}constructor(e){this._privyInternal=e}},ZF=class{constructor(e){this.moonpay=new YF(e),this.coinbase=new HF(e)}},XF=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Tj,{body:e})}constructor(e){this._privyInternal=e}},JF=class{async sendCode(e){return await this._privyInternal.fetch(xj,{body:e})}constructor(e){this._privyInternal=e}},QF=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new Kt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Kt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new JF(e),this.passkey=new XF(e)}},eq=class{async init(e){return this._privyInternal.fetch(Zj,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(Xj,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},tq=class{async generateURL(e){let n=WA(),r=M5(),i=await L5({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Bl,n),this._storage.put(Ll,r)]),this._privyInternal.fetch(Gj,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Bl),this._storage.get(Ll)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Kt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(Yj,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Bl),this._storage.del(Ll)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},nq=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(Kj,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new tq(this._privyInternal,n,r),this.icloudAuth=new eq(this._privyInternal)}},rq=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new xF({...n,appClientId:e}),this.mfa=new QF(this._privyInternal),this.mfaPromises=new fF,this.app=new fz(this._privyInternal),this.embeddedWallet=new hF(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new CF(this._privyInternal),this.auth=new WF(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new nq(this._privyInternal,n.storage,n.crypto),this.funding=new ZF(this._privyInternal),this.delegated=new Az(this._privyInternal),this.crossApp=new _5(this._privyInternal,n.storage)}};function Tr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var iq=0;function B5(t){return"__private_"+iq+++"_"+t}var Sn=B5("_wallet"),Xi=B5("_account");let sq=class{get standardWallet(){return Tr(this,Sn)[Sn]}get address(){return Tr(this,Xi)[Xi].address}async disconnect(){if(!Tr(this,Sn)[Sn].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Tr(this,Sn)[Sn].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Tr(this,Sn)[Sn].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await Tr(this,Sn)[Sn].features["solana:signMessage"].signMessage(...e.map((r=>({...r,account:Tr(this,Xi)[Xi]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!Tr(this,Sn)[Sn].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await Tr(this,Sn)[Sn].features["solana:signTransaction"].signTransaction(...e.map((r=>({...r,account:Tr(this,Xi)[Xi]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!Tr(this,Sn)[Sn].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await Tr(this,Sn)[Sn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:Tr(this,Xi)[Xi]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!Tr(this,Sn)[Sn].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Tr(this,Sn)[Sn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:Tr(this,Xi)[Xi]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Sn,{writable:!0,value:void 0}),Object.defineProperty(this,Xi,{writable:!0,value:void 0}),Tr(this,Sn)[Sn]=e,Tr(this,Xi)[Xi]=n}};const aq=new TextEncoder,j5=new TextDecoder,oq=t=>{let e=t;typeof e=="string"&&(e=aq.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},lq=t=>oq(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),cq=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},uq=t=>{let e=t;e instanceof Uint8Array&&(e=j5.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return cq(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class dq extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class Oc extends dq{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function hq(t){return typeof t=="object"&&t!==null}function fq(t){if(!hq(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Zy=lq,pq=uq;function PO(t){if(typeof t!="string")throw new Oc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Oc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Oc("Invalid JWT");if(!e)throw new Oc("JWTs must contain a payload");let r;try{r=pq(e)}catch{throw new Oc("Failed to base64url decode the payload")}let i;try{i=JSON.parse(j5.decode(r))}catch{throw new Oc("Failed to parse the decoded payload as JSON")}if(!fq(i))throw new Oc("Invalid JWT Claims Set");return i}const z5=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&t.length===42&&e.length===42&&Ri(t)===Ri(e);function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}var mq=/^\s+/,gq=/\s+$/;function Fe(t,e){if(t=t||"",e=e||{},t instanceof Fe)return t;if(!(this instanceof Fe))return new Fe(t,e);var n=yq(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Fe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,l,c;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*c},setAlpha:function(e){return this._a=F5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$O(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$O(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=UO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=UO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return MO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _q(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Nn(this._r,255)*100)+"%",g:Math.round(Nn(this._g,255)*100)+"%",b:Math.round(Nn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Nn(this._r,255)*100)+"%, "+Math.round(Nn(this._g,255)*100)+"%, "+Math.round(Nn(this._b,255)*100)+"%)":"rgba("+Math.round(Nn(this._r,255)*100)+"%, "+Math.round(Nn(this._g,255)*100)+"%, "+Math.round(Nn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Nq[MO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+LO(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Fe(e);r="#"+LO(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Fe(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Tq,arguments)},brighten:function(){return this._applyModification(xq,arguments)},darken:function(){return this._applyModification(Cq,arguments)},desaturate:function(){return this._applyModification(Eq,arguments)},saturate:function(){return this._applyModification(Sq,arguments)},greyscale:function(){return this._applyModification(Aq,arguments)},spin:function(){return this._applyModification(Iq,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Rq,arguments)},complement:function(){return this._applyCombination(Oq,arguments)},monochromatic:function(){return this._applyCombination(Dq,arguments)},splitcomplement:function(){return this._applyCombination(kq,arguments)},triad:function(){return this._applyCombination(BO,[3])},tetrad:function(){return this._applyCombination(BO,[4])}};Fe.fromRatio=function(t,e){if(Xy(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Hf(t[r]));t=n}return Fe(t,e)};function yq(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof t=="string"&&(t=Mq(t)),Xy(t)=="object"&&(oo(t.r)&&oo(t.g)&&oo(t.b)?(e=wq(t.r,t.g,t.b),l=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):oo(t.h)&&oo(t.s)&&oo(t.v)?(r=Hf(t.s),i=Hf(t.v),e=vq(t.h,r,i),l=!0,c="hsv"):oo(t.h)&&oo(t.s)&&oo(t.l)&&(r=Hf(t.s),s=Hf(t.l),e=bq(t.h,r,s),l=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=F5(n),{ok:l,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function wq(t,e,n){return{r:Nn(t,255)*255,g:Nn(e,255)*255,b:Nn(n,255)*255}}function UO(t,e,n){t=Nn(t,255),e=Nn(e,255),n=Nn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,l,c=(r+i)/2;if(r==i)s=l=0;else{var d=r-i;switch(l=c>.5?d/(2-r-i):d/(r+i),r){case t:s=(e-n)/d+(e<n?6:0);break;case e:s=(n-t)/d+2;break;case n:s=(t-e)/d+4;break}s/=6}return{h:s,s:l,l:c}}function bq(t,e,n){var r,i,s;t=Nn(t,360),e=Nn(e,100),n=Nn(n,100);function l(f,p,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?f+(p-f)*6*m:m<1/2?p:m<2/3?f+(p-f)*(2/3-m)*6:f}if(e===0)r=i=s=n;else{var c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;r=l(d,c,t+1/3),i=l(d,c,t),s=l(d,c,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function $O(t,e,n){t=Nn(t,255),e=Nn(e,255),n=Nn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,l,c=r,d=r-i;if(l=r===0?0:d/r,r==i)s=0;else{switch(r){case t:s=(e-n)/d+(e<n?6:0);break;case e:s=(n-t)/d+2;break;case n:s=(t-e)/d+4;break}s/=6}return{h:s,s:l,v:c}}function vq(t,e,n){t=Nn(t,360)*6,e=Nn(e,100),n=Nn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),l=n*(1-i*e),c=n*(1-(1-i)*e),d=r%6,f=[n,l,s,s,c,n][d],p=[c,n,n,l,s,s][d],m=[s,s,c,n,n,l][d];return{r:f*255,g:p*255,b:m*255}}function MO(t,e,n,r){var i=[na(Math.round(t).toString(16)),na(Math.round(e).toString(16)),na(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _q(t,e,n,r,i){var s=[na(Math.round(t).toString(16)),na(Math.round(e).toString(16)),na(Math.round(n).toString(16)),na(q5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function LO(t,e,n,r){var i=[na(q5(r)),na(Math.round(t).toString(16)),na(Math.round(e).toString(16)),na(Math.round(n).toString(16))];return i.join("")}Fe.equals=function(t,e){return!t||!e?!1:Fe(t).toRgbString()==Fe(e).toRgbString()};Fe.random=function(){return Fe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Eq(t,e){e=e===0?0:e||10;var n=Fe(t).toHsl();return n.s-=e/100,n.s=nb(n.s),Fe(n)}function Sq(t,e){e=e===0?0:e||10;var n=Fe(t).toHsl();return n.s+=e/100,n.s=nb(n.s),Fe(n)}function Aq(t){return Fe(t).desaturate(100)}function Tq(t,e){e=e===0?0:e||10;var n=Fe(t).toHsl();return n.l+=e/100,n.l=nb(n.l),Fe(n)}function xq(t,e){e=e===0?0:e||10;var n=Fe(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Fe(n)}function Cq(t,e){e=e===0?0:e||10;var n=Fe(t).toHsl();return n.l-=e/100,n.l=nb(n.l),Fe(n)}function Iq(t,e){var n=Fe(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Fe(n)}function Oq(t){var e=Fe(t).toHsl();return e.h=(e.h+180)%360,Fe(e)}function BO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Fe(t).toHsl(),r=[Fe(t)],i=360/e,s=1;s<e;s++)r.push(Fe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function kq(t){var e=Fe(t).toHsl(),n=e.h;return[Fe(t),Fe({h:(n+72)%360,s:e.s,l:e.l}),Fe({h:(n+216)%360,s:e.s,l:e.l})]}function Rq(t,e,n){e=e||6,n=n||30;var r=Fe(t).toHsl(),i=360/n,s=[Fe(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Fe(r));return s}function Dq(t,e){e=e||6;for(var n=Fe(t).toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/e;e--;)l.push(Fe({h:r,s:i,v:s})),s=(s+c)%1;return l}Fe.mix=function(t,e,n){n=n===0?0:n||50;var r=Fe(t).toRgb(),i=Fe(e).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Fe(l)};Fe.readability=function(t,e){var n=Fe(t),r=Fe(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Fe.isReadable=function(t,e,n){var r=Fe.readability(t,e),i,s;switch(s=!1,i=Lq(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Fe.mostReadable=function(t,e,n){var r=null,i=0,s,l,c,d;n=n||{},l=n.includeFallbackColors,c=n.level,d=n.size;for(var f=0;f<e.length;f++)s=Fe.readability(t,e[f]),s>i&&(i=s,r=Fe(e[f]));return Fe.isReadable(t,r,{level:c,size:d})||!l?r:(n.includeFallbackColors=!1,Fe.mostReadable(t,["#fff","#000"],n))};var NE=Fe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Nq=Fe.hexNames=Pq(NE);function Pq(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function F5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Nn(t,e){Uq(t)&&(t="100%");var n=$q(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function nb(t){return Math.min(1,Math.max(0,t))}function es(t){return parseInt(t,16)}function Uq(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function $q(t){return typeof t=="string"&&t.indexOf("%")!=-1}function na(t){return t.length==1?"0"+t:""+t}function Hf(t){return t<=1&&(t=t*100+"%"),t}function q5(t){return Math.round(parseFloat(t)*255).toString(16)}function jO(t){return es(t)/255}var Zs=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function oo(t){return!!Zs.CSS_UNIT.exec(t)}function Mq(t){t=t.replace(mq,"").replace(gq,"").toLowerCase();var e=!1;if(NE[t])t=NE[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Zs.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Zs.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Zs.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Zs.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Zs.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Zs.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Zs.hex8.exec(t))?{r:es(n[1]),g:es(n[2]),b:es(n[3]),a:jO(n[4]),format:e?"name":"hex8"}:(n=Zs.hex6.exec(t))?{r:es(n[1]),g:es(n[2]),b:es(n[3]),format:e?"name":"hex"}:(n=Zs.hex4.exec(t))?{r:es(n[1]+""+n[1]),g:es(n[2]+""+n[2]),b:es(n[3]+""+n[3]),a:jO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Zs.hex3.exec(t))?{r:es(n[1]+""+n[1]),g:es(n[2]+""+n[2]),b:es(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Lq(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const PE="https://auth.privy.io",Bq=2e4,C2e=1400,I2e=2500,O2e=4e3,jq="3.14.1",Vf="privy:token",zO="privy-token",w_="privy:refresh_token",zq="privy-refresh-token",Ay="privy:pat",FO="privy:id_token",qO="privy-id-token",b_="privy-session",UE="privy:caid",W5=t=>`privy:guest:${t}`,qg=t=>`privy:cross-app:${t}`,Jy="privy:state_code",wf="privy:code_verifier",Qy="privy:headless_oauth",op="privy:oauth_disable_signup",v_=t=>`privy:wallet:${t}`,H5="privy:connections",rb=12e4,k2e=1,WO="0x1",Fq=3e4,R2e="https://api.moonpay.com/v1",D2e="https://api.moonpay.com/v1",N2e="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",P2e="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",qq="deprecated",kl={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let Wq=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),HO=t=>Wq.has(t),VO=(t,e,n)=>n.indexOf(t)===e;const Hq=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(HO).filter(VO):t?t.filter(HO).filter(VO):kl.appearance.walletList;let Vq=/paymaster\.biconomy\.io\/api/i,Kq={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Gq=(t,e)=>t&&Vq.test(t)?Kq:e&&e.policy_id?{policyId:e.policy_id}:void 0;function Wg(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Fe({...t.toHsl(),l:n})}function __(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Yq(t,e){if(!t){let r=e?Kf:Ty;return{accent:Fe(r.background.interactive),accentLight:Fe(r.background.interactive),accentHover:Fe(r.background["interactive-hover"]),accentDark:Fe(r.background["interactive-clicked"]),accentDarkest:Fe(r.background["interactive-disabled"])}}let n=Fe(t);return{accent:n,accentLight:Wg(n,.15),accentHover:Wg(n,.3),accentDark:Wg(n,-.06),accentDarkest:Wg(n,-.6)}}function Zq({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Fe(t).getLuminance(),r=Fe(t).toHslString());let i=n?"dark":"light",s=n?Kf:Ty,{accent:l,accentLight:c,accentHover:d,accentDark:f,accentDarkest:p}=Yq(e,n),m=(function(b){let _=Fe(Ty.text.default),E=Fe(Kf.text.default),k=__(b,_),D=__(b,E),x=b.toHsl();return x.h>=220&&x.h<=300&&D>=3?Kf.text.default:k>D?Ty.text.default:Kf.text.default})(l),g=Fe(m),y=__(l,Fe(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:l.toHslString(),accentLight:c.toHslString(),accentHover:d.toHslString(),accentDark:f.toHslString(),accentDarkest:p.toHslString(),foregroundAccent:g.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:y?"1":"0",linkNavigationColor:y?l.toHslString():s.text.default,linkNavigationDecoration:y?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const Kf={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Ty={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function V5(t,e,n,r,i){let s,l,c,d,f,p,m,g,y,b,_,E,k,D,x,T,O,C,U=n?console.warn:()=>{},z=[];if(e?.loginMethods)for(let te of(s=e.loginMethods.includes("email"),l=e.loginMethods.includes("sms"),d=e.loginMethods.includes("wallet"),f=e.loginMethods.includes("google"),p=e.loginMethods.includes("twitter"),m=e.loginMethods.includes("discord"),_=e.loginMethods.includes("spotify"),E=e.loginMethods.includes("instagram"),g=e.loginMethods.includes("tiktok"),y=e.loginMethods.includes("line"),b=e.loginMethods.includes("twitch"),D=e.loginMethods.includes("github"),k=e.loginMethods.includes("linkedin"),x=e.loginMethods.includes("apple"),T=e.loginMethods.includes("farcaster"),O=e.loginMethods.includes("telegram"),c=e.loginMethods.includes("passkey"),e.loginMethods))typeof te=="string"&&te.startsWith("privy:")&&z.push(te);else s=t.email_auth,l=t.sms_auth,d=t.wallet_auth||t.solana_wallet_auth,f=t.google_oauth,p=t.twitter_oauth,m=t.discord_oauth,D=t.github_oauth,_=t.spotify_oauth,E=t.instagram_oauth,g=t.tiktok_oauth,y=t.line_oauth,b=t.twitch_oauth,k=t.linkedin_oauth,x=t.apple_oauth,T=t.farcaster_auth,O=t.telegram_auth,c=t.passkey_auth,C=t.custom_jwt_auth;t.passkey_auth&&(c=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(c=!1);let B=[s,l].filter(Boolean),q=[f,p,m,D,_,E,g,y,b,k,x,T,O].filter(Boolean),W=[d].filter(Boolean),K=e?.loginMethods?.includes("passkey")??!1,H=t.passkeys_for_signup_enabled??!1,G=[c&&(H||K)].filter(Boolean),A=[C].filter(Boolean);if(B.length+q.length+W.length+G.length+A.length+z.length===0)throw Error("You must enable at least one login method");let S=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;S&&W.length===0?(U("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),S=!1):S||q.length+B.length!==0||(U("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),S=!0);let P=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&U("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let $=Hq({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if(($.includes("wallet_connect_qr")||$.includes("wallet_connect"))&&$.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let R=(({input:te})=>{if(!te||!te.primary[0])return;let Ve=[te.primary[0]],rt=[];for(let Le of(te.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),te.primary.slice(1)))Ve.includes(Le)?console.warn(`Duplicated login method: ${Le}`):Ve.push(Le);for(let Le of te.overflow??[])Ve.includes(Le)||rt.includes(Le)?console.warn(`Duplicated login method: ${Le}`):rt.push(Le);return{primary:Ve,overflow:rt}})({input:e?.loginMethodsAndOrder}),L=e?.intl?.defaultCountry??"US",{chains:Y,defaultChain:Z}=(function({supportedChains:te,defaultChainFromConfig:Ve}){let rt;if(te){if(te.length===0)throw Error("`supportedChains` must contain at least one chain");rt=I5(te)}else rt=[...tb];let Le=te?rt[0]:fh,st=Ve??Le;if(!rt.find((De=>De.id===st.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:rt,defaultChain:st}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),ie=!!e?.defaultChain,ee=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,se=ee?"all-users":t.embedded_wallet_config.ethereum.create_on_login,Se=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let Ie=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,$e=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,xe=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??kl.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:Zq({backgroundTheme:e?.appearance?.theme??kl.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:S?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:$,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:te,solanaWalletAuth:Ve})=>te&&Ve?"ethereum-and-solana":te?"ethereum-only":Ve?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:d,email:s,sms:l,passkey:c,google:f,twitter:p,discord:m,github:D,spotify:_,instagram:E,tiktok:g,line:y,twitch:b,linkedin:k,apple:x,farcaster:T,telegram:O},globalDisablePasskeys:e?.globalDisablePasskeys??!1,customOAuthProviders:(t.custom_oauth_providers??[]).filter((te=>te.enabled!==!1)),crossAppProviders:z,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:R,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??kl.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:Y,defaultChain:Z,intl:{defaultCountry:L,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:ie,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:P},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!ee&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:ee?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??se},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??Se},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:ee?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:Ie,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??kl._render.standalone},fundingConfig:$e,fundingMethodConfig:{...e?.fundingMethodConfig??kl.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??kl.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??kl.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:xe?.enabled?{enabled:xe.enabled,smartWalletVersion:xe.smart_wallet_version,smartWalletType:xe.smart_wallet_type,configuredNetworks:xe.configured_networks.map((te=>({chainId:te.chain_id,bundlerUrl:te.bundler_url,paymasterUrl:te.paymaster_url,paymasterContext:Gq(te.paymaster_url,te.paymaster_context)})))}:{enabled:xe?.enabled??!1}}}const K5={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let HA=F.createContext({appConfig:V5(K5,void 0,!1),isServerConfigLoaded:!1});const Xq=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,l]=F.useState(null),c=F.useMemo((()=>V5(s??K5,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return F.useEffect((()=>{if(!s)return;let d=(function(m){if(!m)return{};let{appearance:g,supportedChains:y,defaultChain:b,externalWallets:_,...E}=m;return{...E,...y?{supportedChains:y.map((k=>k.id))}:void 0,...b?{defaultChain:b.id}:void 0,..._?{walletConnect:_.walletConnect?{enabled:_.walletConnect.enabled}:void 0,coinbaseWallet:_.coinbaseWallet,solana:{connectors:_.solana?.connectors?.get().map((k=>k.walletClientType))}}:void 0}})(r),f=(function(m,g=0){let y=3735928559^g,b=1103547991^g;for(let _,E=0;E<m.length;E++)y=Math.imul(y^(_=m.charCodeAt(E)),2654435761),b=Math.imul(b^_,1597334677);return y=Math.imul(y^y>>>16,2246822507)^Math.imul(b^b>>>13,3266489909),4294967296*(2097151&(b=Math.imul(b^b>>>16,2246822507)^Math.imul(y^y>>>13,3266489909)))+(y>>>0)})(JSON.stringify(d)).toString(),p=`privy:sent:${s.id}:${f}`;localStorage.getItem(p)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:d}),localStorage.setItem(p,"t"))}),[r,s]),F.useEffect((()=>{s||(async()=>{try{await e.initialize();let d=e.app.getConfig();d.custom_api_url&&n.updateApiUrl(d.custom_api_url),l(d)}catch(d){console.warn("Error generating app config: ",d)}})()}),[]),ae.jsx(HA.Provider,{value:{appConfig:c,isServerConfigLoaded:!!s},children:t})},os=()=>{let{appConfig:t}=F.useContext(HA);return t},G5=()=>{let{isServerConfigLoaded:t}=F.useContext(HA);return t},Jq=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Qq=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,eW=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function tW(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){nW(t);return}return e}function nW(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Gf(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!eW.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Jq.test(t)||Qq.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,tW)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const rW=/#/g,iW=/&/g,sW=/\//g,aW=/=/g,VA=/\+/g,oW=/%5e/gi,lW=/%60/gi,cW=/%7c/gi,uW=/%20/gi;function dW(t){return encodeURI(""+t).replace(cW,"|")}function $E(t){return dW(typeof t=="string"?t:JSON.stringify(t)).replace(VA,"%2B").replace(uW,"+").replace(rW,"%23").replace(iW,"%26").replace(lW,"`").replace(oW,"^").replace(sW,"%2F")}function E_(t){return $E(t).replace(aW,"%3D")}function Y5(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function hW(t){return Y5(t.replace(VA," "))}function fW(t){return Y5(t.replace(VA," "))}function pW(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=hW(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=fW(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function mW(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${E_(t)}=${$E(n)}`).join("&"):`${E_(t)}=${$E(e)}`:E_(t)}function gW(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>mW(e,t[e])).filter(Boolean).join("&")}const yW=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,wW=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,bW=/^([/\\]\s*){2,}[^/\\]/,vW=/^\.?\//;function Z5(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?yW.test(t):wW.test(t)||(e.acceptRelative?bW.test(t):!1)}function _W(t="",e){return t.endsWith("/")}function EW(t="",e){return(_W(t)?t.slice(0,-1):t)||"/"}function SW(t="",e){return t.endsWith("/")?t:t+"/"}function AW(t,e){if(xW(e)||Z5(t))return t;const n=EW(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return IW(n,t)}function TW(t,e){const n=OW(t),r={...pW(n.search),...e};return n.search=gW(r),kW(n)}function xW(t){return!t||t==="/"}function CW(t){return t&&t!=="/"}function IW(t,...e){let n=t||"";for(const r of e.filter(i=>CW(i)))if(n){const i=r.replace(vW,"");n=SW(n)+i}else n=r;return n}const X5=Symbol.for("ufo:protocolRelative");function OW(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,m,g=""]=n;return{protocol:m.toLowerCase(),pathname:g,href:m+g,auth:"",host:"",search:"",hash:""}}if(!Z5(t,{acceptRelative:!0}))return KO(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,l="",c=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:d,search:f,hash:p}=KO(c);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:l,pathname:d,search:f,hash:p,[X5]:!r}}function KO(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function kW(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[X5]?(t.protocol||"")+"//":"")+i+s+e+n+r}class J5 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function RW(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",l=`${i}: ${s}${e?` ${e}`:""}`,c=new J5(l,t.error?{cause:t.error}:void 0);for(const d of["request","options","response"])Object.defineProperty(c,d,{get(){return t[d]}});for(const[d,f]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,d,{get(){return t.response&&t.response[f]}});return c}const DW=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function GO(t="GET"){return DW.has(t.toUpperCase())}function NW(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const PW=new Set(["image/svg","application/xml","application/xhtml","application/html"]),UW=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function $W(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return UW.test(e)?"json":e==="text/event-stream"?"stream":PW.has(e)||e.startsWith("text/")?"text":"blob"}function MW(t,e,n,r){const i=LW(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function LW(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function Hg(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const BW=new Set([408,409,425,429,500,502,503,504]),jW=new Set([101,204,205,304]);function Q5(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(c){const d=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!d){let p;typeof c.options.retry=="number"?p=c.options.retry:p=GO(c.options.method)?0:1;const m=c.response&&c.response.status||500;if(p>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(m):BW.has(m))){const g=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return g>0&&await new Promise(y=>setTimeout(y,g)),s(c.request,{...c.options,retry:p-1})}}const f=RW(c);throw Error.captureStackTrace&&Error.captureStackTrace(f,s),f}const s=async function(d,f={}){const p={request:d,options:MW(d,f,t.defaults,n),response:void 0,error:void 0};if(p.options.method&&(p.options.method=p.options.method.toUpperCase()),p.options.onRequest&&(await Hg(p,p.options.onRequest),p.options.headers instanceof n||(p.options.headers=new n(p.options.headers||{}))),typeof p.request=="string"&&(p.options.baseURL&&(p.request=AW(p.request,p.options.baseURL)),p.options.query&&(p.request=TW(p.request,p.options.query),delete p.options.query),"query"in p.options&&delete p.options.query,"params"in p.options&&delete p.options.params),p.options.body&&GO(p.options.method))if(NW(p.options.body)){const y=p.options.headers.get("content-type");typeof p.options.body!="string"&&(p.options.body=y==="application/x-www-form-urlencoded"?new URLSearchParams(p.options.body).toString():JSON.stringify(p.options.body)),y||p.options.headers.set("content-type","application/json"),p.options.headers.has("accept")||p.options.headers.set("accept","application/json")}else("pipeTo"in p.options.body&&typeof p.options.body.pipeTo=="function"||typeof p.options.body.pipe=="function")&&("duplex"in p.options||(p.options.duplex="half"));let m;if(!p.options.signal&&p.options.timeout){const y=new r;m=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,y.abort(b)},p.options.timeout),p.options.signal=y.signal}try{p.response=await e(p.request,p.options)}catch(y){return p.error=y,p.options.onRequestError&&await Hg(p,p.options.onRequestError),await i(p)}finally{m&&clearTimeout(m)}if((p.response.body||p.response._bodyInit)&&!jW.has(p.response.status)&&p.options.method!=="HEAD"){const y=(p.options.parseResponse?"json":p.options.responseType)||$W(p.response.headers.get("content-type")||"");switch(y){case"json":{const b=await p.response.text(),_=p.options.parseResponse||Gf;p.response._data=_(b);break}case"stream":{p.response._data=p.response.body||p.response._bodyInit;break}default:p.response._data=await p.response[y]()}}return p.options.onResponse&&await Hg(p,p.options.onResponse),!p.options.ignoreResponseError&&p.response.status>=400&&p.response.status<600?(p.options.onResponseError&&await Hg(p,p.options.onResponseError),await i(p)):p.response},l=async function(d,f){return(await s(d,f))._data};return l.raw=s,l.native=(...c)=>e(...c),l.create=(c={},d={})=>Q5({...t,...d,defaults:{...t.defaults,...d.defaults,...c}}),l}const ew=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),zW=ew.fetch?(...t)=>ew.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),FW=ew.Headers,qW=ew.AbortController,WW=Q5({fetch:zW,Headers:FW,AbortController:qW});var at;let sc=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},tw=class extends sc{constructor(e,n,r,i,s,l){super(r,i,s),this.type=e,this.status=n,this.data=l}},oe=class extends sc{constructor(e,n,r){super(e,n,r),this.type="client_error"}},HW=class extends oe{constructor(){super("Request timed out",void 0,"client_request_timeout")}},In=class extends sc{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Lt=t=>{if(t instanceof sc)return t;if(!(t instanceof J5))return Dn(t);if(!t.response)return new tw("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new tw(e||"ApiError",t.response.status,n||r,t,i,t.data)},Dn=t=>t instanceof sc?t:t instanceof Error?new oe(t.message,t):new oe(`Internal error: ${t}`);var Ee=((at={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",at.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",at.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",at.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",at.INVALID_DATA="invalid_data",at.INVALID_CAPTCHA="invalid_captcha",at.LINKED_TO_ANOTHER_USER="linked_to_another_user",at.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",at.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",at.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",at.USER_EXITED_UPDATE_FLOW="exited_update_flow",at.ALLOWLIST_REJECTED="allowlist_rejected",at.OAUTH_USER_DENIED="oauth_user_denied",at.OAUTH_UNEXPECTED="oauth_unexpected",at.UNKNOWN_AUTH_ERROR="unknown_auth_error",at.USER_EXITED_AUTH_FLOW="exited_auth_flow",at.USER_EXITED_LINK_FLOW="exited_link_flow",at.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",at.MUST_BE_AUTHENTICATED="must_be_authenticated",at.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",at.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",at.CLIENT_REQUEST_TIMEOUT="client_request_timeout",at.INVALID_CREDENTIALS="invalid_credentials",at.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",at.UNKNOWN_MFA_ERROR="unknown_mfa_error",at.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",at.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",at.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",at.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",at.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",at.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",at.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",at.TRANSACTION_FAILURE="transaction_failure",at.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",at.NOT_SUPPORTED="not_supported",at.CAPTCHA_TIMEOUT="captcha_timeout",at.INVALID_MESSAGE="invalid_message",at.UNABLE_TO_SIGN="unable_to_sign",at.CAPTCHA_FAILURE="captcha_failure",at.CAPTCHA_DISABLED="captcha_disabled",at.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",at.TOO_MANY_REQUESTS="too_many_requests",at.USER_LIMIT_REACHED="max_accounts_reached",at.DISALLOWED_LOGIN_METHOD="disallowed_login_method",at.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",at.PASSKEY_NOT_ALLOWED="passkey_not_allowed",at.USER_DOES_NOT_EXIST="user_does_not_exist",at.INSUFFICIENT_BALANCE="insufficient_balance",at.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",at.BUFFER_NOT_DEFINED="buffer_not_defined",at.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",at.NO_SOLANA_ACCOUNTS="no_solana_accounts",at.UNKNOWN_FUNDING_ERROR="unknown_funding_error",at);let kc=class extends oe{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},z2e=class extends oe{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},q2e=class extends oe{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},H2e=class extends oe{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},YO=class extends In{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const pe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},G2e=t=>()=>{throw Error(t.trim())},e6=()=>{},t6=F.createContext({setAuthenticated:pe,setUser:pe,setIsNewUser:pe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:pe,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:pe,initializeWalletProxy:pe,getAuthMeta:pe,getAuthFlow:pe,closePrivyModal:pe,openPrivyModal:pe,connectWallet:pe,initLoginWithWallet:pe,loginWithWallet:pe,initLoginWithFarcaster:pe,loginWithFarcaster:pe,loginWithCode:pe,initLoginWithEmail:pe,initLoginWithSms:pe,initUpdateEmail:pe,initUpdatePhone:pe,resendEmailCode:pe,resendSmsCode:pe,initLoginWithHeadlessOAuth:pe,loginWithHeadlessOAuth:pe,crossAppAuthFlow:pe,initLoginWithOAuth:pe,loginWithOAuth:pe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:pe,initSignupWithPasskey:pe,signupWithPasskey:pe,initLoginWithPasskey:pe,loginWithPasskey:pe,initLinkWithPasskey:pe,linkWithPasskey:pe,refreshSessionAndUser:pe,walletProxy:null,createAnalyticsEvent:pe,acceptTerms:pe,getUsdTokenPrice:pe,getUsdPriceForSol:pe,getSplTokenMetadata:pe,recoverEmbeddedWallet:pe,updateWallets:pe,fundWallet:pe,openModal:pe,setReadyToTrue:pe,requestFarcasterSignerStatus:pe,initLoginWithTelegram:pe,loginWithTelegram:pe,generateSiweMessage:pe,generateSiweMessageForSmartWallet:pe,loginWithSiwe:pe,linkWithSiwe:pe,linkSmartWallet:pe,delegateWallet:pe,revokeDelegatedWallets:pe,connectCoinbaseSmartWallet:pe,connectBaseAccount:pe,initiateAccountTransfer:pe,emailOtpState:{status:"initial"},setEmailOtpState:pe,smsOtpState:{status:"initial"},setSmsOtpState:pe,siweState:{status:"initial"},setSiweState:pe,oAuthState:{status:"initial"},setOAuthState:pe,telegramAuthState:{status:"initial"},setTelegramAuthState:pe,isHeadlessOAuthLoading:!1,isHeadlessSigning:pe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:pe}),qo=()=>F.useContext(t6);function n6(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function pt(t){return t?new Date(1e3*t):null}function Br(t,e){return t.slice().sort(((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const Vl=t=>t?r6(t).find((e=>e.walletIndex===0))??null:null,r6=t=>t?i6(t,"ethereum"):[],i6=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),VW=t=>t?i6(t,"solana"):[],KA=t=>t?VW(t).find((e=>e.walletIndex===0))??null:null,ME=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),KW=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana")),Od=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&z5(n.address,e)))||null,S_=(t,e)=>t.find((n=>z5(n.address,e)))||null,Sp=t=>Vl(t)??KA(t);function Wr(t){if(!t)return null;let e=(function(T){let O=[];for(let C of T){let U=C.type;switch(C.type){case"wallet":let z={id:C.id,address:C.address,type:C.type,imported:C.imported,delegated:C.delegated,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at),chainType:C.chain_type,walletClientType:C.wallet_client_type,connectorType:C.connector_type,recoveryMethod:C.recovery_method,walletIndex:C.wallet_index,publicKey:C.public_key};O.push(z);break;case"smart_wallet":let B={address:C.address,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at),smartWalletType:C.smart_wallet_type,smartWalletVersion:C.smart_wallet_version};O.push(B);break;case"cross_app":let q={type:C.type,subject:C.subject,embeddedWallets:C.embedded_wallets,smartWallets:C.smart_wallets,providerApp:{id:C.provider_app_id},firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(q);break;case"email":let W={address:C.address,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(W);break;case"phone":let K={number:C.phoneNumber,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(K);break;case"google_oauth":let H={subject:C.subject,email:C.email,name:C.name,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(H);break;case"spotify_oauth":let G={subject:C.subject,email:C.email,name:C.name,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(G);break;case"instagram_oauth":let A={subject:C.subject,username:C.username,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(A);break;case"twitter_oauth":let S={subject:C.subject,username:C.username,name:C.name,type:C.type,profilePictureUrl:C.profile_picture_url,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(S);break;case"discord_oauth":let P={subject:C.subject,username:C.username,email:C.email,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(P);break;case"github_oauth":let $={subject:C.subject,username:C.username,name:C.name,email:C.email,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push($);break;case"tiktok_oauth":let R={subject:C.subject,username:C.username,name:C.name,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(R);break;case"line_oauth":let L={subject:C.subject,name:C.name,email:C.email,profilePictureUrl:C.profile_picture_url,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(L);break;case"twitch_oauth":let Y={subject:C.subject,username:C.username,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(Y);break;case"linkedin_oauth":let Z={subject:C.subject,name:C.name,email:C.email,vanityName:C.vanity_name,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(Z);break;case"apple_oauth":let ie={subject:C.subject,email:C.email,type:C.type,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(ie);break;case"custom_auth":O.push({type:C.type,customUserId:C.custom_user_id,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)});break;case"farcaster":let ee={type:C.type,fid:C.fid,ownerAddress:C.owner_address,displayName:C.display_name,username:C.username,bio:C.bio,pfp:C.profile_picture_url,url:C.homepage_url,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at),signerPublicKey:C.signer_public_key};O.push(ee);break;case"passkey":let se={type:C.type,enrolledInMfa:C.enrolled_in_mfa,credentialId:C.credential_id,publicKey:C.public_key,authenticatorName:C.authenticator_name,createdWithDevice:C.created_with_device,createdWithOs:C.created_with_os,createdWithBrowser:C.created_with_browser,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(se);break;case"telegram":let Se={type:C.type,telegramUserId:C.telegram_user_id,firstName:C.first_name,lastName:C.last_name,username:C.username,photoUrl:C.photo_url,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(Se);break;default:if(n6(C.type)){let Ie={type:C.type,subject:C.subject,name:C.name,username:C.username,email:C.email,profilePictureUrl:C.profile_picture_url,firstVerifiedAt:pt(C.first_verified_at),latestVerifiedAt:pt(C.latest_verified_at)};O.push(Ie);break}console.warn(`Unrecognized account type: ${U}. Please consider upgrading the Privy SDK.`)}}return O})(t.linked_accounts),n=Br(e,"wallet"),r=Br(e,"smart_wallet"),i=Br(e,"email"),s=Br(e,"phone"),l=Br(e,"google_oauth"),c=Br(e,"twitter_oauth"),d=Br(e,"discord_oauth"),f=Br(e,"github_oauth"),p=Br(e,"spotify_oauth"),m=Br(e,"instagram_oauth"),g=Br(e,"tiktok_oauth"),y=Br(e,"line_oauth"),b=Br(e,"twitch_oauth"),_=Br(e,"linkedin_oauth"),E=Br(e,"apple_oauth"),k=Br(e,"farcaster"),D=Br(e,"telegram"),x=t.mfa_methods.map((({type:T,verified_at:O})=>({type:T,verifiedAt:pt(O)})));return{id:t.id,createdAt:pt(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:l&&{subject:l.subject,email:l.email,name:l.name},twitter:c&&{subject:c.subject,username:c.username,name:c.name,profilePictureUrl:c.profilePictureUrl},discord:d&&{subject:d.subject,username:d.username,email:d.email},github:f&&{subject:f.subject,username:f.username,name:f.name,email:f.email},spotify:p&&{subject:p.subject,email:p.email,name:p.name},instagram:m&&{subject:m.subject,username:m.username},tiktok:g&&{subject:g.subject,username:g.username,name:g.name},line:y&&{subject:y.subject,name:y.name,email:y.email,profilePictureUrl:y.profilePictureUrl},twitch:b&&{subject:b.subject,username:b.username},linkedin:_&&{subject:_.subject,name:_.name,email:_.email,vanityName:_.vanityName},apple:E&&{subject:E.subject,email:E.email},farcaster:k&&{fid:k.fid,ownerAddress:k.ownerAddress,displayName:k.displayName,username:k.username,bio:k.bio,pfp:k.pfp,url:k.url,signerPublicKey:k.signerPublicKey},telegram:D&&{telegramUserId:D.telegramUserId,firstName:D.firstName,lastName:D.lastName,username:D.username,photoUrl:D.photoUrl},delegatedWallets:[],mfaMethods:x.map((T=>T.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function GW({src:t,...e}){return ae.jsx("img",{src:t,...e,style:{display:"none"}})}const s6=F.createContext({currentScreen:null,lastScreen:null,navigate:pe,navigateBack:pe,resetNavigation:pe,setModalData:pe,onUserCloseViaDialogOrKeybindRef:void 0}),YW=t=>{let e=os(),[n,r]=F.useState(t.initialScreen),i=F.useRef(null);F.useEffect((()=>{t.open||(i.current=null)}),[t.open]),F.useEffect((()=>{i.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return ae.jsxs(s6.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&ae.jsx(GW,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Kd=()=>F.useContext(s6),ph=F.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:pe,login:pe,connectOrCreateWallet:pe,linkEmail:pe,linkPhone:pe,linkFarcaster:pe,linkWallet:pe,startCrossAppAuthFlow:pe,linkGoogle:pe,linkTwitter:pe,linkTwitch:pe,linkDiscord:pe,linkGithub:pe,linkSpotify:pe,linkInstagram:pe,linkTelegram:pe,linkTiktok:pe,linkLine:pe,linkLinkedIn:pe,linkApple:pe,linkPasskey:pe,updateEmail:pe,updatePhone:pe,logout:pe,getAccessToken:pe,unlinkEmail:pe,unlinkPhone:pe,unlinkWallet:pe,unlinkGoogle:pe,unlinkTwitter:pe,unlinkTwitch:pe,unlinkDiscord:pe,unlinkGithub:pe,unlinkSpotify:pe,unlinkInstagram:pe,unlinkTiktok:pe,unlinkLine:pe,unlinkLinkedIn:pe,unlinkApple:pe,unlinkCrossAppAccount:pe,unlinkFarcaster:pe,unlinkTelegram:pe,unlinkPasskey:pe,signMessage:pe,signTypedData:pe,enrollInMfa:pe,initEnrollmentWithSms:pe,initEnrollmentWithTotp:pe,initEnrollmentWithPasskey:pe,promptMfa:pe,init:pe,submitEnrollmentWithSms:pe,submitEnrollmentWithTotp:pe,submitEnrollmentWithPasskey:pe,unenroll:pe,submit:pe,cancel:pe,sendTransaction:pe,signTransaction:pe,setWalletPassword:pe,setWalletRecovery:pe,requestFarcasterSignerFromWarpcast:pe,getFarcasterSignerPublicKey:pe,signFarcasterMessage:pe,signMessageWithCrossAppWallet:pe,signTypedDataWithCrossAppWallet:pe,sendTransactionWithCrossAppWallet:pe,signTransactionWithCrossAppWallet:pe,isModalOpen:!1,mfaMethods:[]}),mh=()=>F.useContext(ph),ns=t=>!!t.id&&t.recoveryMethod==="privy-v2",ZW=t=>t;function XW(t,e=ZW){const n=et.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return et.useDebugValue(n),n}const ZO=t=>{const e=A7(t),n=r=>XW(e,r);return Object.assign(n,e),n},ac=t=>t?ZO(t):ZO;var si=function(){return si=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},si.apply(this,arguments)};function Gd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var An="-ms-",lp="-moz-",Xt="-webkit-",a6="comm",ib="rule",GA="decl",JW="@import",QW="@namespace",o6="@keyframes",eH="@layer",l6=Math.abs,YA=String.fromCharCode,LE=Object.assign;function tH(t,e){return yr(t,0)^45?(((e<<2^yr(t,0))<<2^yr(t,1))<<2^yr(t,2))<<2^yr(t,3):0}function c6(t){return t.trim()}function vo(t,e){return(t=e.exec(t))?t[0]:t}function Tt(t,e,n){return t.replace(e,n)}function xy(t,e,n){return t.indexOf(e,n)}function yr(t,e){return t.charCodeAt(e)|0}function su(t,e,n){return t.slice(e,n)}function Qs(t){return t.length}function u6(t){return t.length}function Yf(t,e){return e.push(t),t}function nH(t,e){return t.map(e).join("")}function XO(t,e){return t.filter(function(n){return!vo(n,e)})}var sb=1,Yd=1,d6=0,Ms=0,lr=0,gh="";function ab(t,e,n,r,i,s,l,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:sb,column:Yd,length:l,return:"",siblings:c}}function Rl(t,e){return LE(ab("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function pd(t){for(;t.root;)t=Rl(t.root,{children:[t]});Yf(t,t.siblings)}function rH(){return lr}function iH(){return lr=Ms>0?yr(gh,--Ms):0,Yd--,lr===10&&(Yd=1,sb--),lr}function sa(){return lr=Ms<d6?yr(gh,Ms++):0,Yd++,lr===10&&(Yd=1,sb++),lr}function Kl(){return yr(gh,Ms)}function Cy(){return Ms}function ob(t,e){return su(gh,t,e)}function Ap(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sH(t){return sb=Yd=1,d6=Qs(gh=t),Ms=0,[]}function aH(t){return gh="",t}function A_(t){return c6(ob(Ms-1,BE(t===91?t+2:t===40?t+1:t)))}function oH(t){for(;(lr=Kl())&&lr<33;)sa();return Ap(t)>2||Ap(lr)>3?"":" "}function lH(t,e){for(;--e&&sa()&&!(lr<48||lr>102||lr>57&&lr<65||lr>70&&lr<97););return ob(t,Cy()+(e<6&&Kl()==32&&sa()==32))}function BE(t){for(;sa();)switch(lr){case t:return Ms;case 34:case 39:t!==34&&t!==39&&BE(lr);break;case 40:t===41&&BE(t);break;case 92:sa();break}return Ms}function cH(t,e){for(;sa()&&t+lr!==57;)if(t+lr===84&&Kl()===47)break;return"/*"+ob(e,Ms-1)+"*"+YA(t===47?t:sa())}function uH(t){for(;!Ap(Kl());)sa();return ob(t,Ms)}function dH(t){return aH(Iy("",null,null,null,[""],t=sH(t),0,[0],t))}function Iy(t,e,n,r,i,s,l,c,d){for(var f=0,p=0,m=l,g=0,y=0,b=0,_=1,E=1,k=1,D=0,x="",T=i,O=s,C=r,U=x;E;)switch(b=D,D=sa()){case 40:if(b!=108&&yr(U,m-1)==58){xy(U+=Tt(A_(D),"&","&\f"),"&\f",l6(f?c[f-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:U+=A_(D);break;case 9:case 10:case 13:case 32:U+=oH(b);break;case 92:U+=lH(Cy()-1,7);continue;case 47:switch(Kl()){case 42:case 47:Yf(hH(cH(sa(),Cy()),e,n,d),d),(Ap(b||1)==5||Ap(Kl()||1)==5)&&Qs(U)&&su(U,-1,void 0)!==" "&&(U+=" ");break;default:U+="/"}break;case 123*_:c[f++]=Qs(U)*k;case 125*_:case 59:case 0:switch(D){case 0:case 125:E=0;case 59+p:k==-1&&(U=Tt(U,/\f/g,"")),y>0&&(Qs(U)-m||_===0&&b===47)&&Yf(y>32?QO(U+";",r,n,m-1,d):QO(Tt(U," ","")+";",r,n,m-2,d),d);break;case 59:U+=";";default:if(Yf(C=JO(U,e,n,f,p,i,c,x,T=[],O=[],m,s),s),D===123)if(p===0)Iy(U,e,C,C,T,s,m,c,O);else{switch(g){case 99:if(yr(U,3)===110)break;case 108:if(yr(U,2)===97)break;default:p=0;case 100:case 109:case 115:}p?Iy(t,C,C,r&&Yf(JO(t,C,C,0,0,i,c,x,i,T=[],m,O),O),i,O,m,c,r?T:O):Iy(U,C,C,C,[""],O,0,c,O)}}f=p=y=0,_=k=1,x=U="",m=l;break;case 58:m=1+Qs(U),y=b;default:if(_<1){if(D==123)--_;else if(D==125&&_++==0&&iH()==125)continue}switch(U+=YA(D),D*_){case 38:k=p>0?1:(U+="\f",-1);break;case 44:c[f++]=(Qs(U)-1)*k,k=1;break;case 64:Kl()===45&&(U+=A_(sa())),g=Kl(),p=m=Qs(x=U+=uH(Cy())),D++;break;case 45:b===45&&Qs(U)==2&&(_=0)}}return s}function JO(t,e,n,r,i,s,l,c,d,f,p,m){for(var g=i-1,y=i===0?s:[""],b=u6(y),_=0,E=0,k=0;_<r;++_)for(var D=0,x=su(t,g+1,g=l6(E=l[_])),T=t;D<b;++D)(T=c6(E>0?y[D]+" "+x:Tt(x,/&\f/g,y[D])))&&(d[k++]=T);return ab(t,e,n,i===0?ib:c,d,f,p,m)}function hH(t,e,n,r){return ab(t,e,n,a6,YA(rH()),su(t,2,-2),0,r)}function QO(t,e,n,r,i){return ab(t,e,n,GA,su(t,0,r),su(t,r+1,-1),r,i)}function h6(t,e,n){switch(tH(t,e)){case 5103:return Xt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Xt+t+t;case 4855:return Xt+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return lp+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Xt+t+lp+t+An+t+t;case 5936:switch(yr(t,e+11)){case 114:return Xt+t+An+Tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Xt+t+An+Tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Xt+t+An+Tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Xt+t+An+t+t;case 6165:return Xt+t+An+"flex-"+t+t;case 5187:return Xt+t+Tt(t,/(\w+).+(:[^]+)/,Xt+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Xt+t+An+"flex-item-"+Tt(t,/flex-|-self/g,"")+(vo(t,/flex-|baseline/)?"":An+"grid-row-"+Tt(t,/flex-|-self/g,""))+t;case 4675:return Xt+t+An+"flex-line-pack"+Tt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Xt+t+An+Tt(t,"shrink","negative")+t;case 5292:return Xt+t+An+Tt(t,"basis","preferred-size")+t;case 6060:return Xt+"box-"+Tt(t,"-grow","")+Xt+t+An+Tt(t,"grow","positive")+t;case 4554:return Xt+Tt(t,/([^-])(transform)/g,"$1"+Xt+"$2")+t;case 6187:return Tt(Tt(Tt(t,/(zoom-|grab)/,Xt+"$1"),/(image-set)/,Xt+"$1"),t,"")+t;case 5495:case 3959:return Tt(t,/(image-set\([^]*)/,Xt+"$1$`$1");case 4968:return Tt(Tt(t,/(.+:)(flex-)?(.*)/,Xt+"box-pack:$3"+An+"flex-pack:$3"),/space-between/,"justify")+Xt+t+t;case 4200:if(!vo(t,/flex-|baseline/))return An+"grid-column-align"+su(t,e)+t;break;case 2592:case 3360:return An+Tt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,vo(r.props,/grid-\w+-end/)})?~xy(t+(n=n[e].value),"span",0)?t:An+Tt(t,"-start","")+t+An+"grid-row-span:"+(~xy(n,"span",0)?vo(n,/\d+/):+vo(n,/\d+/)-+vo(t,/\d+/))+";":An+Tt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return vo(r.props,/grid-\w+-start/)})?t:An+Tt(Tt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Tt(t,/(.+)-inline(.+)/,Xt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qs(t)-1-e>6)switch(yr(t,e+1)){case 109:if(yr(t,e+4)!==45)break;case 102:return Tt(t,/(.+:)(.+)-([^]+)/,"$1"+Xt+"$2-$3$1"+lp+(yr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xy(t,"stretch",0)?h6(Tt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Tt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,l,c,d,f){return An+i+":"+s+f+(l?An+i+"-span:"+(c?d:+d-+s)+f:"")+t});case 4949:if(yr(t,e+6)===121)return Tt(t,":",":"+Xt)+t;break;case 6444:switch(yr(t,yr(t,14)===45?18:11)){case 120:return Tt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xt+(yr(t,14)===45?"inline-":"")+"box$3$1"+Xt+"$2$3$1"+An+"$2box$3")+t;case 100:return Tt(t,":",":"+An)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Tt(t,"scroll-","scroll-snap-")+t}return t}function nw(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function fH(t,e,n,r){switch(t.type){case eH:if(t.children.length)break;case JW:case QW:case GA:return t.return=t.return||t.value;case a6:return"";case o6:return t.return=t.value+"{"+nw(t.children,r)+"}";case ib:if(!Qs(t.value=t.props.join(",")))return""}return Qs(n=nw(t.children,r))?t.return=t.value+"{"+n+"}":""}function pH(t){var e=u6(t);return function(n,r,i,s){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,s)||"";return l}}function mH(t){return function(e){e.root||(e=e.return)&&t(e)}}function gH(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case GA:t.return=h6(t.value,t.length,n);return;case o6:return nw([Rl(t,{value:Tt(t.value,"@","@"+Xt)})],r);case ib:if(t.length)return nH(n=t.props,function(i){switch(vo(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pd(Rl(t,{props:[Tt(i,/:(read-\w+)/,":"+lp+"$1")]})),pd(Rl(t,{props:[i]})),LE(t,{props:XO(n,r)});break;case"::placeholder":pd(Rl(t,{props:[Tt(i,/:(plac\w+)/,":"+Xt+"input-$1")]})),pd(Rl(t,{props:[Tt(i,/:(plac\w+)/,":"+lp+"$1")]})),pd(Rl(t,{props:[Tt(i,/:(plac\w+)/,An+"input-$1")]})),pd(Rl(t,{props:[i]})),LE(t,{props:XO(n,r)});break}return""})}}var yH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rs={},Zd=typeof process<"u"&&rs!==void 0&&(rs.REACT_APP_SC_ATTR||rs.SC_ATTR)||"data-styled",f6="active",p6="data-styled-version",lb="6.3.11",ZA=`/*!sc*/
`,cp=typeof window<"u"&&typeof document<"u",wH=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&rs!==void 0&&rs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&rs.REACT_APP_SC_DISABLE_SPEEDY!==""?rs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&rs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&rs!==void 0&&rs.SC_DISABLE_SPEEDY!==void 0&&rs.SC_DISABLE_SPEEDY!==""&&rs.SC_DISABLE_SPEEDY!=="false"&&rs.SC_DISABLE_SPEEDY),bH={};function Zp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Oy=new Map,rw=new Map,ky=1,Zf=function(t){if(Oy.has(t))return Oy.get(t);for(;rw.has(ky);)ky++;var e=ky++;return Oy.set(t,e),rw.set(e,t),e},vH=function(t,e){ky=e+1,Oy.set(t,e),rw.set(e,t)},XA=Object.freeze([]),Xd=Object.freeze({});function m6(t,e,n){return n===void 0&&(n=Xd),t.theme!==n.theme&&t.theme||e||n.theme}var g6=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),_H=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,EH=/(^-|-$)/g;function e3(t){return t.replace(_H,"-").replace(EH,"")}var SH=/(a)(d)/gi,t3=function(t){return String.fromCharCode(t+(t>25?39:97))};function jE(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=t3(e%52)+n;return(t3(e%52)+n).replace(SH,"$1-$2")}var T_,jc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},y6=function(t){return jc(5381,t)};function JA(t){return jE(y6(t)>>>0)}function AH(t){return t.displayName||t.name||"Component"}function x_(t){return typeof t=="string"&&!0}var w6=typeof Symbol=="function"&&Symbol.for,b6=w6?Symbol.for("react.memo"):60115,TH=w6?Symbol.for("react.forward_ref"):60112,xH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},v6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IH=((T_={})[TH]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T_[b6]=v6,T_);function n3(t){return("type"in(e=t)&&e.type.$$typeof)===b6?v6:"$$typeof"in t?IH[t.$$typeof]:xH;var e}var OH=Object.defineProperty,kH=Object.getOwnPropertyNames,r3=Object.getOwnPropertySymbols,RH=Object.getOwnPropertyDescriptor,DH=Object.getPrototypeOf,i3=Object.prototype;function _6(t,e,n){if(typeof e!="string"){if(i3){var r=DH(e);r&&r!==i3&&_6(t,r,n)}var i=kH(e);r3&&(i=i.concat(r3(e)));for(var s=n3(t),l=n3(e),c=0;c<i.length;++c){var d=i[c];if(!(d in CH||n&&n[d]||l&&d in l||s&&d in s)){var f=RH(e,d);try{OH(t,d,f)}catch{}}}}return t}function Jd(t){return typeof t=="function"}function QA(t){return typeof t=="object"&&"styledComponentId"in t}function Gc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function iw(t,e){return t.join("")}function Tp(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function zE(t,e,n){if(n===void 0&&(n=!1),!n&&!Tp(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=zE(t[r],e[r]);else if(Tp(e))for(var r in e)t[r]=zE(t[r],e[r]);return t}function e2(t,e){Object.defineProperty(t,"toString",{value:e})}var NH=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e,this._cGroup=0,this._cIndex=0}return t.prototype.indexOfGroup=function(e){if(e===this._cGroup)return this._cIndex;var n=this._cIndex;if(e>this._cGroup)for(var r=this._cGroup;r<e;r++)n+=this.groupSizes[r];else for(r=this._cGroup-1;r>=e;r--)n-=this.groupSizes[r];return this._cGroup=e,this._cIndex=n,n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Zp(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var l=i;l<s;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(e+1),d=0,f=(l=0,n.length);l<f;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[e]++,c++,d++);d>0&&this._cGroup>e&&(this._cIndex+=d)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r);n>0&&this._cGroup>e&&(this._cIndex-=n)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,l=i;l<s;l++)n+=this.tag.getRule(l)+ZA;return n},t})(),PH="style[".concat(Zd,"][").concat(p6,'="').concat(lb,'"]'),UH=new RegExp("^".concat(Zd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),s3=function(t){return typeof ShadowRoot<"u"&&t instanceof ShadowRoot||"host"in t&&t.nodeType===11},FE=function(t){if(!t)return document;if(s3(t))return t;if("getRootNode"in t){var e=t.getRootNode();if(s3(e))return e}return document},$H=function(t,e,n){for(var r,i=n.split(","),s=0,l=i.length;s<l;s++)(r=i[s])&&t.registerName(e,r)},MH=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(ZA),i=[],s=0,l=r.length;s<l;s++){var c=r[s].trim();if(c){var d=c.match(UH);if(d){var f=0|parseInt(d[1],10),p=d[2];f!==0&&(vH(p,f),$H(t,p,d[3]),t.getTag().insertRules(f,i)),i.length=0}else i.push(c)}}},C_=function(t){for(var e=FE(t.options.target).querySelectorAll(PH),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Zd)!==f6&&(MH(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function LH(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var E6=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(c){var d=Array.from(c.querySelectorAll("style[".concat(Zd,"]")));return d[d.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Zd,f6),r.setAttribute(p6,lb);var l=LH();return l&&r.setAttribute("nonce",l),n.insertBefore(r,s),r},BH=(function(){function t(e){this.element=E6(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){var r;if(n.sheet)return n.sheet;for(var i=(r=n.getRootNode().styleSheets)!==null&&r!==void 0?r:document.styleSheets,s=0,l=i.length;s<l;s++){var c=i[s];if(c.ownerNode===n)return c}throw Zp(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),jH=(function(){function t(e){this.element=E6(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),zH=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(e===this.length?this.rules.push(n):this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),a3=cp,FH={isServer:!cp,useCSSOMInjection:!wH},sw=(function(){function t(e,n,r){e===void 0&&(e=Xd),n===void 0&&(n={});var i=this;this.options=si(si({},FH),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&cp&&a3&&(a3=!1,C_(this)),e2(this,function(){return(function(s){for(var l=s.getTag(),c=l.length,d="",f=function(m){var g=(function(k){return rw.get(k)})(m);if(g===void 0)return"continue";var y=s.names.get(g);if(y===void 0||!y.size)return"continue";var b=l.getGroup(m);if(b.length===0)return"continue";var _=Zd+".g"+m+'[id="'+g+'"]',E="";y.forEach(function(k){k.length>0&&(E+=k+",")}),d+=b+_+'{content:"'+E+'"}'+ZA},p=0;p<c;p++)f(p);return d})(i)})}return t.registerId=function(e){return Zf(e)},t.prototype.rehydrate=function(){!this.server&&cp&&C_(this)},t.prototype.reconstructWithOptions=function(e,n){n===void 0&&(n=!0);var r=new t(si(si({},this.options),e),this.gs,n&&this.names||void 0);return!this.server&&cp&&e.target!==this.options.target&&FE(this.options.target)!==FE(e.target)&&C_(r),r},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new zH(i):r?new BH(i):new jH(i)})(this.options),new NH(e)));var e},t.prototype.hasNameForId=function(e,n){var r,i;return(i=(r=this.names.get(e))===null||r===void 0?void 0:r.has(n))!==null&&i!==void 0&&i},t.prototype.registerName=function(e,n){Zf(e);var r=this.names.get(e);r?r.add(n):this.names.set(e,new Set([n]))},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Zf(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Zf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),qH=/&/g,_o=47,zc=42;function o3(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var l=t.charCodeAt(s);if(r!==0||i||l!==_o||t.charCodeAt(s+1)!==zc)if(i)l===zc&&t.charCodeAt(s+1)===_o&&(i=!1,s++);else if(l!==34&&l!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(l===123)n++;else if(l===125&&--n<0)return!0}}else r===0?r=l:r===l&&(r=0);else i=!0,s++}return n!==0||r!==0}function S6(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=S6(n.children,e)),n})}function WH(t){var e,n,r,i=Xd,s=i.options,l=s===void 0?Xd:s,c=i.plugins,d=c===void 0?XA:c,f=function(b,_,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(e):b},p=d.slice();p.push(function(b){b.type===ib&&b.value.includes("&")&&(r||(r=new RegExp("\\".concat(n,"\\b"),"g")),b.props[0]=b.props[0].replace(qH,n).replace(r,f))}),l.prefix&&p.push(gH),p.push(fH);var m=[],g=pH(p.concat(mH(function(b){return m.push(b)}))),y=function(b,_,E,k){_===void 0&&(_=""),E===void 0&&(E=""),k===void 0&&(k="&"),e=k,n=_,r=void 0;var D=(function(T){if(!o3(T))return T;for(var O=T.length,C="",U=0,z=0,B=0,q=!1,W=0;W<O;W++){var K=T.charCodeAt(W);if(B!==0||q||K!==_o||T.charCodeAt(W+1)!==zc)if(q)K===zc&&T.charCodeAt(W+1)===_o&&(q=!1,W++);else if(K!==34&&K!==39||W!==0&&T.charCodeAt(W-1)===92){if(B===0)if(K===123)z++;else if(K===125){if(--z<0){for(var H=W+1;H<O;){var G=T.charCodeAt(H);if(G===59||G===10)break;H++}H<O&&T.charCodeAt(H)===59&&H++,z=0,W=H-1,U=H;continue}z===0&&(C+=T.substring(U,W+1),U=W+1)}else K===59&&z===0&&(C+=T.substring(U,W+1),U=W+1)}else B===0?B=K:B===K&&(B=0);else q=!0,W++}if(U<O){var A=T.substring(U);o3(A)||(C+=A)}return C})((function(T){if(T.indexOf("//")===-1)return T;for(var O=T.length,C=[],U=0,z=0,B=0,q=0;z<O;){var W=T.charCodeAt(z);if(W!==34&&W!==39||z!==0&&T.charCodeAt(z-1)===92)if(B===0)if(W===_o&&z+1<O&&T.charCodeAt(z+1)===zc){for(z+=2;z+1<O&&(T.charCodeAt(z)!==zc||T.charCodeAt(z+1)!==_o);)z++;z+=2}else if(W===40&&z>=3&&(32|T.charCodeAt(z-1))==108&&(32|T.charCodeAt(z-2))==114&&(32|T.charCodeAt(z-3))==117)q=1,z++;else if(q>0)W===41?q--:W===40&&q++,z++;else if(W===zc&&z+1<O&&T.charCodeAt(z+1)===_o)z>U&&C.push(T.substring(U,z)),U=z+=2;else if(W===_o&&z+1<O&&T.charCodeAt(z+1)===_o){for(z>U&&C.push(T.substring(U,z));z<O&&T.charCodeAt(z)!==10;)z++;U=z}else z++;else z++;else B===0?B=W:B===W&&(B=0),z++}return U===0?T:(U<O&&C.push(T.substring(U)),C.join(""))})(b)),x=dH(E||_?"".concat(E," ").concat(_," { ").concat(D," }"):D);return l.namespace&&(x=S6(x,l.namespace)),m=[],nw(x,g),m};return y.hash=d.length?d.reduce(function(b,_){return _.name||Zp(15),jc(b,_.name)},5381).toString():"",y}var HH=new sw,qE=WH(),A6=et.createContext({shouldForwardProp:void 0,styleSheet:HH,stylis:qE});A6.Consumer;et.createContext(void 0);function WE(){return et.useContext(A6)}var T6=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=qE);var l=r.name+s.hash;i.hasNameForId(r.id,l)||i.insertRules(r.id,l,s(r.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,e2(this,function(){throw Zp(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=qE),this.name+e.hash},t})();function VH(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in yH||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var KH=function(t){return t>="A"&&t<="Z"};function l3(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;KH(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var x6=function(t){return t==null||t===!1||t===""},C6=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!x6(r)&&(Array.isArray(r)&&r.isCss||Jd(r)?e.push("".concat(l3(n),":"),r,";"):Tp(r)?e.push.apply(e,Gd(Gd(["".concat(n," {")],C6(r),!1),["}"],!1)):e.push("".concat(l3(n),": ").concat(VH(n,r),";")))}return e};function Xl(t,e,n,r,i){if(i===void 0&&(i=[]),typeof t=="string")return t&&i.push(t),i;if(x6(t))return i;if(QA(t))return i.push(".".concat(t.styledComponentId)),i;if(Jd(t)){if(!Jd(l=t)||l.prototype&&l.prototype.isReactComponent||!e)return i.push(t),i;var s=t(e);return Xl(s,e,n,r,i)}var l;if(t instanceof T6)return n?(t.inject(n,r),i.push(t.getName(r))):i.push(t),i;if(Tp(t)){for(var c=C6(t),d=0;d<c.length;d++)i.push(c[d]);return i}if(!Array.isArray(t))return i.push(t.toString()),i;for(d=0;d<t.length;d++)Xl(t[d],e,n,r,i);return i}function I6(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Jd(n)&&!QA(n))return!1}return!0}var GH=y6(lb),YH=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&I6(e),this.componentId=n,this.baseHash=jc(GH,n),this.baseStyle=r,sw.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Gc(i,this.staticRulesId);else{var s=iw(Xl(this.rules,e,n,r)),l=jE(jc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=r(s,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}i=Gc(i,l),this.staticRulesId=l}else{for(var d=jc(this.baseHash,r.hash),f="",p=0;p<this.rules.length;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var g=iw(Xl(m,e,n,r));d=jc(jc(d,String(p)),g),f+=g}}if(f){var y=jE(d>>>0);if(!n.hasNameForId(this.componentId,y)){var b=r(f,".".concat(y),void 0,this.componentId);n.insertRules(this.componentId,y,b)}i=Gc(i,y)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(Zf(this.componentId)):""}},t})(),t2=et.createContext(void 0);t2.Consumer;var I_={};function ZH(t,e,n){var r=QA(t),i=t,s=!x_(t),l=e.attrs,c=l===void 0?XA:l,d=e.componentId,f=d===void 0?(function(T,O){var C=typeof T!="string"?"sc":e3(T);I_[C]=(I_[C]||0)+1;var U="".concat(C,"-").concat(JA(lb+C+I_[C]));return O?"".concat(O,"-").concat(U):U})(e.displayName,e.parentComponentId):d,p=e.displayName,m=p===void 0?(function(T){return x_(T)?"styled.".concat(T):"Styled(".concat(AH(T),")")})(t):p,g=e.displayName&&e.componentId?"".concat(e3(e.displayName),"-").concat(e.componentId):e.componentId||f,y=r&&i.attrs?i.attrs.concat(c).filter(Boolean):c,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;b=function(T,O){return _(T,O)&&E(T,O)}}else b=_}var k=new YH(n,g,r?i.componentStyle:void 0);function D(T,O){return(function(C,U,z){var B=C.attrs,q=C.componentStyle,W=C.defaultProps,K=C.foldedComponentIds,H=C.styledComponentId,G=C.target,A=et.useContext(t2),S=WE(),P=C.shouldForwardProp||S.shouldForwardProp,$=m6(U,A,W)||Xd,R=(function(Se,Ie,$e){for(var xe,te=si(si({},Ie),{className:void 0,theme:$e}),Ve=0;Ve<Se.length;Ve+=1){var rt=Jd(xe=Se[Ve])?xe(te):xe;for(var Le in rt)Le==="className"?te.className=Gc(te.className,rt[Le]):Le==="style"?te.style=si(si({},te.style),rt[Le]):te[Le]=rt[Le]}return"className"in Ie&&typeof Ie.className=="string"&&(te.className=Gc(te.className,Ie.className)),te})(B,U,$),L=R.as||G,Y={};for(var Z in R)R[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&R.theme===$||(Z==="forwardedAs"?Y.as=R.forwardedAs:P&&!P(Z,L)||(Y[Z]=R[Z]));var ie=(function(Se,Ie){var $e=WE(),xe=Se.generateAndInjectStyles(Ie,$e.styleSheet,$e.stylis);return xe})(q,R),ee=ie.className,se=Gc(K,H);return ee&&(se+=" "+ee),R.className&&(se+=" "+R.className),Y[x_(L)&&!g6.has(L)?"class":"className"]=se,z&&(Y.ref=z),F.createElement(L,Y)})(x,T,O)}D.displayName=m;var x=et.forwardRef(D);return x.attrs=y,x.componentStyle=k,x.displayName=m,x.shouldForwardProp=b,x.foldedComponentIds=r?Gc(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=g,x.target=r?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?(function(O){for(var C=[],U=1;U<arguments.length;U++)C[U-1]=arguments[U];for(var z=0,B=C;z<B.length;z++)zE(O,B[z],!0);return O})({},i.defaultProps,T):T}}),e2(x,function(){return".".concat(x.styledComponentId)}),s&&_6(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function c3(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var u3=function(t){return Object.assign(t,{isCss:!0})};function Xp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jd(t)||Tp(t))return u3(Xl(c3(XA,Gd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Xl(r):u3(Xl(c3(r,e)))}function HE(t,e,n){if(n===void 0&&(n=Xd),!e)throw Zp(1,e);var r=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];return t(e,n,Xp.apply(void 0,Gd([i],s,!1)))};return r.attrs=function(i){return HE(t,e,si(si({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return HE(t,e,si(si({},n),i))},r}var O6=function(t){return HE(ZH,t)},bn=O6;g6.forEach(function(t){bn[t]=O6(t)});var XH=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=I6(e),sw.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(iw(Xl(this.rules,n,r,i)),""),l=this.componentId+e;r.insertRules(l,l,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&sw.registerId(this.componentId+e);var s=this.componentId+e;this.isStatic?r.hasNameForId(s,s)||this.createStyles(e,n,r,i):(this.removeStyles(e,r),this.createStyles(e,n,r,i))},t})();function JH(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Xp.apply(void 0,Gd([t],e,!1)),i="sc-global-".concat(JA(JSON.stringify(r))),s=new XH(r,i),l=new WeakMap,c=function(f){var p=WE(),m=et.useContext(t2),g=l.get(p.styleSheet);return g===void 0&&(g=p.styleSheet.allocateGSInstance(i),l.set(p.styleSheet,g)),(typeof window>"u"||!p.styleSheet.server)&&d(g,f,p.styleSheet,m,p.stylis),et.useLayoutEffect(function(){return p.styleSheet.server||d(g,f,p.styleSheet,m,p.stylis),function(){var y;s.removeStyles(g,p.styleSheet),y=p.styleSheet.options.target,typeof document<"u"&&(y??document).querySelectorAll('style[data-styled-global="'.concat(i,'"]')).forEach(function(b){return b.remove()})}},[g,f,p.styleSheet,m,p.stylis]),null};function d(f,p,m,g,y){if(s.isStatic)s.renderStyles(f,bH,m,y);else{var b=si(si({},p),{theme:m6(p,g,c.defaultProps)});s.renderStyles(f,b,m,y)}}return et.memo(c)}function Y2e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=iw(Xp.apply(void 0,Gd([t],e,!1))),i=JA(r);return new T6(i,r)}var We={},Xf={exports:{}},QH=Xf.exports,d3;function eV(){return d3||(d3=1,(function(t,e){(function(n,r){var i="1.0.41",s="",l="?",c="function",d="undefined",f="object",p="string",m="major",g="model",y="name",b="type",_="vendor",E="version",k="architecture",D="console",x="mobile",T="tablet",O="smarttv",C="wearable",U="embedded",z=500,B="Amazon",q="Apple",W="ASUS",K="BlackBerry",H="Browser",G="Chrome",A="Edge",S="Firefox",P="Google",$="Honor",R="Huawei",L="Lenovo",Y="LG",Z="Microsoft",ie="Motorola",ee="Nvidia",se="OnePlus",Se="Opera",Ie="OPPO",$e="Samsung",xe="Sharp",te="Sony",Ve="Xiaomi",rt="Zebra",Le="Facebook",st="Chromium OS",De="Mac OS",ze=" Browser",vr=function(mt,bt){var qe={};for(var dt in mt)bt[dt]&&bt[dt].length%2===0?qe[dt]=bt[dt].concat(mt[dt]):qe[dt]=mt[dt];return qe},Mn=function(mt){for(var bt={},qe=0;qe<mt.length;qe++)bt[mt[qe].toUpperCase()]=mt[qe];return bt},lt=function(mt,bt){return typeof mt===p?Dr(bt).indexOf(Dr(mt))!==-1:!1},Dr=function(mt){return mt.toLowerCase()},yi=function(mt){return typeof mt===p?mt.replace(/[^\d\.]/g,s).split(".")[0]:r},oi=function(mt,bt){if(typeof mt===p)return mt=mt.replace(/^\s\s*/,s),typeof bt===d?mt:mt.substring(0,z)},Zn=function(mt,bt){for(var qe=0,dt,un,Bt,Ct,Ne,Er;qe<bt.length&&!Ne;){var Fi=bt[qe],us=bt[qe+1];for(dt=un=0;dt<Fi.length&&!Ne&&Fi[dt];)if(Ne=Fi[dt++].exec(mt),Ne)for(Bt=0;Bt<us.length;Bt++)Er=Ne[++un],Ct=us[Bt],typeof Ct===f&&Ct.length>0?Ct.length===2?typeof Ct[1]==c?this[Ct[0]]=Ct[1].call(this,Er):this[Ct[0]]=Ct[1]:Ct.length===3?typeof Ct[1]===c&&!(Ct[1].exec&&Ct[1].test)?this[Ct[0]]=Er?Ct[1].call(this,Er,Ct[2]):r:this[Ct[0]]=Er?Er.replace(Ct[1],Ct[2]):r:Ct.length===4&&(this[Ct[0]]=Er?Ct[3].call(this,Er.replace(Ct[1],Ct[2])):r):this[Ct]=Er||r;qe+=2}},Qt=function(mt,bt){for(var qe in bt)if(typeof bt[qe]===f&&bt[qe].length>0){for(var dt=0;dt<bt[qe].length;dt++)if(lt(bt[qe][dt],mt))return qe===l?r:qe}else if(lt(bt[qe],mt))return qe===l?r:qe;return bt.hasOwnProperty("*")?bt["*"]:mt},wi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},zi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Gt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,E],[/opios[\/ ]+([\w\.]+)/i],[E,[y,Se+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[y,Se+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[y,Se]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[y,"UC"+H]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[y,"Smart Lenovo "+H]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+H],E],[/\bfocus\/([\w\.]+)/i],[E,[y,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[y,Se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[y,Se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[y,"MIUI"+ze]],[/fxios\/([\w\.-]+)/i],[E,[y,S]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+ze],E],[/samsungbrowser\/([\w\.]+)/i],[E,[y,$e+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,Le],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[y,G+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,G+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[y,"Android "+H]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[E,Qt,wi]],[/(webkit|khtml)\/([\w\.]+)/i],[y,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[y,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[E,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[k,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[k,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[k,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[k,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[k,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[k,/ower/,s,Dr]],[/ sun4\w[;\)]/i],[[k,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[k,Dr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[_,$e],[b,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[_,$e],[b,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[_,q],[b,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[_,q],[b,T]],[/(macintosh);/i],[g,[_,q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[_,xe],[b,x]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[_,$],[b,T]],[/honor([-\w ]+)[;\)]/i],[g,[_,$],[b,x]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[_,R],[b,T]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[_,R],[b,x]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[_,Ve],[b,T]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[_,Ve],[b,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[_,Ie],[b,x]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[_,Qt,{OnePlus:["304","403","203"],"*":Ie}],[b,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[_,"Vivo"],[b,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[_,"Realme"],[b,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[_,ie],[b,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[_,ie],[b,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[_,Y],[b,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[_,Y],[b,x]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[_,L],[b,T]],[/(nokia) (t[12][01])/i],[_,g,[b,T]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[b,x],[_,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[_,P],[b,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[_,P],[b,x]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[_,te],[b,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[_,te],[b,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[_,se],[b,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[_,B],[b,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[_,B],[b,x]],[/(playbook);[-\w\),; ]+(rim)/i],[g,_,[b,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[_,K],[b,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[_,W],[b,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[_,W],[b,x]],[/(nexus 9)/i],[g,[_,"HTC"],[b,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[g,/_/g," "],[b,x]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[_,"TCL"],[b,T]],[/(itel) ((\w+))/i],[[_,Dr],g,[b,Qt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[_,"Acer"],[b,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[_,"Meizu"],[b,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[_,"Ulefone"],[b,x]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[_,"Energizer"],[b,x]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[_,"Cat"],[b,x]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[_,"Smartfren"],[b,x]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[_,"Nothing"],[b,x]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[_,"Archos"],[b,T]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[_,"Archos"],[b,x]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[_,g,[b,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[_,g,[b,x]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,g,[b,T]],[/(surface duo)/i],[g,[_,Z],[b,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[_,"Fairphone"],[b,x]],[/(u304aa)/i],[g,[_,"AT&T"],[b,x]],[/\bsie-(\w*)/i],[g,[_,"Siemens"],[b,x]],[/\b(rct\w+) b/i],[g,[_,"RCA"],[b,T]],[/\b(venue[\d ]{2,7}) b/i],[g,[_,"Dell"],[b,T]],[/\b(q(?:mv|ta)\w+) b/i],[g,[_,"Verizon"],[b,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[_,"Barnes & Noble"],[b,T]],[/\b(tm\d{3}\w+) b/i],[g,[_,"NuVision"],[b,T]],[/\b(k88) b/i],[g,[_,"ZTE"],[b,T]],[/\b(nx\d{3}j) b/i],[g,[_,"ZTE"],[b,x]],[/\b(gen\d{3}) b.+49h/i],[g,[_,"Swiss"],[b,x]],[/\b(zur\d{3}) b/i],[g,[_,"Swiss"],[b,T]],[/\b((zeki)?tb.*\b) b/i],[g,[_,"Zeki"],[b,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],g,[b,T]],[/\b(ns-?\w{0,9}) b/i],[g,[_,"Insignia"],[b,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[_,"NextBook"],[b,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],g,[b,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],g,[b,x]],[/\b(ph-1) /i],[g,[_,"Essential"],[b,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[_,"Envizen"],[b,T]],[/\b(trio[-\w\. ]+) b/i],[g,[_,"MachSpeed"],[b,T]],[/\btu_(1491) b/i],[g,[_,"Rotor"],[b,T]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[_,ee],[b,T]],[/(sprint) (\w+)/i],[_,g,[b,x]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[_,Z],[b,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[_,rt],[b,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[_,rt],[b,x]],[/smart-tv.+(samsung)/i],[_,[b,O]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[_,$e],[b,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,Y],[b,O]],[/(apple) ?tv/i],[_,[g,q+" TV"],[b,O]],[/crkey/i],[[g,G+"cast"],[_,P],[b,O]],[/droid.+aft(\w+)( bui|\))/i],[g,[_,B],[b,O]],[/(shield \w+ tv)/i],[g,[_,ee],[b,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[_,xe],[b,O]],[/(bravia[\w ]+)( bui|\))/i],[g,[_,te],[b,O]],[/(mi(tv|box)-?\w+) bui/i],[g,[_,Ve],[b,O]],[/Hbbtv.*(technisat) (.*);/i],[_,g,[b,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,oi],[g,oi],[b,O]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[b,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,g,[b,D]],[/droid.+; (shield)( bui|\))/i],[g,[_,ee],[b,D]],[/(playstation \w+)/i],[g,[_,te],[b,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[_,Z],[b,D]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[_,$e],[b,C]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[_,g,[b,C]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[_,Ie],[b,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[_,q],[b,C]],[/(opwwe\d{3})/i],[g,[_,se],[b,C]],[/(moto 360)/i],[g,[_,ie],[b,C]],[/(smartwatch 3)/i],[g,[_,te],[b,C]],[/(g watch r)/i],[g,[_,Y],[b,C]],[/droid.+; (wt63?0{2,3})\)/i],[g,[_,rt],[b,C]],[/droid.+; (glass) \d/i],[g,[_,P],[b,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[_,g,[b,C]],[/; (quest( \d| pro)?)/i],[g,[_,Le],[b,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[b,U]],[/(aeobc)\b/i],[g,[_,B],[b,U]],[/(homepod).+mac os/i],[g,[_,q],[b,U]],[/windows iot/i],[[b,U]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[b,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[b,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,x]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[y,A+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[y,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,E],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,E],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[y,[E,Qt,zi]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,Qt,zi],[y,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,De],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],E],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[y,E],[/\(bb(10);/i],[E,[y,K]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[y,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[y,G+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,st],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,E],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,E]]},Un=function(mt,bt){if(typeof mt===f&&(bt=mt,mt=r),!(this instanceof Un))return new Un(mt,bt).getResult();var qe=typeof n!==d&&n.navigator?n.navigator:r,dt=mt||(qe&&qe.userAgent?qe.userAgent:s),un=qe&&qe.userAgentData?qe.userAgentData:r,Bt=bt?vr(Gt,bt):Gt,Ct=qe&&qe.userAgent==dt;return this.getBrowser=function(){var Ne={};return Ne[y]=r,Ne[E]=r,Zn.call(Ne,dt,Bt.browser),Ne[m]=yi(Ne[E]),Ct&&qe&&qe.brave&&typeof qe.brave.isBrave==c&&(Ne[y]="Brave"),Ne},this.getCPU=function(){var Ne={};return Ne[k]=r,Zn.call(Ne,dt,Bt.cpu),Ne},this.getDevice=function(){var Ne={};return Ne[_]=r,Ne[g]=r,Ne[b]=r,Zn.call(Ne,dt,Bt.device),Ct&&!Ne[b]&&un&&un.mobile&&(Ne[b]=x),Ct&&Ne[g]=="Macintosh"&&qe&&typeof qe.standalone!==d&&qe.maxTouchPoints&&qe.maxTouchPoints>2&&(Ne[g]="iPad",Ne[b]=T),Ne},this.getEngine=function(){var Ne={};return Ne[y]=r,Ne[E]=r,Zn.call(Ne,dt,Bt.engine),Ne},this.getOS=function(){var Ne={};return Ne[y]=r,Ne[E]=r,Zn.call(Ne,dt,Bt.os),Ct&&!Ne[y]&&un&&un.platform&&un.platform!="Unknown"&&(Ne[y]=un.platform.replace(/chrome os/i,st).replace(/macos/i,De)),Ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return dt},this.setUA=function(Ne){return dt=typeof Ne===p&&Ne.length>z?oi(Ne,z):Ne,this},this.setUA(dt),this};Un.VERSION=i,Un.BROWSER=Mn([y,E,m]),Un.CPU=Mn([k]),Un.DEVICE=Mn([g,_,b,D,x,O,T,C,U]),Un.ENGINE=Un.OS=Mn([y,E]),t.exports&&(e=t.exports=Un),e.UAParser=Un;var _r=typeof n!==d&&(n.jQuery||n.Zepto);if(_r&&!_r.ua){var Nr=new Un;_r.ua=Nr.getResult(),_r.ua.get=function(){return Nr.getUA()},_r.ua.set=function(mt){Nr.setUA(mt);var bt=Nr.getResult();for(var qe in bt)_r.ua[qe]=bt[qe]}}})(typeof window=="object"?window:QH)})(Xf,Xf.exports)),Xf.exports}var h3;function tV(){if(h3)return We;h3=1,Object.defineProperty(We,"__esModule",{value:!0});function t(ue){return ue&&typeof ue=="object"&&"default"in ue?ue.default:ue}var e=MA(),n=t(e),r=eV(),i=new r,s=i.getBrowser(),l=i.getCPU(),c=i.getDevice(),d=i.getEngine(),f=i.getOS(),p=i.getUA(),m=function(V){return i.setUA(V)},g=function(V){if(!V){console.error("No userAgent string was provided");return}var J=new r(V);return{UA:J,browser:J.getBrowser(),cpu:J.getCPU(),device:J.getDevice(),engine:J.getEngine(),os:J.getOS(),ua:J.getUA(),setUserAgent:function(Ce){return J.setUA(Ce)}}},y=Object.freeze({ClientUAInstance:i,browser:s,cpu:l,device:c,engine:d,os:f,ua:p,setUa:m,parseUserAgent:g});function b(ue,V){var J=Object.keys(ue);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(ue);V&&(ye=ye.filter(function(Ce){return Object.getOwnPropertyDescriptor(ue,Ce).enumerable})),J.push.apply(J,ye)}return J}function _(ue){for(var V=1;V<arguments.length;V++){var J=arguments[V]!=null?arguments[V]:{};V%2?b(Object(J),!0).forEach(function(ye){T(ue,ye,J[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(J)):b(Object(J)).forEach(function(ye){Object.defineProperty(ue,ye,Object.getOwnPropertyDescriptor(J,ye))})}return ue}function E(ue){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(V){return typeof V}:E=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},E(ue)}function k(ue,V){if(!(ue instanceof V))throw new TypeError("Cannot call a class as a function")}function D(ue,V){for(var J=0;J<V.length;J++){var ye=V[J];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(ue,ye.key,ye)}}function x(ue,V,J){return V&&D(ue.prototype,V),ue}function T(ue,V,J){return V in ue?Object.defineProperty(ue,V,{value:J,enumerable:!0,configurable:!0,writable:!0}):ue[V]=J,ue}function O(){return O=Object.assign||function(ue){for(var V=1;V<arguments.length;V++){var J=arguments[V];for(var ye in J)Object.prototype.hasOwnProperty.call(J,ye)&&(ue[ye]=J[ye])}return ue},O.apply(this,arguments)}function C(ue,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(V&&V.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),V&&z(ue,V)}function U(ue){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},U(ue)}function z(ue,V){return z=Object.setPrototypeOf||function(ye,Ce){return ye.__proto__=Ce,ye},z(ue,V)}function B(ue,V){if(ue==null)return{};var J={},ye=Object.keys(ue),Ce,yt;for(yt=0;yt<ye.length;yt++)Ce=ye[yt],!(V.indexOf(Ce)>=0)&&(J[Ce]=ue[Ce]);return J}function q(ue,V){if(ue==null)return{};var J=B(ue,V),ye,Ce;if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(ue);for(Ce=0;Ce<yt.length;Ce++)ye=yt[Ce],!(V.indexOf(ye)>=0)&&Object.prototype.propertyIsEnumerable.call(ue,ye)&&(J[ye]=ue[ye])}return J}function W(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function K(ue,V){if(V&&(typeof V=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(ue)}function H(ue,V){return G(ue)||A(ue,V)||S(ue,V)||$()}function G(ue){if(Array.isArray(ue))return ue}function A(ue,V){var J=ue==null?null:typeof Symbol<"u"&&ue[Symbol.iterator]||ue["@@iterator"];if(J!=null){var ye=[],Ce=!0,yt=!1,vn,Pr;try{for(J=J.call(ue);!(Ce=(vn=J.next()).done)&&(ye.push(vn.value),!(V&&ye.length===V));Ce=!0);}catch(hr){yt=!0,Pr=hr}finally{try{!Ce&&J.return!=null&&J.return()}finally{if(yt)throw Pr}}return ye}}function S(ue,V){if(ue){if(typeof ue=="string")return P(ue,V);var J=Object.prototype.toString.call(ue).slice(8,-1);if(J==="Object"&&ue.constructor&&(J=ue.constructor.name),J==="Map"||J==="Set")return Array.from(ue);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return P(ue,V)}}function P(ue,V){(V==null||V>ue.length)&&(V=ue.length);for(var J=0,ye=new Array(V);J<V;J++)ye[J]=ue[J];return ye}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},L={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Y={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Z={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},ie=function(V){switch(V){case R.Mobile:return{isMobile:!0};case R.Tablet:return{isTablet:!0};case R.SmartTv:return{isSmartTV:!0};case R.Console:return{isConsole:!0};case R.Wearable:return{isWearable:!0};case R.Browser:return{isBrowser:!0};case R.Embedded:return{isEmbedded:!0};default:return Z}},ee=function(V){return m(V)},se=function(V){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return V||J},Se=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},Ie=function(V){var J=Se();return J&&J.platform&&(J.platform.indexOf(V)!==-1||J.platform==="MacIntel"&&J.maxTouchPoints>1&&!window.MSStream)},$e=function(V,J,ye,Ce,yt){return{isBrowser:V,browserMajorVersion:se(J.major),browserFullVersion:se(J.version),browserName:se(J.name),engineName:se(ye.name),engineVersion:se(ye.version),osName:se(Ce.name),osVersion:se(Ce.version),userAgent:se(yt)}},xe=function(V,J,ye,Ce){return _({},V,{vendor:se(J.vendor),model:se(J.model),os:se(ye.name),osVersion:se(ye.version),ua:se(Ce)})},te=function(V,J,ye,Ce){return{isSmartTV:V,engineName:se(J.name),engineVersion:se(J.version),osName:se(ye.name),osVersion:se(ye.version),userAgent:se(Ce)}},Ve=function(V,J,ye,Ce){return{isConsole:V,engineName:se(J.name),engineVersion:se(J.version),osName:se(ye.name),osVersion:se(ye.version),userAgent:se(Ce)}},rt=function(V,J,ye,Ce){return{isWearable:V,engineName:se(J.name),engineVersion:se(J.version),osName:se(ye.name),osVersion:se(ye.version),userAgent:se(Ce)}},Le=function(V,J,ye,Ce,yt){return{isEmbedded:V,vendor:se(J.vendor),model:se(J.model),engineName:se(ye.name),engineVersion:se(ye.version),osName:se(Ce.name),osVersion:se(Ce.version),userAgent:se(yt)}};function st(ue){var V=ue?g(ue):y,J=V.device,ye=V.browser,Ce=V.engine,yt=V.os,vn=V.ua,Pr=ie(J.type),hr=Pr.isBrowser,Wa=Pr.isMobile,Nu=Pr.isTablet,Go=Pr.isSmartTV,Dm=Pr.isConsole,Pu=Pr.isWearable,Uu=Pr.isEmbedded;if(hr)return $e(hr,ye,Ce,yt,vn);if(Go)return te(Go,Ce,yt,vn);if(Dm)return Ve(Dm,Ce,yt,vn);if(Wa||Nu)return xe(Pr,J,yt,vn);if(Pu)return rt(Pu,Ce,yt,vn);if(Uu)return Le(Uu,J,Ce,yt,vn)}var De=function(V){var J=V.type;return J===R.Mobile},ze=function(V){var J=V.type;return J===R.Tablet},vr=function(V){var J=V.type;return J===R.Mobile||J===R.Tablet},Mn=function(V){var J=V.type;return J===R.SmartTv},lt=function(V){var J=V.type;return J===R.Browser},Dr=function(V){var J=V.type;return J===R.Wearable},yi=function(V){var J=V.type;return J===R.Console},oi=function(V){var J=V.type;return J===R.Embedded},Zn=function(V){var J=V.vendor;return se(J)},Qt=function(V){var J=V.model;return se(J)},wi=function(V){var J=V.type;return se(J,"browser")},zi=function(V){var J=V.name;return J===Y.Android},Gt=function(V){var J=V.name;return J===Y.Windows},Un=function(V){var J=V.name;return J===Y.MAC_OS},_r=function(V){var J=V.name;return J===Y.WindowsPhone},Nr=function(V){var J=V.name;return J===Y.IOS},mt=function(V){var J=V.version;return se(J)},bt=function(V){var J=V.name;return se(J)},qe=function(V){var J=V.name;return J===L.Chrome},dt=function(V){var J=V.name;return J===L.Firefox},un=function(V){var J=V.name;return J===L.Chromium},Bt=function(V){var J=V.name;return J===L.Edge},Ct=function(V){var J=V.name;return J===L.Yandex},Ne=function(V){var J=V.name;return J===L.Safari||J===L.MobileSafari},Er=function(V){var J=V.name;return J===L.MobileSafari},Fi=function(V){var J=V.name;return J===L.Opera},us=function(V){var J=V.name;return J===L.InternetExplorer||J===L.Ie},ua=function(V){var J=V.name;return J===L.MIUI},ds=function(V){var J=V.name;return J===L.SamsungBrowser},N=function(V){var J=V.version;return se(J)},j=function(V){var J=V.major;return se(J)},ne=function(V){var J=V.name;return se(J)},Q=function(V){var J=V.name;return se(J)},le=function(V){var J=V.version;return se(J)},de=function(){var V=Se(),J=V&&V.userAgent&&V.userAgent.toLowerCase();return typeof J=="string"?/electron/.test(J):!1},_e=function(V){return typeof V=="string"&&V.indexOf("Edg/")!==-1},Re=function(){var V=Se();return V&&(/iPad|iPhone|iPod/.test(V.platform)||V.platform==="MacIntel"&&V.maxTouchPoints>1)&&!window.MSStream},Ye=function(){return Ie("iPad")},gt=function(){return Ie("iPhone")},jt=function(){return Ie("iPod")},Mt=function(V){return se(V)};function sn(ue){var V=ue||y,J=V.device,ye=V.browser,Ce=V.os,yt=V.engine,vn=V.ua;return{isSmartTV:Mn(J),isConsole:yi(J),isWearable:Dr(J),isEmbedded:oi(J),isMobileSafari:Er(ye)||Ye(),isChromium:un(ye),isMobile:vr(J)||Ye(),isMobileOnly:De(J),isTablet:ze(J)||Ye(),isBrowser:lt(J),isDesktop:lt(J),isAndroid:zi(Ce),isWinPhone:_r(Ce),isIOS:Nr(Ce)||Ye(),isChrome:qe(ye),isFirefox:dt(ye),isSafari:Ne(ye),isOpera:Fi(ye),isIE:us(ye),osVersion:mt(Ce),osName:bt(Ce),fullBrowserVersion:N(ye),browserVersion:j(ye),browserName:ne(ye),mobileVendor:Zn(J),mobileModel:Qt(J),engineName:Q(yt),engineVersion:le(yt),getUA:Mt(vn),isEdge:Bt(ye)||_e(vn),isYandex:Ct(ye),deviceType:wi(J),isIOS13:Re(),isIPad13:Ye(),isIPhone13:gt(),isIPod13:jt(),isElectron:de(),isEdgeChromium:_e(vn),isLegacyEdge:Bt(ye)&&!_e(vn),isWindows:Gt(Ce),isMacOs:Un(Ce),isMIUI:ua(ye),isSamsungBrowser:ds(ye)}}var Qe=Mn(c),xt=yi(c),St=Dr(c),Nt=oi(c),ur=Er(s)||Ye(),Sr=un(s),zn=vr(c)||Ye(),li=De(c),dn=ze(c)||Ye(),kn=lt(c),qa=lt(c),qi=zi(f),hs=_r(f),vt=Nr(f)||Ye(),Yt=qe(s),Ge=dt(s),$n=Ne(s),Jr=Fi(s),dr=us(s),ci=mt(f),Sh=bt(f),Iu=N(s),Em=j(s),ev=ne(s),Ou=Zn(c),ku=Qt(c),zs=Q(d),bi=le(d),Sm=Mt(p),tv=Bt(s)||_e(p),Ah=Ct(s),Am=wi(c),Ru=Re(),nv=Ye(),vi=gt(),Th=jt(),Tm=de(),xh=_e(p),Wo=Bt(s)&&!_e(p),xm=Gt(f),Cm=Un(f),Ho=ua(s),rv=ds(s),Im=function(V){if(!V||typeof V!="string"){console.error("No valid user agent string was provided");return}var J=g(V),ye=J.device,Ce=J.browser,yt=J.os,vn=J.engine,Pr=J.ua;return sn({device:ye,browser:Ce,os:yt,engine:vn,ua:Pr})},Om=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return qi?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Ch=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return kn?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},iv=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return dr?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},sv=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return vt?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Du=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return zn?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Fs=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return dn?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Ih=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return hs?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Oh=function(V){var J=V.renderWithFragment,ye=V.children;V.viewClassName,V.style;var Ce=q(V,["renderWithFragment","children","viewClassName","style"]);return li?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Vo=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return Qe?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},Ko=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return xt?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},km=function(V){var J=V.renderWithFragment,ye=V.children,Ce=q(V,["renderWithFragment","children"]);return St?J?n.createElement(e.Fragment,null,ye):n.createElement("div",Ce,ye):null},kh=function(V){var J=V.renderWithFragment,ye=V.children;V.viewClassName,V.style;var Ce=V.condition,yt=q(V,["renderWithFragment","children","viewClassName","style","condition"]);return Ce?J?n.createElement(e.Fragment,null,ye):n.createElement("div",yt,ye):null};function Rm(ue){return(function(V){C(J,V);function J(ye){var Ce;return k(this,J),Ce=K(this,U(J).call(this,ye)),Ce.isEventListenerAdded=!1,Ce.handleOrientationChange=Ce.handleOrientationChange.bind(W(Ce)),Ce.onOrientationChange=Ce.onOrientationChange.bind(W(Ce)),Ce.onPageLoad=Ce.onPageLoad.bind(W(Ce)),Ce.state={isLandscape:!1,isPortrait:!1},Ce}return x(J,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Ce=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Ce===0,isLandscape:Ce===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":E(window))!==void 0&&zn&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(ue,O({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),J})(n.Component)}function dc(){var ue=e.useState(function(){var yt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:yt===0,isLandscape:yt===90,orientation:yt===0?"portrait":"landscape"}}),V=H(ue,2),J=V[0],ye=V[1],Ce=e.useCallback(function(){var yt=window.innerWidth>window.innerHeight?90:0,vn={isPortrait:yt===0,isLandscape:yt===90,orientation:yt===0?"portrait":"landscape"};J.orientation!==vn.orientation&&ye(vn)},[J.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":E(window))!==void 0&&zn&&(Ce(),window.addEventListener("load",Ce,!1),window.addEventListener("resize",Ce,!1)),function(){window.removeEventListener("resize",Ce,!1),window.removeEventListener("load",Ce,!1)}},[Ce]),J}function fs(ue){var V=ue||window.navigator.userAgent;return g(V)}function Rh(ue){var V=ue||window.navigator.userAgent,J=fs(V),ye=sn(J);return[ye,J]}return We.AndroidView=Om,We.BrowserTypes=L,We.BrowserView=Ch,We.ConsoleView=Ko,We.CustomView=kh,We.IEView=iv,We.IOSView=sv,We.MobileOnlyView=Oh,We.MobileView=Du,We.OsTypes=Y,We.SmartTVView=Vo,We.TabletView=Fs,We.WearableView=km,We.WinPhoneView=Ih,We.browserName=ev,We.browserVersion=Em,We.deviceDetect=st,We.deviceType=Am,We.engineName=zs,We.engineVersion=bi,We.fullBrowserVersion=Iu,We.getSelectorsByUserAgent=Im,We.getUA=Sm,We.isAndroid=qi,We.isBrowser=kn,We.isChrome=Yt,We.isChromium=Sr,We.isConsole=xt,We.isDesktop=qa,We.isEdge=tv,We.isEdgeChromium=xh,We.isElectron=Tm,We.isEmbedded=Nt,We.isFirefox=Ge,We.isIE=dr,We.isIOS=vt,We.isIOS13=Ru,We.isIPad13=nv,We.isIPhone13=vi,We.isIPod13=Th,We.isLegacyEdge=Wo,We.isMIUI=Ho,We.isMacOs=Cm,We.isMobile=zn,We.isMobileOnly=li,We.isMobileSafari=ur,We.isOpera=Jr,We.isSafari=$n,We.isSamsungBrowser=rv,We.isSmartTV=Qe,We.isTablet=dn,We.isWearable=St,We.isWinPhone=hs,We.isWindows=xm,We.isYandex=Ah,We.mobileModel=ku,We.mobileVendor=Ou,We.osName=Sh,We.osVersion=ci,We.parseUserAgent=g,We.setUserAgent=ee,We.useDeviceData=fs,We.useDeviceSelectors=Rh,We.useMobileOrientation=dc,We.withOrientationChange=Rm,We}var $a=tV();const aw=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},jl=(t,e)=>{if(e?.imported)return aw(e);let n=Sp(t);if(!n)throw Error("Failed to find primary wallet");return aw(n)},k6=F.createContext(null);function nV(){let t=F.useContext(k6);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}let rV=class extends In{constructor(){super("Wallet timeout"),this.type="wallet_error"}};const oc=t=>t instanceof In?t:t?.code?new Ea(t):new In("Unknown connector error",t);let iV=class extends sc{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},Ea=class extends iV{constructor(e){super(e.message,e.code,e.data);let n=Object.values(Id).find((r=>r.eipCode===e.code));this.details=n||Id.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Id.E32002_CONNECTION_ALREADY_PENDING:this.details=Id.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Id.E32002_WALLET_LOCKED))}};const Q2e={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Id};let R6=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}};function VE(){try{let t="privy:__session_storage__test",e=new R6;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var nt=typeof window<"u"&&window.localStorage?new R6:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let D6=class extends wu{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Ry=()=>{let t=nt.get(H5);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let sV=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function aV(t){return t.toLowerCase().split(" ").join("_")}let oV=class extends D6{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new sq({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:f3(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){if(e.showPrompt)try{await this.promptConnection()}catch(n){throw this._wallet.accounts.length===0?new YO:n}if(!await this.isConnected())throw new YO;return await this.syncAccounts(),this.getConnectedWallet()}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!sV.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||Ry().some((({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask")))}constructor(e,n){super(aV(f3(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await this.wallet.features["standard:disconnect"]?.disconnect().catch((r=>console.error("Error disconnecting",r))),await this.syncAccounts()},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw oc(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function f3(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const rTe=({style:t,...e})=>{let n=os();return ae.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[ae.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),ae.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:ae.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),ae.jsx("defs",{children:ae.jsx("clipPath",{id:"clip0_1765_9946",children:ae.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},lV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function cb(t){return["ethereum","solana"].includes(t.chainType)}function N6(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const n2=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),p3={[fh.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[C5.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[zA.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[T5.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Yp.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[x5.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Gp.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[A5.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Kp.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[S5.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Vp.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[E5.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",[Hz.id]:"0xb88339CB7199b77E23DB6E890353E22632Ba630f",[FA.id]:"0x754704Bc059F8C67012fEd69BC8A327a5aafb603"},m3=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:l,onError:c})=>{let d,f;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let p=n2(e.fundingConfig.options);if(p.length<1)throw Error("Wallet funding is not enabled");d=i||(n?.chain?n.chain.id:N6(e.fundingConfig.defaultRecommendedCurrency.chain));let m=e.chains.find((E=>E.id===d));if(!m)throw new oe(`Funding chain ${d} is not in PrivyProvider chains list`);let g=n?.amount??e.fundingConfig.defaultRecommendedAmount,y=!1;function b(){if(!d)return;let E=p3[d];p.find((k=>k.method==="wallets"))&&!E&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),f=E,y=!0}n&&"asset"in n?n.asset==="USDC"?b():typeof n.asset!="string"&&"erc20"in n.asset&&(y=((E,k)=>E===p3[k.id])(f=n.asset.erc20,m)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&b();let _=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:g,chain:m,erc20Address:f,erc20ContractInfo:y?{symbol:"USDC",decimals:6}:void 0,isUSDC:y,methodScreen:r,supportedOptions:p,comingFromSendTransactionScreen:s,defaultFundingMethod:_,usingDefaultFundingMethod:!!_,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:l??(()=>{}),onError:c??(()=>{})}};function iTe({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let l=n2(n.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");let c=e?.amount??n.fundingConfig.defaultRecommendedAmount,d=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:l,amount:c,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:d,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!d,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}function cV(){let{user:t,getAccessToken:e}=mh(),{walletProxy:n,openModal:r,client:i}=qo(),{setModalData:s}=Kd(),l=os();return F.useMemo((()=>({exportWallet:c=>new Promise((async(d,f)=>{if(!t)return void f(Error("User must be authenticated before exporting their Privy wallet"));c&&"target"in c&&c&&(c=void 0);let p=c?.address?Od(t,c.address):Vl(t);if(!p)return void f(new oe("User must have an embedded wallet."));let m=p.address,{entropyId:g,entropyIdVerifier:y}=jl(t,p),b=ns(p);if(!m)return void f(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!No(m))return void f(Error("Must provide a valid Ethereum address."));let _={recoveryMethod:p.recoveryMethod,connectingWalletAddress:p.address,isUnifiedWallet:b,entropyId:g,entropyIdVerifier:y,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:f,shouldForceMFA:!0};await e()&&n?cb(p)?(s({keyExport:{appId:l.id,appClientId:l.appClientId,origin:i.apiUrl,address:p.address,entropyId:g,entropyIdVerifier:y,hdWalletIndex:p.walletIndex,chainType:p.chainType,walletId:p.id,isUnifiedWallet:b,imported:p.imported,onSuccess:d,onFailure:f,showBackButton:c?.showBackButton},connectWallet:_}),r("EmbeddedWalletConnectingScreen")):f(Error(`Export is not supported for ${p.chainType} wallets`)):f(Error("Must have valid access token."))}))})),[t,e,n,r,i,s,l])}const uV={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},P6=F.createContext(void 0);let U6=()=>F.useContext(P6);function ub(t,e){if(!e)return;let n=U6().current[t];return F.useEffect((()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter((s=>s!==i))}}),[e])}function Ae(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function db(){let t=U6();return(e,n,...r)=>Ae(t,e,n,...r)}const ow=(t,e,n,r)=>{let i=Number(t),s=e.find((l=>l.id===i));if(!s)throw new In(`Unsupported chainId ${t}`,4901);return UA({transport:Hp($6(s,n,r.appId)),chain:s})},$6=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new In(`No RPC url found for ${i}`);return r},xp=ac((()=>({listings:[],loading:!1}))),O_=xp.setState,dV=t=>xp.getState().listings.find((({slug:e})=>lw(e)===lw(t))),k_=t=>{let e;try{e=new URL(t).hostname}catch{return}return xp.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},M6=(t=!0)=>{let e=os(),n=xp((s=>s.listings)),r=xp((s=>s.loading)),i=!!n.length;return F.useEffect((()=>{t&&!i&&(O_({listings:[],loading:!0}),(async s=>{let l=new URL("v3/wallets","https://explorer-api.walletconnect.com");l.searchParams.append("projectId",s);let c=await fetch(l);return c.ok?Object.values((await c.json()).listings).sort((({slug:d},{slug:f})=>d==="rainbow"&&f==="metamask"?1:d==="metamask"||d==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await c.text().catch((()=>"No response."))}`),[])})(e.walletConnectCloudProjectId).then((s=>O_({listings:s,loading:!1}))).catch((s=>{console.error(s),O_({listings:[],loading:!1})})))}),[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},sTe=t=>{let{listings:e}=M6();return e.find((({slug:n})=>lw(n)===lw(t)))};function lw(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function KE(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some((e=>t?.includes(e)))}const L6=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,B6=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||L6(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!B6(n))return!1}return!0},aTe=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},oTe=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},lTe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),cTe=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},hV=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},uTe=(t,e=3,n=4)=>hV(t,e,n,"solana"),cw=t=>new Promise((e=>setTimeout(e,t)));function g3(t,{interval:e=100,timeout:n=5e3}={}){return new Promise(((r,i)=>{let s,l=0,c=()=>{l>=n?i("Max attempts reached without result"):(s=t(),l+=e,s==null?setTimeout(c,e):r(s))};c()}))}const GE=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{let l=!1,c=0;for(;!l&&c<r;){if(e.abortSignal?.aborted)return;t().then((d=>{l=!0,i(d)}),((...d)=>{l=!0,s(...d)})),c+=1,await cw(n)}l||s(Error("Exceeded max attempts before resolving function"))}))},fV=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),YE=t=>typeof t=="string"?t:"0x"+t.toString(16);async function pV({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,l=window;return new Promise((c=>{function d(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",d);let f=t.getProviders();console.debug("Detected injected providers:",f.map((m=>m.info)));let p=[];for(let m of f)e.includes("coinbase_wallet")&&m.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&m.info.rdns==="app.phantom"||p.push({type:m.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:m});if(r!=="solana-only")for(let m of(function(){let g=window,y=g.ethereum;if(!y)return[];let b=[];if(y.providers?.length)for(let _ of y.providers)_&&b.push(_);return b.push(g.ethereum),b})()){let g=L6(m);if(!f.some((y=>y.info.name===g))){if(B6(m,!0)&&!p.find((y=>y.type==="metamask"))){p.push({type:"metamask",legacyInjectedProvider:m});continue}if(g==="Phantom"&&!p.find((y=>y.type==="phantom"))){p.push({type:"phantom",legacyInjectedProvider:m});continue}if(g==="Coinbase Wallet"&&!p.find((y=>y.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){p.push({type:"coinbase_wallet",legacyInjectedProvider:m});continue}p.find((y=>y.type==="unknown_browser_extension"))||p.push({type:"unknown_browser_extension",legacyInjectedProvider:m})}}c(p)}l.ethereum?d():(window.addEventListener("ethereum#initialized",d,{once:!0}),setTimeout((()=>{d()}),i))}))}function up(t){return`eip155:${String(Number(t))}`}const mV=(t,e,n,r)=>{let i=Number(t),s=e.find((l=>l.id===i));if(!s)throw new In(`Unsupported chainId ${t}`,4901);return $6(s,n,r)},dTe=(t,e)=>{let n=Number(t),r=e.find((i=>i.id===n));if(!r)throw new In(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Dy=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}};function hTe(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function Dl(t){return t.type==="ethereum"}function j6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&Dl(r)&&Dl(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const r2=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||rb;function bf(t){return t.chainType==="ethereum"}let bu=class extends D6{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((l=>Ri(l.address)===Ri(e)));return{type:"ethereum",address:Ri(e),chainId:n,meta:r,imported:i,switchChain:async l=>{let c,d;if(!s)throw new In("Wallet is not currently connected.");let f=this.wallets.find((g=>Ri(g.address)===Ri(e)))?.chainId;if(!f)throw new In("Unable to determine current chainId.");if(typeof l=="number"?(c=`0x${l.toString(16)}`,d=l):(c=l,d=Number(l)),f===up(c))return;let p=this.chains.find((g=>g.id===d));if(!p)throw new In(`Unsupported chainId: ${l}`);let m=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})};try{return await m()}catch(g){if(((y,b)=>{switch(b){case"coinbase_wallet":case"base_account":return y.message.includes("addEthereumChain");case"rabby_wallet":return y.message.includes("Unrecognized chain ID");default:return y.code===4902||y.message?.includes("4902")}})(g,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await cw(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:p.name,nativeCurrency:p.nativeCurrency,rpcUrls:[p.rpcUrls.default?.http[0]??""],blockExplorerUrls:[p.blockExplorers?.default.url??""]}]}),m();throw this.walletClientType==="rainbow"&&g.message?.includes("wallet_switchEthereumChain")?new In(`Rainbow does not support the chainId ${n}`):g}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new In("Wallet is not currently connected.");return this.proxyProvider},sign:async l=>{if(!await s())throw new In("Wallet is not currently connected.");return await this.sign(l)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let d=await GE((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,d),Array.isArray(d)&&(r=d)}}catch(d){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",d)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0];if(!No(i))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${i}`);let s=Ri(i),l=[];if(this.walletClientType==="privy"){let d=nt.get(v_(s));this.chains.find((f=>f.id===Number(d)))||(nt.del(v_(s)),d=null),n=d||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let d=await GE((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,d),typeof d=="string")n=d;else{if(typeof d!="number")throw Error("Invalid chainId returned from provider");n=`0x${d.toString(16)}`}}catch(d){console.warn(`Failed to get chainId from provider, defaulting to ${WO}`,d),n=WO}let c=up(n);if(!l.find((d=>Ri(d.address)===s))){let d={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};l.push(this.buildConnectedWallet(Ri(i),c,d,this.connectorType==="embedded_imported"))}j6(l,this.wallets)||(this.wallets=l,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>Ri(r)===Ri(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Jt(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((l=>{l.chainId=up(s),this.walletClientType==="privy"&&nt.put(v_(l.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await cw(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=r2(i,e),this.connected=!1,this.initialized=!1}},vu=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new In(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw oc(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new rV,i=this.rpcTimeoutDuration)=>new Promise(((s,l)=>setTimeout((()=>{l(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||rb,this._subscriptions=[]}};const gV=t=>{let[e,n]=F.useState("auto");return F.useEffect((()=>{let r=new ResizeObserver((i=>{n(i[0]?.contentRect.height??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},mTe=bn.div`
  text-align: left;
  flex-grow: 1;
`,gTe=bn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex-grow: 1;
`,yV=bn.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* for Internet Explorer, Edge */
  -ms-overflow-style: none;

  /* for Firefox */
  scrollbar-width: none;

  /* for Chrome, Safari, and Opera */
  &::-webkit-scrollbar {
    display: none;
  }
`,yTe=bn(yV)`
  ${t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0}

  background-repeat: no-repeat;
  background-size:
    100% 32px,
    100% 16px;
  background-attachment: local, scroll;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 3px;
`;let z6=Xp`
  && {
    width: 100%;
    font-size: 16px;
    line-height: 24px;
    min-height: 56px;

    /* Tablet and Up */
    @media (min-width: 440px) {
      font-size: 14px;
    }

    display: flex;
    gap: 12px;
    align-items: center;
    color: var(--privy-color-foreground);

    padding: 10px 12px;
    border: 1px solid var(--privy-color-foreground-4) !important;
    border-radius: var(--privy-border-radius-md);
    transition: background-color 200ms ease;

    cursor: pointer;

    &:hover {
      background-color: var(--privy-color-background-2);
    }

    &:disabled {
      cursor: pointer;
      background-color: var(--privy-color-background-2);
    }
  }
`;const wTe=bn.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,bTe=bn.button.attrs({className:"login-method-button"})`
  ${z6}
`;bn.a`
  ${z6}
`;const vTe=bn.div`
  width: 32px;
  height: 32px;
  border-radius: ${t=>t.$fullSize?"0":"4px"};
  background: ${t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: ${t=>t.$fullSize?"32px":"18px"};
    height: ${t=>t.$fullSize?"32px":"18px"};
    color: ${t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"};
  }
`,F6=bn.div`
  width: 100%;
  height: 100%;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  ${t=>t.$if?"display: none;":""}
`,_Te=bn.div`
  width: 100%;
  height: 100%;
  padding: ${t=>t.$withPadding?"64px 0px":"0px"};
`,ETe=bn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 32px;
  gap: 12px;
  & h3 {
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }
  & p {
    max-width: 300px;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
`,STe=({success:t,fail:e})=>ae.jsxs(wV,{children:[ae.jsx(y3,{children:ae.jsx(bV,{className:t?"success":e?"fail":""})}),ae.jsx(y3,{children:ae.jsx(hb,{className:t?"success":e?"fail":""})})]});let y3=bn.span`
  && {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
`,wV=bn.span`
  position: relative;
  width: 82px;
  height: 82px;
  display: inline-block;
`;const hb=bn.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${t=>t.color??"var(--privy-color-icon-subtle)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-icon-success);
    border-bottom-color: var(--privy-color-icon-success);
  }

  &&&.fail {
    border-color: var(--privy-color-icon-error);
    border-bottom-color: var(--privy-color-icon-error);
  }
`,bV=bn(hb)`
  && {
    border-bottom-color: ${t=>t.color??"var(--privy-color-border-default)"};
    border-color: ${t=>t.color??"var(--privy-color-border-default)"};
    animation: none;
    opacity: 0.5;
  }
`,ATe=t=>ae.jsx(vV,{color:t.color||"var(--privy-color-foreground-3)"});let vV=bn(hb)`
  && {
    height: 1rem;
    width: 1rem;
    margin: 2px 0;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`;const _V=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],q6=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:$a.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=vf({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:$a.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=vf({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=vf({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=vf({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${vf({client:this.client,isSolana:t,connectOnly:e})}`}}});function EV({connectorType:t,walletClientType:e}){for(let n of _V)if(t===n||e===n)return q6[n]}function vf({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let SV=class extends oV{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new vu(void 0,rb),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function AV(t){return t.chainType==="solana"}function TV(t){return t.type==="solana"}let W6=F.createContext({});const xV=({children:t})=>{let e=os(),[n,r]=F.useState({});return ub("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(nt.put(w3(e.id),i.type),i.type==="wallet"?(nt.put(R_(e.id),i.walletClientType),nt.put(D_(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(nt.del(R_(e.id)),nt.del(D_(e.id)),r({accountType:i.type})))}}),F.useEffect((()=>{if(!e.id)return;let i=nt.get(w3(e.id)),s=nt.get(R_(e.id)),l=nt.get(D_(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:l}:{accountType:i})}),[e.id]),ae.jsx(W6.Provider,{value:n,children:t})};let w3=t=>`privy:${t}:recent-login-method`,R_=t=>`privy:${t}:recent-login-wallet-client`,D_=t=>`privy:${t}:recent-login-chain-type`;const xTe=()=>F.useContext(W6);let CV=class extends bu{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new vu(void 0,rb),this.id=e,this.name=n,this.icon=r}};const IV=({...t})=>ae.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[ae.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),ae.jsx("g",{transform:"translate(4, 4)",children:ae.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[ae.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),ae.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),ae.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),ae.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),ae.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),ae.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),ae.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),ae.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),ae.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),ae.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),ae.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),ae.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),ae.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function ITe(t){let{logout:e}=F.useContext(ph);return ub("logout",t),{logout:e}}const OV=ac((()=>({isModalOpen:!1,resolvers:null})));ac((()=>({})));const OTe=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&nt.put(kV(n),r),OV.setState({wallet:r})},kV=t=>`privy:${t}:active-wallet-connection`;class Ma{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Ma("CBWSDK").clear(),new Ma("walletlink").clear()}}const Wn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},ZE={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},H6="Unspecified error message.",RV="Unspecified server error.";function i2(t,e=H6){if(t&&Number.isInteger(t)){const n=t.toString();if(XE(ZE,n))return ZE[n].message;if(V6(t))return RV}return e}function DV(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(ZE[e]||V6(t))}function NV(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&XE(t,"code")&&DV(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,XE(r,"data")&&(n.data=r.data)):(n.message=i2(n.code),n.data={originalError:b3(t)})}else n.code=Wn.rpc.internal,n.message=v3(t,"message")?t.message:H6,n.data={originalError:b3(t)};return e&&(n.stack=v3(t,"stack")?t.stack:void 0),n}function V6(t){return t>=-32099&&t<=-32e3}function b3(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function XE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function v3(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const zt={rpc:{parse:t=>Es(Wn.rpc.parse,t),invalidRequest:t=>Es(Wn.rpc.invalidRequest,t),invalidParams:t=>Es(Wn.rpc.invalidParams,t),methodNotFound:t=>Es(Wn.rpc.methodNotFound,t),internal:t=>Es(Wn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Es(e,t)},invalidInput:t=>Es(Wn.rpc.invalidInput,t),resourceNotFound:t=>Es(Wn.rpc.resourceNotFound,t),resourceUnavailable:t=>Es(Wn.rpc.resourceUnavailable,t),transactionRejected:t=>Es(Wn.rpc.transactionRejected,t),methodNotSupported:t=>Es(Wn.rpc.methodNotSupported,t),limitExceeded:t=>Es(Wn.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>md(Wn.provider.userRejectedRequest,t),unauthorized:t=>md(Wn.provider.unauthorized,t),unsupportedMethod:t=>md(Wn.provider.unsupportedMethod,t),disconnected:t=>md(Wn.provider.disconnected,t),chainDisconnected:t=>md(Wn.provider.chainDisconnected,t),unsupportedChain:t=>md(Wn.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Y6(e,n,r)}}};function Es(t,e){const[n,r]=K6(e);return new G6(t,n||i2(t),r)}function md(t,e){const[n,r]=K6(e);return new Y6(t,n||i2(t),r)}function K6(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class G6 extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class Y6 extends G6{constructor(e,n,r){if(!PV(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function PV(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function s2(){return t=>t}const Cp=s2(),UV=s2(),$V=s2();function So(t){return Math.floor(t)}const Z6=/^[0-9]*$/,X6=/^[a-f0-9]*$/;function Fc(t){return a2(crypto.getRandomValues(new Uint8Array(t)))}function a2(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Ny(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function dp(t,e=!1){const n=t.toString("hex");return Cp(e?`0x${n}`:n)}function N_(t){return dp(JE(t),!0)}function ma(t){return $V(t.toString(10))}function Gl(t){return Cp(`0x${BigInt(t).toString(16)}`)}function J6(t){return t.startsWith("0x")||t.startsWith("0X")}function o2(t){return J6(t)?t.slice(2):t}function Q6(t){return J6(t)?`0x${t.slice(2)}`:`0x${t}`}function fb(t){if(typeof t!="string")return!1;const e=o2(t).toLowerCase();return X6.test(e)}function MV(t,e=!1){if(typeof t=="string"){const n=o2(t).toLowerCase();if(X6.test(n))return Cp(e?`0x${n}`:n)}throw zt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function l2(t,e=!1){let n=MV(t,!1);return n.length%2===1&&(n=Cp(`0${n}`)),e?Cp(`0x${n}`):n}function bl(t){if(typeof t=="string"){const e=o2(t).toLowerCase();if(fb(e)&&e.length===40)return UV(Q6(e))}throw zt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function JE(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(fb(t)){const e=l2(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw zt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function hp(t){if(typeof t=="number"&&Number.isInteger(t))return So(t);if(typeof t=="string"){if(Z6.test(t))return So(Number(t));if(fb(t))return So(Number(BigInt(l2(t,!0))))}throw zt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function _f(t){if(t!==null&&(typeof t=="bigint"||BV(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(hp(t));if(typeof t=="string"){if(Z6.test(t))return BigInt(t);if(fb(t))return BigInt(l2(t,!0))}throw zt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function LV(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw zt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function BV(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function jV(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function zV(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function FV(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function qV(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function e4(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function t4(t,e){const n=e4(t),r=await crypto.subtle.exportKey(n,e);return a2(new Uint8Array(r))}async function n4(t,e){const n=e4(t),r=Ny(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function WV(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return FV(e,n)}async function HV(t,e){return JSON.parse(await qV(e,t))}const P_={storageKey:"ownPrivateKey",keyType:"private"},U_={storageKey:"ownPublicKey",keyType:"public"},$_={storageKey:"peerPublicKey",keyType:"public"};class VV{constructor(){this.storage=new Ma("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey($_,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(U_.storageKey),this.storage.removeItem(P_.storageKey),this.storage.removeItem($_.storageKey)}async generateKeyPair(){const e=await jV();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(P_,e.privateKey),await this.storeKey(U_,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(P_)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(U_)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey($_)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await zV(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?n4(e.keyType,n):null}async storeKey(e,n){const r=await t4(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const Jp="4.3.2",r4="@coinbase/wallet-sdk";async function c2(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Jp,"X-Cbw-Sdk-Platform":r4}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function KV(){return globalThis.coinbaseWalletExtension}function GV(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function YV({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:l}=t;if(e.options!=="smartWalletOnly"){const d=KV();if(d)return(n=d.setAppInfo)===null||n===void 0||n.call(d,i,s,l,e),d}const c=GV();if(c?.isCoinbaseBrowser)return(r=c.setAppInfo)===null||r===void 0||r.call(c,i,s,l,e),c}function ZV(t){if(!t||typeof t!="object"||Array.isArray(t))throw zt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw zt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw zt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw zt.provider.unsupportedMethod()}}const _3="accounts",E3="activeChain",S3="availableChains",A3="walletCapabilities";class XV{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new VV,this.storage=new Ma("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(_3))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(E3)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const l=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),c=await this.communicator.postRequestAndWaitForResponse(l);if("failure"in c.content)throw c.content.failure;const d=await n4("public",c.sender);await this.keyManager.setPeerPublicKey(d);const p=(await this.decryptResponseMessage(c)).result;if("error"in p)throw p.error;if(e.method==="eth_requestAccounts"){const m=p.value;this.accounts=m,this.storage.storeObject(_3,m),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",m)}}async request(e){var n;if(this.accounts.length===0){if(e.method==="wallet_sendCalls")return this.sendRequestToPopup(e);throw zt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Gl(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Gl(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(A3);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw zt.rpc.internal("No RPC URL set for chain");return c2(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),l=(await this.decryptResponseMessage(i)).result;if("error"in l)throw l.error;return l.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw zt.rpc.invalidParams();const i=hp(r[0].chainId);if(this.updateChain(i))return null;const l=await this.sendRequestToPopup(e);return l===null&&this.updateChain(i),l}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw zt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await WV({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await t4("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw zt.provider.unauthorized("Invalid session");const l=await HV(i.encrypted,s),c=(n=l.data)===null||n===void 0?void 0:n.chains;if(c){const f=Object.entries(c).map(([p,m])=>({id:Number(p),rpcUrl:m}));this.storage.storeObject(S3,f),this.updateChain(this.chain.id,f)}const d=(r=l.data)===null||r===void 0?void 0:r.capabilities;return d&&this.storage.storeObject(A3,d),l}updateChain(e,n){var r;const i=n??this.storage.loadObject(S3),s=i?.find(l=>l.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(E3,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Gl(s.id))),!0):!1}}var gn={},ht={},T3;function JV(){if(T3)return ht;T3=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.toBig=ht.shrSL=ht.shrSH=ht.rotrSL=ht.rotrSH=ht.rotrBL=ht.rotrBH=ht.rotr32L=ht.rotr32H=ht.rotlSL=ht.rotlSH=ht.rotlBL=ht.rotlBH=ht.add5L=ht.add5H=ht.add4L=ht.add4H=ht.add3L=ht.add3H=void 0,ht.add=k,ht.fromBig=n,ht.split=r;const t=BigInt(2**32-1),e=BigInt(32);function n(B,q=!1){return q?{h:Number(B&t),l:Number(B>>e&t)}:{h:Number(B>>e&t)|0,l:Number(B&t)|0}}function r(B,q=!1){const W=B.length;let K=new Uint32Array(W),H=new Uint32Array(W);for(let G=0;G<W;G++){const{h:A,l:S}=n(B[G],q);[K[G],H[G]]=[A,S]}return[K,H]}const i=(B,q)=>BigInt(B>>>0)<<e|BigInt(q>>>0);ht.toBig=i;const s=(B,q,W)=>B>>>W;ht.shrSH=s;const l=(B,q,W)=>B<<32-W|q>>>W;ht.shrSL=l;const c=(B,q,W)=>B>>>W|q<<32-W;ht.rotrSH=c;const d=(B,q,W)=>B<<32-W|q>>>W;ht.rotrSL=d;const f=(B,q,W)=>B<<64-W|q>>>W-32;ht.rotrBH=f;const p=(B,q,W)=>B>>>W-32|q<<64-W;ht.rotrBL=p;const m=(B,q)=>q;ht.rotr32H=m;const g=(B,q)=>B;ht.rotr32L=g;const y=(B,q,W)=>B<<W|q>>>32-W;ht.rotlSH=y;const b=(B,q,W)=>q<<W|B>>>32-W;ht.rotlSL=b;const _=(B,q,W)=>q<<W-32|B>>>64-W;ht.rotlBH=_;const E=(B,q,W)=>B<<W-32|q>>>64-W;ht.rotlBL=E;function k(B,q,W,K){const H=(q>>>0)+(K>>>0);return{h:B+W+(H/2**32|0)|0,l:H|0}}const D=(B,q,W)=>(B>>>0)+(q>>>0)+(W>>>0);ht.add3L=D;const x=(B,q,W,K)=>q+W+K+(B/2**32|0)|0;ht.add3H=x;const T=(B,q,W,K)=>(B>>>0)+(q>>>0)+(W>>>0)+(K>>>0);ht.add4L=T;const O=(B,q,W,K,H)=>q+W+K+H+(B/2**32|0)|0;ht.add4H=O;const C=(B,q,W,K,H)=>(B>>>0)+(q>>>0)+(W>>>0)+(K>>>0)+(H>>>0);ht.add5L=C;const U=(B,q,W,K,H,G)=>q+W+K+H+G+(B/2**32|0)|0;ht.add5H=U;const z={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:l,rotrSH:c,rotrSL:d,rotrBH:f,rotrBL:p,rotr32H:m,rotr32L:g,rotlSH:y,rotlSL:b,rotlBH:_,rotlBL:E,add:k,add3L:D,add3H:x,add4L:T,add4H:O,add5H:U,add5L:C};return ht.default=z,ht}var M_={},Ef={},x3;function QV(){return x3||(x3=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.crypto=void 0,Ef.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ef}var C3;function eK(){return C3||(C3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=n,t.anumber=r,t.abytes=i,t.ahash=s,t.aexists=l,t.aoutput=c,t.u8=d,t.u32=f,t.clean=p,t.createView=m,t.rotr=g,t.rotl=y,t.byteSwap=b,t.byteSwap32=_,t.bytesToHex=D,t.hexToBytes=O,t.asyncLoop=U,t.utf8ToBytes=z,t.bytesToUtf8=B,t.toBytes=q,t.kdfInputToBytes=W,t.concatBytes=K,t.checkOpts=H,t.createHasher=A,t.createOptHasher=S,t.createXOFer=P,t.randomBytes=$;const e=QV();function n(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}function r(R){if(!Number.isSafeInteger(R)||R<0)throw new Error("positive integer expected, got "+R)}function i(R,...L){if(!n(R))throw new Error("Uint8Array expected");if(L.length>0&&!L.includes(R.length))throw new Error("Uint8Array expected of length "+L+", got length="+R.length)}function s(R){if(typeof R!="function"||typeof R.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(R.outputLen),r(R.blockLen)}function l(R,L=!0){if(R.destroyed)throw new Error("Hash instance has been destroyed");if(L&&R.finished)throw new Error("Hash#digest() has already been called")}function c(R,L){i(R);const Y=L.outputLen;if(R.length<Y)throw new Error("digestInto() expects output buffer of length at least "+Y)}function d(R){return new Uint8Array(R.buffer,R.byteOffset,R.byteLength)}function f(R){return new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4))}function p(...R){for(let L=0;L<R.length;L++)R[L].fill(0)}function m(R){return new DataView(R.buffer,R.byteOffset,R.byteLength)}function g(R,L){return R<<32-L|R>>>L}function y(R,L){return R<<L|R>>>32-L>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function b(R){return R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255}t.swap8IfBE=t.isLE?R=>R:R=>b(R),t.byteSwapIfBE=t.swap8IfBE;function _(R){for(let L=0;L<R.length;L++)R[L]=b(R[L]);return R}t.swap32IfBE=t.isLE?R=>R:_;const E=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",k=Array.from({length:256},(R,L)=>L.toString(16).padStart(2,"0"));function D(R){if(i(R),E)return R.toHex();let L="";for(let Y=0;Y<R.length;Y++)L+=k[R[Y]];return L}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function T(R){if(R>=x._0&&R<=x._9)return R-x._0;if(R>=x.A&&R<=x.F)return R-(x.A-10);if(R>=x.a&&R<=x.f)return R-(x.a-10)}function O(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);if(E)return Uint8Array.fromHex(R);const L=R.length,Y=L/2;if(L%2)throw new Error("hex string expected, got unpadded hex of length "+L);const Z=new Uint8Array(Y);for(let ie=0,ee=0;ie<Y;ie++,ee+=2){const se=T(R.charCodeAt(ee)),Se=T(R.charCodeAt(ee+1));if(se===void 0||Se===void 0){const Ie=R[ee]+R[ee+1];throw new Error('hex string expected, got non-hex character "'+Ie+'" at index '+ee)}Z[ie]=se*16+Se}return Z}const C=async()=>{};t.nextTick=C;async function U(R,L,Y){let Z=Date.now();for(let ie=0;ie<R;ie++){Y(ie);const ee=Date.now()-Z;ee>=0&&ee<L||(await(0,t.nextTick)(),Z+=ee)}}function z(R){if(typeof R!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(R))}function B(R){return new TextDecoder().decode(R)}function q(R){return typeof R=="string"&&(R=z(R)),i(R),R}function W(R){return typeof R=="string"&&(R=z(R)),i(R),R}function K(...R){let L=0;for(let Z=0;Z<R.length;Z++){const ie=R[Z];i(ie),L+=ie.length}const Y=new Uint8Array(L);for(let Z=0,ie=0;Z<R.length;Z++){const ee=R[Z];Y.set(ee,ie),ie+=ee.length}return Y}function H(R,L){if(L!==void 0&&{}.toString.call(L)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(R,L)}class G{}t.Hash=G;function A(R){const L=Z=>R().update(q(Z)).digest(),Y=R();return L.outputLen=Y.outputLen,L.blockLen=Y.blockLen,L.create=()=>R(),L}function S(R){const L=(Z,ie)=>R(ie).update(q(Z)).digest(),Y=R({});return L.outputLen=Y.outputLen,L.blockLen=Y.blockLen,L.create=Z=>R(Z),L}function P(R){const L=(Z,ie)=>R(ie).update(q(Z)).digest(),Y=R({});return L.outputLen=Y.outputLen,L.blockLen=Y.blockLen,L.create=Z=>R(Z),L}t.wrapConstructor=A,t.wrapConstructorWithOpts=S,t.wrapXOFConstructorWithOpts=P;function $(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(R));throw new Error("crypto.getRandomValues must be defined")}})(M_)),M_}var I3;function tK(){if(I3)return gn;I3=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.shake256=gn.shake128=gn.keccak_512=gn.keccak_384=gn.keccak_256=gn.keccak_224=gn.sha3_512=gn.sha3_384=gn.sha3_256=gn.sha3_224=gn.Keccak=void 0,gn.keccakP=E;const t=JV(),e=eK(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(7),l=BigInt(256),c=BigInt(113),d=[],f=[],p=[];for(let T=0,O=r,C=1,U=0;T<24;T++){[C,U]=[U,(2*C+3*U)%5],d.push(2*(5*U+C)),f.push((T+1)*(T+2)/2%64);let z=n;for(let B=0;B<7;B++)O=(O<<r^(O>>s)*c)%l,O&i&&(z^=r<<(r<<BigInt(B))-r);p.push(z)}const m=(0,t.split)(p,!0),g=m[0],y=m[1],b=(T,O,C)=>C>32?(0,t.rotlBH)(T,O,C):(0,t.rotlSH)(T,O,C),_=(T,O,C)=>C>32?(0,t.rotlBL)(T,O,C):(0,t.rotlSL)(T,O,C);function E(T,O=24){const C=new Uint32Array(10);for(let U=24-O;U<24;U++){for(let q=0;q<10;q++)C[q]=T[q]^T[q+10]^T[q+20]^T[q+30]^T[q+40];for(let q=0;q<10;q+=2){const W=(q+8)%10,K=(q+2)%10,H=C[K],G=C[K+1],A=b(H,G,1)^C[W],S=_(H,G,1)^C[W+1];for(let P=0;P<50;P+=10)T[q+P]^=A,T[q+P+1]^=S}let z=T[2],B=T[3];for(let q=0;q<24;q++){const W=f[q],K=b(z,B,W),H=_(z,B,W),G=d[q];z=T[G],B=T[G+1],T[G]=K,T[G+1]=H}for(let q=0;q<50;q+=10){for(let W=0;W<10;W++)C[W]=T[q+W];for(let W=0;W<10;W++)T[q+W]^=~C[(W+2)%10]&C[(W+4)%10]}T[0]^=g[U],T[1]^=y[U]}(0,e.clean)(C)}class k extends e.Hash{constructor(O,C,U,z=!1,B=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=O,this.suffix=C,this.outputLen=U,this.enableXOF=z,this.rounds=B,(0,e.anumber)(U),!(0<O&&O<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),E(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(O){(0,e.aexists)(this),O=(0,e.toBytes)(O),(0,e.abytes)(O);const{blockLen:C,state:U}=this,z=O.length;for(let B=0;B<z;){const q=Math.min(C-this.pos,z-B);for(let W=0;W<q;W++)U[this.pos++]^=O[B++];this.pos===C&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:O,suffix:C,pos:U,blockLen:z}=this;O[U]^=C,(C&128)!==0&&U===z-1&&this.keccak(),O[z-1]^=128,this.keccak()}writeInto(O){(0,e.aexists)(this,!1),(0,e.abytes)(O),this.finish();const C=this.state,{blockLen:U}=this;for(let z=0,B=O.length;z<B;){this.posOut>=U&&this.keccak();const q=Math.min(U-this.posOut,B-z);O.set(C.subarray(this.posOut,this.posOut+q),z),this.posOut+=q,z+=q}return O}xofInto(O){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(O)}xof(O){return(0,e.anumber)(O),this.xofInto(new Uint8Array(O))}digestInto(O){if((0,e.aoutput)(O,this),this.finished)throw new Error("digest() was already called");return this.writeInto(O),this.destroy(),O}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(O){const{blockLen:C,suffix:U,outputLen:z,rounds:B,enableXOF:q}=this;return O||(O=new k(C,U,z,q,B)),O.state32.set(this.state32),O.pos=this.pos,O.posOut=this.posOut,O.finished=this.finished,O.rounds=B,O.suffix=U,O.outputLen=z,O.enableXOF=q,O.destroyed=this.destroyed,O}}gn.Keccak=k;const D=(T,O,C)=>(0,e.createHasher)(()=>new k(O,T,C));gn.sha3_224=D(6,144,224/8),gn.sha3_256=D(6,136,256/8),gn.sha3_384=D(6,104,384/8),gn.sha3_512=D(6,72,512/8),gn.keccak_224=D(1,144,224/8),gn.keccak_256=D(1,136,256/8),gn.keccak_384=D(1,104,384/8),gn.keccak_512=D(1,72,512/8);const x=(T,O,C)=>(0,e.createXOFer)((U={})=>new k(O,T,U.dkLen===void 0?C:U.dkLen,!0));return gn.shake128=x(31,168,128/8),gn.shake256=x(31,136,256/8),gn}var L_,O3;function i4(){if(O3)return L_;O3=1;const{keccak_256:t}=tK();function e(y){return Buffer.allocUnsafe(y).fill(0)}function n(y){return y.toString(2).length}function r(y,b){let _=y.toString(16);_.length%2!==0&&(_="0"+_);const E=_.match(/.{1,2}/g).map(k=>parseInt(k,16));for(;E.length<b;)E.unshift(0);return Buffer.from(E)}function i(y,b){const _=y<0n;let E;if(_){const k=(1n<<BigInt(b))-1n;E=(~y&k)+1n}else E=y;return E&=(1n<<BigInt(b))-1n,E}function s(y,b,_){const E=e(b);return y=c(y),_?y.length<b?(y.copy(E),E):y.slice(0,b):y.length<b?(y.copy(E,b-y.length),E):y.slice(-b)}function l(y,b){return s(y,b,!0)}function c(y){if(!Buffer.isBuffer(y))if(Array.isArray(y))y=Buffer.from(y);else if(typeof y=="string")m(y)?y=Buffer.from(p(g(y)),"hex"):y=Buffer.from(y);else if(typeof y=="number")y=intToBuffer(y);else if(y==null)y=Buffer.allocUnsafe(0);else if(typeof y=="bigint")y=r(y);else if(y.toArray)y=Buffer.from(y.toArray());else throw new Error("invalid type");return y}function d(y){return y=c(y),"0x"+y.toString("hex")}function f(y,b){if(y=c(y),b||(b=256),b!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(y)))}function p(y){return y.length%2?"0"+y:y}function m(y){return typeof y=="string"&&y.match(/^0x[0-9A-Fa-f]*$/)}function g(y){return typeof y=="string"&&y.startsWith("0x")?y.slice(2):y}return L_={zeros:e,setLength:s,setLengthRight:l,isHexString:m,stripHexPrefix:g,toBuffer:c,bufferToHex:d,keccak:f,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},L_}var B_,k3;function nK(){if(k3)return B_;k3=1;const t=i4();function e(g){return g.startsWith("int[")?"int256"+g.slice(3):g==="int"?"int256":g.startsWith("uint[")?"uint256"+g.slice(4):g==="uint"?"uint256":g.startsWith("fixed[")?"fixed128x128"+g.slice(5):g==="fixed"?"fixed128x128":g.startsWith("ufixed[")?"ufixed128x128"+g.slice(6):g==="ufixed"?"ufixed128x128":g}function n(g){return Number.parseInt(/^\D+(\d+)$/.exec(g)[1],10)}function r(g){var y=/^\D+(\d+)x(\d+)$/.exec(g);return[Number.parseInt(y[1],10),Number.parseInt(y[2],10)]}function i(g){var y=g.match(/(.*)\[(.*?)\]$/);return y?y[2]===""?"dynamic":Number.parseInt(y[2],10):null}function s(g){var y=typeof g;if(y==="string"||y==="number")return BigInt(g);if(y==="bigint")return g;throw new Error("Argument is not a number")}function l(g,y){var b,_,E,k;if(g==="address")return l("uint160",s(y));if(g==="bool")return l("uint8",y?1:0);if(g==="string")return l("bytes",new Buffer(y,"utf8"));if(d(g)){if(typeof y.length>"u")throw new Error("Not an array?");if(b=i(g),b!=="dynamic"&&b!==0&&y.length>b)throw new Error("Elements exceed array size: "+b);E=[],g=g.slice(0,g.lastIndexOf("[")),typeof y=="string"&&(y=JSON.parse(y));for(k in y)E.push(l(g,y[k]));if(b==="dynamic"){var D=l("uint256",y.length);E.unshift(D)}return Buffer.concat(E)}else{if(g==="bytes")return y=new Buffer(y),E=Buffer.concat([l("uint256",y.length),y]),y.length%32!==0&&(E=Buffer.concat([E,t.zeros(32-y.length%32)])),E;if(g.startsWith("bytes")){if(b=n(g),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(y,32)}else if(g.startsWith("uint")){if(b=n(g),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);_=s(y);const x=t.bitLengthFromBigInt(_);if(x>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+x);if(_<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(_,32)}else if(g.startsWith("int")){if(b=n(g),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);_=s(y);const x=t.bitLengthFromBigInt(_);if(x>b)throw new Error("Supplied int exceeds width: "+b+" vs "+x);const T=t.twosFromBigInt(_,256);return t.bufferBEFromBigInt(T,32)}else if(g.startsWith("ufixed")){if(b=r(g),_=s(y),_<0)throw new Error("Supplied ufixed is negative");return l("uint256",_*BigInt(2)**BigInt(b[1]))}else if(g.startsWith("fixed"))return b=r(g),l("int256",s(y)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+g)}function c(g){return g==="string"||g==="bytes"||i(g)==="dynamic"}function d(g){return g.lastIndexOf("]")===g.length-1}function f(g,y){var b=[],_=[],E=32*g.length;for(var k in g){var D=e(g[k]),x=y[k],T=l(D,x);c(D)?(b.push(l("uint256",E)),_.push(T),E+=T.length):b.push(T)}return Buffer.concat(b.concat(_))}function p(g,y){if(g.length!==y.length)throw new Error("Number of types are not matching the values");for(var b,_,E=[],k=0;k<g.length;k++){var D=e(g[k]),x=y[k];if(D==="bytes")E.push(x);else if(D==="string")E.push(new Buffer(x,"utf8"));else if(D==="bool")E.push(new Buffer(x?"01":"00","hex"));else if(D==="address")E.push(t.setLength(x,20));else if(D.startsWith("bytes")){if(b=n(D),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);E.push(t.setLengthRight(x,b))}else if(D.startsWith("uint")){if(b=n(D),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);_=s(x);const T=t.bitLengthFromBigInt(_);if(T>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+T);E.push(t.bufferBEFromBigInt(_,b/8))}else if(D.startsWith("int")){if(b=n(D),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);_=s(x);const T=t.bitLengthFromBigInt(_);if(T>b)throw new Error("Supplied int exceeds width: "+b+" vs "+T);const O=t.twosFromBigInt(_,b);E.push(t.bufferBEFromBigInt(O,b/8))}else throw new Error("Unsupported or invalid type: "+D)}return Buffer.concat(E)}function m(g,y){return t.keccak(p(g,y))}return B_={rawEncode:f,solidityPack:p,soliditySHA3:m},B_}var j_,R3;function rK(){if(R3)return j_;R3=1;const t=i4(),e=nK(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,l,c,d=!0){const f=["bytes32"],p=[this.hashType(s,c)];if(d){const m=(g,y,b)=>{if(c[y]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(y,b,c,d))];if(b===void 0)throw new Error(`missing value for field ${g} of type ${y}`);if(y==="bytes")return["bytes32",t.keccak(b)];if(y==="string")return typeof b=="string"&&(b=Buffer.from(b,"utf8")),["bytes32",t.keccak(b)];if(y.lastIndexOf("]")===y.length-1){const _=y.slice(0,y.lastIndexOf("[")),E=b.map(k=>m(g,_,k));return["bytes32",t.keccak(e.rawEncode(E.map(([k])=>k),E.map(([,k])=>k)))]}return[y,b]};for(const g of c[s]){const[y,b]=m(g.name,g.type,l[g.name]);f.push(y),p.push(b)}}else for(const m of c[s]){let g=l[m.name];if(g!==void 0)if(m.type==="bytes")f.push("bytes32"),g=t.keccak(g),p.push(g);else if(m.type==="string")f.push("bytes32"),typeof g=="string"&&(g=Buffer.from(g,"utf8")),g=t.keccak(g),p.push(g);else if(c[m.type]!==void 0)f.push("bytes32"),g=t.keccak(this.encodeData(m.type,g,c,d)),p.push(g);else{if(m.type.lastIndexOf("]")===m.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");f.push(m.type),p.push(g)}}return e.rawEncode(f,p)},encodeType(s,l){let c="",d=this.findTypeDependencies(s,l).filter(f=>f!==s);d=[s].concat(d.sort());for(const f of d){if(!l[f])throw new Error("No type definition specified: "+f);c+=f+"("+l[f].map(({name:m,type:g})=>g+" "+m).join(",")+")"}return c},findTypeDependencies(s,l,c=[]){if(s=s.match(/^\w*/)[0],c.includes(s)||l[s]===void 0)return c;c.push(s);for(const d of l[s])for(const f of this.findTypeDependencies(d.type,l,c))!c.includes(f)&&c.push(f);return c},hashStruct(s,l,c,d=!0){return t.keccak(this.encodeData(s,l,c,d))},hashType(s,l){return t.keccak(this.encodeType(s,l))},sanitizeData(s){const l={};for(const c in n.properties)s[c]&&(l[c]=s[c]);return l.types&&(l.types=Object.assign({EIP712Domain:[]},l.types)),l},hash(s,l=!0){const c=this.sanitizeData(s),d=[Buffer.from("1901","hex")];return d.push(this.hashStruct("EIP712Domain",c.domain,c.types,l)),c.primaryType!=="EIP712Domain"&&d.push(this.hashStruct(c.primaryType,c.message,c.types,l)),t.keccak(Buffer.concat(d))}};j_={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const l=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw l;const c=s.map(function(p){return p.type==="bytes"?t.toBuffer(p.value):p.value}),d=s.map(function(p){return p.type}),f=s.map(function(p){if(!p.name)throw l;return p.type+" "+p.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),f),e.soliditySHA3(d,c)])}return j_}var iK=rK();const Vg=hh(iK),sK="walletUsername",QE="Addresses",aK="AppVersion";function Vr(t){return t.errorMessage!==void 0}class oK{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Ny(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,l=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),c=16,d=l.slice(l.byteLength-c),f=l.slice(0,l.byteLength-c),p=new Uint8Array(d),m=new Uint8Array(f),g=new Uint8Array([...r,...p,...m]);return a2(g)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Ny(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),l=Ny(e),c=l.slice(0,12),d=l.slice(12,28),f=l.slice(28),p=new Uint8Array([...f,...d]),m={name:"AES-GCM",iv:new Uint8Array(c)};try{const g=await window.crypto.subtle.decrypt(m,s,p),y=new TextDecoder;r(y.decode(g))}catch(g){i(g)}})()})}}class lK{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(l=>l.event==="Web3Response").map(l=>({type:"Event",sessionId:this.sessionId,eventId:l.id,event:l.event,data:l.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Oo;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Oo||(Oo={}));class cK{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Oo.CONNECTING),i.onclose=s=>{var l;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(l=this.connectionStateListener)===null||l===void 0||l.call(this,Oo.DISCONNECTED)},i.onopen=s=>{var l;e(),(l=this.connectionStateListener)===null||l===void 0||l.call(this,Oo.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(d=>this.sendData(d)),this.pendingData=[])},i.onmessage=s=>{var l,c;if(s.data==="h")(l=this.incomingDataListener)===null||l===void 0||l.call(this,{type:"Heartbeat"});else try{const d=JSON.parse(s.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,d)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Oo.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const D3=1e4,uK=6e4;class dK{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=So(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>s.JsonRpcUrl&&this.handleChainUpdated(c,s.JsonRpcUrl)]]).forEach((c,d)=>{const f=s[d];f!==void 0&&c(f)})},this.handleDestroyed=s=>{var l;s==="1"&&((l=this.listener)===null||l===void 0||l.resetAndReload())},this.handleAccountUpdated=async s=>{var l;const c=await this.cipher.decrypt(s);(l=this.listener)===null||l===void 0||l.accountUpdated(c)},this.handleMetadataUpdated=async(s,l)=>{var c;const d=await this.cipher.decrypt(l);(c=this.listener)===null||c===void 0||c.metadataUpdated(s,d)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(sK,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(aK,s)},this.handleChainUpdated=async(s,l)=>{var c;const d=await this.cipher.decrypt(s),f=await this.cipher.decrypt(l);(c=this.listener)===null||c===void 0||c.chainUpdated(d,f)},this.session=e,this.cipher=new oK(e.secret),this.listener=r;const i=new cK(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let l=!1;switch(s){case Oo.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(d=>setTimeout(d,5e3)),this.destroyed||i.connect().catch(()=>{c()})};c()}break;case Oo.CONNECTED:l=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},D3),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Oo.CONNECTING:break}this.connected!==l&&(this.connected=l)}),i.setIncomingDataListener(s=>{var l;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const c=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=c||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((l=this.requestResolutions.get(s.id))===null||l===void 0||l(s))}),this.ws=i,this.http=new lK(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:So(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:l}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,l)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:So(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const l=await this.makeRequest(s);if(l.type==="Fail")throw new Error(l.error||"failed to publish event");return l.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>D3*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:uK}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,l)=>{i=window.setTimeout(()=>{l(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,l=>{clearTimeout(i),s(l),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:So(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:So(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:So(this.nextReqId++),sessionId:this.session.id}),!0)}}class hK{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Q6(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const gd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ip(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ec(t,...e){if(!fK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ip(t.outputLen),Ip(t.blockLen)}function Qd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function s4(t,e){ec(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mK(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function z_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ga(t,e){return t<<32-e|t>>>e}const gK=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yK(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function wK(t){for(let e=0;e<t.length;e++)t[e]=yK(t[e]);return t}const N3=gK?t=>t:wK,a4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vK(t){if(ec(t),a4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=bK[t[n]];return e}const lo={_0:48,_9:57,A:65,F:70,a:97,f:102};function P3(t){if(t>=lo._0&&t<=lo._9)return t-lo._0;if(t>=lo.A&&t<=lo.F)return t-(lo.A-10);if(t>=lo.a&&t<=lo.f)return t-(lo.a-10)}function kTe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(a4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const l=P3(t.charCodeAt(s)),c=P3(t.charCodeAt(s+1));if(l===void 0||c===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=l*16+c}return r}function _K(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function pb(t){return typeof t=="string"&&(t=_K(t)),ec(t),t}function EK(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ec(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class u2{}function o4(t){const e=r=>t().update(pb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function SK(t=32){if(gd&&typeof gd.getRandomValues=="function")return gd.getRandomValues(new Uint8Array(t));if(gd&&typeof gd.randomBytes=="function")return Uint8Array.from(gd.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function AK(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),c=Number(n&s),d=r?4:0,f=r?0:4;t.setUint32(e+d,l,r),t.setUint32(e+f,c,r)}function TK(t,e,n){return t&e^~t&n}function xK(t,e,n){return t&e^t&n^e&n}class CK extends u2{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=z_(this.buffer)}update(e){Qd(this),e=pb(e),ec(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let l=0;l<s;){const c=Math.min(i-this.pos,s-l);if(c===i){const d=z_(e);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qd(this),s4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,eh(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;AK(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=z_(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<f;m++)c.setUint32(4*m,p[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const vl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kg=BigInt(2**32-1),U3=BigInt(32);function IK(t,e=!1){return e?{h:Number(t&Kg),l:Number(t>>U3&Kg)}:{h:Number(t>>U3&Kg)|0,l:Number(t&Kg)|0}}function OK(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:l,l:c}=IK(t[s],e);[r[s],i[s]]=[l,c]}return[r,i]}const kK=(t,e,n)=>t<<n|e>>>32-n,RK=(t,e,n)=>e<<n|t>>>32-n,DK=(t,e,n)=>e<<n-32|t>>>64-n,NK=(t,e,n)=>t<<n-32|e>>>64-n,PK=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_l=new Uint32Array(64);class UK extends CK{constructor(e=32){super(64,e,8,!1),this.A=vl[0]|0,this.B=vl[1]|0,this.C=vl[2]|0,this.D=vl[3]|0,this.E=vl[4]|0,this.F=vl[5]|0,this.G=vl[6]|0,this.H=vl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:l,G:c,H:d}=this;return[e,n,r,i,s,l,c,d]}set(e,n,r,i,s,l,c,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=d|0}process(e,n){for(let m=0;m<16;m++,n+=4)_l[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const g=_l[m-15],y=_l[m-2],b=ga(g,7)^ga(g,18)^g>>>3,_=ga(y,17)^ga(y,19)^y>>>10;_l[m]=_+_l[m-7]+b+_l[m-16]|0}let{A:r,B:i,C:s,D:l,E:c,F:d,G:f,H:p}=this;for(let m=0;m<64;m++){const g=ga(c,6)^ga(c,11)^ga(c,25),y=p+g+TK(c,d,f)+PK[m]+_l[m]|0,_=(ga(r,2)^ga(r,13)^ga(r,22))+xK(r,i,s)|0;p=f,f=d,d=c,c=l+y|0,l=s,s=i,i=r,r=y+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,i,s,l,c,d,f,p)}roundClean(){eh(_l)}destroy(){this.set(0,0,0,0,0,0,0,0),eh(this.buffer)}}const l4=o4(()=>new UK),$K=l4,$3="session:id",M3="session:secret",L3="session:linked";class Bd{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=vK($K(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Fc(16),r=Fc(32);return new Bd(e,n,r).save()}static load(e){const n=e.getItem($3),r=e.getItem(L3),i=e.getItem(M3);return n&&i?new Bd(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem($3,this.id),this.storage.setItem(M3,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(L3,this._linked?"1":"0")}}function MK(){try{return window.frameElement!==null}catch{return!1}}function LK(){try{return MK()&&window.top?window.top.location:window.location}catch{return window.location}}function BK(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function c4(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const jK='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function u4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(jK)),document.documentElement.appendChild(t)}function d4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=d4(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function fp(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=d4(t))&&(r&&(r+=" "),r+=e);return r}var mb,On,h4,qc,B3,f4,p4,m4,d2,eS,tS,Op={},g4=[],zK=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gb=Array.isArray;function ko(t,e){for(var n in e)t[n]=e[n];return t}function h2(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function cn(t,e,n){var r,i,s,l={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?mb.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)l[s]===void 0&&(l[s]=t.defaultProps[s]);return Py(t,l,r,i,null)}function Py(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++h4,__i:-1,__u:0};return i==null&&On.vnode!=null&&On.vnode(s),s}function yb(t){return t.children}function Uy(t,e){this.props=t,this.context=e}function th(t,e){if(e==null)return t.__?th(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?th(t):null}function y4(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return y4(t)}}function j3(t){(!t.__d&&(t.__d=!0)&&qc.push(t)&&!uw.__r++||B3!=On.debounceRendering)&&((B3=On.debounceRendering)||f4)(uw)}function uw(){for(var t,e,n,r,i,s,l,c=1;qc.length;)qc.length>c&&qc.sort(p4),t=qc.shift(),c=qc.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,s=[],l=[],e.__P&&((n=ko({},r)).__v=r.__v+1,On.vnode&&On.vnode(n),f2(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??th(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,v4(s,n,l),r.__e=r.__=null,n.__e!=i&&y4(n)));uw.__r=0}function w4(t,e,n,r,i,s,l,c,d,f,p){var m,g,y,b,_,E,k,D=r&&r.__k||g4,x=e.length;for(d=FK(n,e,D,d,x),m=0;m<x;m++)(y=n.__k[m])!=null&&(g=y.__i==-1?Op:D[y.__i]||Op,y.__i=m,E=f2(t,y,g,i,s,l,c,d,f,p),b=y.__e,y.ref&&g.ref!=y.ref&&(g.ref&&p2(g.ref,null,y),p.push(y.ref,y.__c||b,y)),_==null&&b!=null&&(_=b),(k=!!(4&y.__u))||g.__k===y.__k?d=b4(y,d,t,k):typeof y.type=="function"&&E!==void 0?d=E:b&&(d=b.nextSibling),y.__u&=-7);return n.__e=_,d}function FK(t,e,n,r,i){var s,l,c,d,f,p=n.length,m=p,g=0;for(t.__k=new Array(i),s=0;s<i;s++)(l=e[s])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=t.__k[s]=Py(null,l,null,null,null):gb(l)?l=t.__k[s]=Py(yb,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?l=t.__k[s]=Py(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):t.__k[s]=l,d=s+g,l.__=t,l.__b=t.__b+1,c=null,(f=l.__i=qK(l,n,d,m))!=-1&&(m--,(c=n[f])&&(c.__u|=2)),c==null||c.__v==null?(f==-1&&(i>p?g--:i<p&&g++),typeof l.type!="function"&&(l.__u|=4)):f!=d&&(f==d-1?g--:f==d+1?g++:(f>d?g--:g++,l.__u|=4))):t.__k[s]=null;if(m)for(s=0;s<p;s++)(c=n[s])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=th(c)),E4(c,c));return r}function b4(t,e,n,r){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=b4(i[s],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=th(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function qK(t,e,n,r){var i,s,l,c=t.key,d=t.type,f=e[n],p=f!=null&&(2&f.__u)==0;if(f===null&&c==null||p&&c==f.key&&d==f.type)return n;if(r>(p?1:0)){for(i=n-1,s=n+1;i>=0||s<e.length;)if((f=e[l=i>=0?i--:s++])!=null&&(2&f.__u)==0&&c==f.key&&d==f.type)return l}return-1}function z3(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||zK.test(e)?n:n+"px"}function Gg(t,e,n,r,i){var s,l;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||z3(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||z3(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(m4,"$1")),l=e.toLowerCase(),e=l in t||e=="onFocusOut"||e=="onFocusIn"?l.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=d2,t.addEventListener(e,s?tS:eS,s)):t.removeEventListener(e,s?tS:eS,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function F3(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=d2++;else if(e.t<n.u)return;return n(On.event?On.event(e):e)}}}function f2(t,e,n,r,i,s,l,c,d,f){var p,m,g,y,b,_,E,k,D,x,T,O,C,U,z,B,q,W=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),s=[c=e.__e=n.__e]),(p=On.__b)&&p(e);e:if(typeof W=="function")try{if(k=e.props,D="prototype"in W&&W.prototype.render,x=(p=W.contextType)&&r[p.__c],T=p?x?x.props.value:p.__:r,n.__c?E=(m=e.__c=n.__c).__=m.__E:(D?e.__c=m=new W(k,T):(e.__c=m=new Uy(k,T),m.constructor=W,m.render=HK),x&&x.sub(m),m.state||(m.state={}),m.__n=r,g=m.__d=!0,m.__h=[],m._sb=[]),D&&m.__s==null&&(m.__s=m.state),D&&W.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=ko({},m.__s)),ko(m.__s,W.getDerivedStateFromProps(k,m.__s))),y=m.props,b=m.state,m.__v=e,g)D&&W.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),D&&m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(D&&W.getDerivedStateFromProps==null&&k!==y&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(k,T),e.__v==n.__v||!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(k,m.__s,T)===!1){for(e.__v!=n.__v&&(m.props=k,m.state=m.__s,m.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(K){K&&(K.__=e)}),O=0;O<m._sb.length;O++)m.__h.push(m._sb[O]);m._sb=[],m.__h.length&&l.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(k,m.__s,T),D&&m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(y,b,_)})}if(m.context=T,m.props=k,m.__P=t,m.__e=!1,C=On.__r,U=0,D){for(m.state=m.__s,m.__d=!1,C&&C(e),p=m.render(m.props,m.state,m.context),z=0;z<m._sb.length;z++)m.__h.push(m._sb[z]);m._sb=[]}else do m.__d=!1,C&&C(e),p=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++U<25);m.state=m.__s,m.getChildContext!=null&&(r=ko(ko({},r),m.getChildContext())),D&&!g&&m.getSnapshotBeforeUpdate!=null&&(_=m.getSnapshotBeforeUpdate(y,b)),B=p,p!=null&&p.type===yb&&p.key==null&&(B=_4(p.props.children)),c=w4(t,gb(B)?B:[B],e,n,r,i,s,l,c,d,f),m.base=e.__e,e.__u&=-161,m.__h.length&&l.push(m),E&&(m.__E=m.__=null)}catch(K){if(e.__v=null,d||s!=null)if(K.then){for(e.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else{for(q=s.length;q--;)h2(s[q]);nS(e)}else e.__e=n.__e,e.__k=n.__k,K.then||nS(e);On.__e(K,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=WK(n.__e,e,n,r,i,s,l,d,f);return(p=On.diffed)&&p(e),128&e.__u?void 0:c}function nS(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(nS)}function v4(t,e,n){for(var r=0;r<n.length;r++)p2(n[r],n[++r],n[++r]);On.__c&&On.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){On.__e(s,i.__v)}})}function _4(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:gb(t)?t.map(_4):ko({},t)}function WK(t,e,n,r,i,s,l,c,d){var f,p,m,g,y,b,_,E=n.props||Op,k=e.props,D=e.type;if(D=="svg"?i="http://www.w3.org/2000/svg":D=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(f=0;f<s.length;f++)if((y=s[f])&&"setAttribute"in y==!!D&&(D?y.localName==D:y.nodeType==3)){t=y,s[f]=null;break}}if(t==null){if(D==null)return document.createTextNode(k);t=document.createElementNS(i,D,k.is&&k),c&&(On.__m&&On.__m(e,s),c=!1),s=null}if(D==null)E===k||c&&t.data==k||(t.data=k);else{if(s=s&&mb.call(t.childNodes),!c&&s!=null)for(E={},f=0;f<t.attributes.length;f++)E[(y=t.attributes[f]).name]=y.value;for(f in E)if(y=E[f],f!="children"){if(f=="dangerouslySetInnerHTML")m=y;else if(!(f in k)){if(f=="value"&&"defaultValue"in k||f=="checked"&&"defaultChecked"in k)continue;Gg(t,f,null,y,i)}}for(f in k)y=k[f],f=="children"?g=y:f=="dangerouslySetInnerHTML"?p=y:f=="value"?b=y:f=="checked"?_=y:c&&typeof y!="function"||E[f]===y||Gg(t,f,y,E[f],i);if(p)c||m&&(p.__html==m.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(m&&(t.innerHTML=""),w4(e.type=="template"?t.content:t,gb(g)?g:[g],e,n,r,D=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,l,s?s[0]:n.__k&&th(n,0),c,d),s!=null)for(f=s.length;f--;)h2(s[f]);c||(f="value",D=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[f]||D=="progress"&&!b||D=="option"&&b!=E[f])&&Gg(t,f,b,E[f],i),f="checked",_!=null&&_!=t[f]&&Gg(t,f,_,E[f],i))}return t}function p2(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){On.__e(i,n)}}function E4(t,e,n){var r,i;if(On.unmount&&On.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||p2(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){On.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&E4(r[i],e,n||typeof t.type!="function");n||h2(t.__e),t.__c=t.__=t.__e=void 0}function HK(t,e,n){return this.constructor(t,n)}function rS(t,e,n){var r,i,s,l;e==document&&(e=document.documentElement),On.__&&On.__(t,e),i=(r=!1)?null:e.__k,s=[],l=[],f2(e,t=e.__k=cn(yb,null,[t]),i||Op,Op,e.namespaceURI,i?null:e.firstChild?mb.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,l),v4(s,t,l)}mb=g4.slice,On={__e:function(t,e,n,r){for(var i,s,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),l=i.__d),l)return i.__E=i}catch(c){t=c}throw t}},h4=0,Uy.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ko({},this.state),typeof t=="function"&&(t=t(ko({},n),this.props)),t&&ko(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),j3(this))},Uy.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),j3(this))},Uy.prototype.render=yb,qc=[],f4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p4=function(t,e){return t.__v.__b-e.__v.__b},uw.__r=0,m4=/(PointerCapture)$|Capture$/i,d2=0,eS=F3(!1),tS=F3(!0);var dw,Kn,F_,q3,iS=0,S4=[],sr=On,W3=sr.__b,H3=sr.__r,V3=sr.diffed,K3=sr.__c,G3=sr.unmount,Y3=sr.__;function A4(t,e){sr.__h&&sr.__h(Kn,t,iS||e),iS=0;var n=Kn.__H||(Kn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Z3(t){return iS=1,VK(T4,t)}function VK(t,e,n){var r=A4(dw++,2);if(r.t=t,!r.__c&&(r.__=[T4(void 0,e),function(c){var d=r.__N?r.__N[0]:r.__[0],f=r.t(d,c);d!==f&&(r.__N=[f,r.__[1]],r.__c.setState({}))}],r.__c=Kn,!Kn.__f)){var i=function(c,d,f){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(g){return!!g.__c});if(p.every(function(g){return!g.__N}))return!s||s.call(this,c,d,f);var m=r.__c.props!==c;return p.forEach(function(g){if(g.__N){var y=g.__[0];g.__=g.__N,g.__N=void 0,y!==g.__[0]&&(m=!0)}}),s&&s.call(this,c,d,f)||m};Kn.__f=!0;var s=Kn.shouldComponentUpdate,l=Kn.componentWillUpdate;Kn.componentWillUpdate=function(c,d,f){if(this.__e){var p=s;s=void 0,i(c,d,f),s=p}l&&l.call(this,c,d,f)},Kn.shouldComponentUpdate=i}return r.__N||r.__}function KK(t,e){var n=A4(dw++,3);!sr.__s&&ZK(n.__H,e)&&(n.__=t,n.u=e,Kn.__H.__h.push(n))}function GK(){for(var t;t=S4.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach($y),t.__H.__h.forEach(sS),t.__H.__h=[]}catch(e){t.__H.__h=[],sr.__e(e,t.__v)}}sr.__b=function(t){Kn=null,W3&&W3(t)},sr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Y3&&Y3(t,e)},sr.__r=function(t){H3&&H3(t),dw=0;var e=(Kn=t.__c).__H;e&&(F_===Kn?(e.__h=[],Kn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach($y),e.__h.forEach(sS),e.__h=[],dw=0)),F_=Kn},sr.diffed=function(t){V3&&V3(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(S4.push(e)!==1&&q3===sr.requestAnimationFrame||((q3=sr.requestAnimationFrame)||YK)(GK)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),F_=Kn=null},sr.__c=function(t,e){e.some(function(n){try{n.__h.forEach($y),n.__h=n.__h.filter(function(r){return!r.__||sS(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],sr.__e(r,n.__v)}}),K3&&K3(t,e)},sr.unmount=function(t){G3&&G3(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{$y(r)}catch(i){e=i}}),n.__H=void 0,e&&sr.__e(e,n.__v))};var X3=typeof requestAnimationFrame=="function";function YK(t){var e,n=function(){clearTimeout(r),X3&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);X3&&(e=requestAnimationFrame(n))}function $y(t){var e=Kn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Kn=e}function sS(t){var e=Kn;t.__c=t.__(),Kn=e}function ZK(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function T4(t,e){return typeof e=="function"?e(t):e}const XK=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",JK="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",QK="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class x4{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=c4()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&rS(cn("div",null,cn(C4,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>cn(eG,Object.assign({},n,{key:e}))))),this.root)}}const C4=t=>cn("div",{class:fp("-cbwsdk-snackbar-container")},cn("style",null,XK),cn("div",{class:"-cbwsdk-snackbar"},t.children)),eG=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=Z3(!0),[s,l]=Z3(t??!1);KK(()=>{const d=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{l(!0)},1e4)];return()=>{d.forEach(window.clearTimeout)}});const c=()=>{l(!s)};return cn("div",{class:fp("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},cn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:c},cn("img",{src:JK,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",cn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),cn("div",{class:"-gear-container"},!s&&cn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),cn("img",{src:QK,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&cn("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((d,f)=>cn("div",{class:fp("-cbwsdk-snackbar-instance-menu-item",d.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:d.onClick,key:f},cn("svg",{width:d.svgWidth,height:d.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cn("path",{"fill-rule":d.defaultFillRule,"clip-rule":d.defaultClipRule,d:d.path,fill:"#AAAAAA"})),cn("span",{class:fp("-cbwsdk-snackbar-instance-menu-item-info",d.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},d.info)))))},I4="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class tG{constructor(){this.attached=!1,this.snackbar=new x4}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,u4()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:I4,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const nG=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class rG{constructor(){this.root=null,this.darkMode=c4()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),u4()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(rS(null,this.root),e&&rS(cn(iG,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const iG=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return cn(C4,{darkMode:n},cn("div",{class:"-cbwsdk-redirect-dialog"},cn("style",null,nG),cn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),cn("div",{class:fp("-cbwsdk-redirect-dialog-box",s)},cn("p",null,t),cn("button",{onClick:r},e))))},sG="https://keys.coinbase.com/connect",aG="https://rpc.wallet.coinbase.com",J3="https://www.walletlink.org",oG="https://go.cb-w.com/walletlink";class Q3{constructor(){this.attached=!1,this.redirectDialog=new rG}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(oG);n.searchParams.append("redirect_url",LK().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Ao{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=BK(),this.linkedUpdated=s=>{this.isLinked=s;const l=this.storage.getItem(QE);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,l){const c=l.split(" "),d=this.storage.getItem("IsStandaloneSigning")==="true";c[0]!==""&&!s&&this._session.linked&&!d&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,l)=>{this.storage.setItem(s,l)},this.chainUpdated=(s,l)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===l||(this.chainCallbackParams={chainId:s,jsonRpcUrl:l},this.chainCallback&&this.chainCallback(l,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Ao.accountRequestCallbackIds.size>0&&(Array.from(Ao.accountRequestCallbackIds.values()).forEach(l=>{this.invokeCallback(l,{method:"requestEthereumAccounts",result:[s]})}),Ao.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new hK,this.ui=r,this.ui.attach()}subscribe(){const e=Bd.load(this.storage)||Bd.create(this.storage),{linkAPIUrl:n}=this,r=new dK({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new Q3:new tG;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=Bd.load(this.storage);e?.id===this._session.id&&Ma.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ma(e.weiValue),data:dp(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ma(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?ma(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?ma(e.gasPriceInWei):null,gasLimit:e.gasLimit?ma(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ma(e.weiValue),data:dp(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ma(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?ma(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?ma(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?ma(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:dp(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Fc(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,l)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,c=>{if(n?.(),Vr(c))return l(new Error(c.errorMessage));s(c)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Q3)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Ao.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Ao.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Fc(8);return new Promise((s,l)=>{this.relayEventManager.callbacks.set(i,c=>{if(Vr(c))return l(new Error(c.errorMessage));s(c)}),Ao.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,l){const c={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:l}};let d=null;const f=Fc(8),p=m=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,c.method,m),d?.()};return d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}),new Promise((m,g)=>{this.relayEventManager.callbacks.set(f,y=>{if(d?.(),Vr(y))return g(new Error(y.errorMessage));m(y)}),this.publishWeb3RequestEvent(f,c)})}addEthereumChain(e,n,r,i,s,l){const c={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:l}};let d=null;const f=Fc(8),p=m=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,c.method,m),d?.()};return d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}),new Promise((m,g)=>{this.relayEventManager.callbacks.set(f,y=>{if(d?.(),Vr(y))return g(new Error(y.errorMessage));m(y)}),this.publishWeb3RequestEvent(f,c)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Fc(8),l=c=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,c),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}),new Promise((c,d)=>{this.relayEventManager.callbacks.set(s,f=>{if(i?.(),Vr(f)&&f.errorCode)return d(zt.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Vr(f))return d(new Error(f.errorMessage));c(f)}),this.publishWeb3RequestEvent(s,r)})}}Ao.accountRequestCallbackIds=new Set;const ek="DefaultChainId",tk="DefaultJsonRpcUrl";class O4{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Ma("walletlink",J3),this.callback=e.callback||null;const n=this._storage.getItem(QE);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>bl(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(tk))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(tk,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(ek,n.toString(10)),hp(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Gl(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw zt.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw zt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw zt.rpc.invalidParams("Options are required");if(!n?.options.address)throw zt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:l,decimals:c}=n.options,f=await this.initializeRelay().watchAsset(n.type,i,s,c,l,r?.toString());return Vr(f)?!1:!!f.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw zt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw zt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw zt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const l=this.initializeRelay(),{rpcUrls:c=[],blockExplorerUrls:d=[],chainName:f,iconUrls:p=[],nativeCurrency:m}=i,g=await l.addEthereumChain(s.toString(),c,p,d,f,m);if(Vr(g))return!1;if(((r=g.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(c[0],s),null;throw zt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Vr(s))throw s;const l=s.result;return l.isApproved&&l.rpcUrl.length>0&&this.updateProviderInfo(l.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>bl(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(QE,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Gl(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw zt.rpc.internal("No RPC URL set for chain");return c2(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=bl(e);if(!this._addresses.map(i=>bl(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?bl(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?bl(e.to):null,i=e.value!=null?_f(e.value):BigInt(0),s=e.data?JE(e.data):Buffer.alloc(0),l=e.nonce!=null?hp(e.nonce):null,c=e.gasPrice!=null?_f(e.gasPrice):null,d=e.maxFeePerGas!=null?_f(e.maxFeePerGas):null,f=e.maxPriorityFeePerGas!=null?_f(e.maxPriorityFeePerGas):null,p=e.gas!=null?_f(e.gas):null,m=e.chainId?hp(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:l,gasPriceInWei:c,maxFeePerGas:d,maxPriorityFeePerGas:f,gasLimit:p,chainId:m}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw zt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:N_(r[0]),signature:N_(r[1]),addPrefix:n==="personal_ecRecover"}});if(Vr(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(ek))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Gl(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Vr(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Gl(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw zt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:bl(n),message:N_(r),addPrefix:!0,typedDataJson:null}});if(Vr(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Vr(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=JE(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Vr(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Vr(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw zt.rpc.invalidParams();const i=f=>{const p={eth_signTypedData_v1:Vg.hashForSignTypedDataLegacy,eth_signTypedData_v3:Vg.hashForSignTypedData_v3,eth_signTypedData_v4:Vg.hashForSignTypedData_v4,eth_signTypedData:Vg.hashForSignTypedData_v4};return dp(p[n]({data:LV(f)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],l=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const d=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:bl(s),message:i(l),typedDataJson:JSON.stringify(l,null,2),addPrefix:!1}});if(Vr(d))throw d;return d.result}initializeRelay(){return this._relay||(this._relay=new Ao({linkAPIUrl:J3,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const k4="SignerType",R4=new Ma("CBWSDK","SignerConfigurator");function lG(){return R4.getItem(k4)}function cG(t){R4.setItem(k4,t)}async function uG(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;hG(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:l}=await e.postRequestAndWaitForResponse(s);return l}function dG(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new XV({metadata:n,callback:i,communicator:r});case"walletlink":return new O4({metadata:n,callback:i})}}async function hG(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new O4({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const fG=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,pG=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(fG)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:mG,getCrossOriginOpenerPolicy:gG}=pG(),nk=420,rk=540,yG={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:I4,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},wG="Popup was blocked. Try again.";let Yg=null;function bG(t){const e=(window.innerWidth-nk)/2+window.screenX,n=(window.innerHeight-rk)/2+window.screenY;_G(t);function r(){const s=`wallet_${crypto.randomUUID()}`,l=window.open(t,s,`width=${nk}, height=${rk}, left=${e}, top=${n}`);return l?.focus(),l||null}let i=r();if(!i){const s=EG();return new Promise((l,c)=>{s.presentItem({autoExpand:!0,message:wG,menuItems:[Object.assign(Object.assign({},yG),{onClick:()=>{i=r(),i?l(i):c(zt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function vG(t){t&&!t.closed&&t.close()}function _G(t){const e={sdkName:r4,sdkVersion:Jp,origin:window.location.origin,coop:gG()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function EG(){if(!Yg){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Yg=new x4,Yg.attach(t)}return Yg}class SG{constructor({url:e=sG,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:l})=>l===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,l)=>{const c=d=>{if(d.origin!==this.url.origin)return;const f=d.data;i(f)&&(s(f),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:l})}),this.disconnect=()=>{vG(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(zt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await bG(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Jp,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw zt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function AG(t){const e=NV(TG(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",Jp),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function TG(t){var e;if(typeof t=="string")return{message:t,code:Wn.rpc.internal};if(Vr(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Wn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class xG extends wu{}var CG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class IG extends xG{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=CG(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new SG({url:i,metadata:n,preference:s});const l=lG();l&&(this.signer=this.initSigner(l))}async request(e){try{if(ZV(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,cG(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return c2(e,aG);case"net_version":return 1;case"eth_chainId":return Gl(1);default:throw zt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Wn.provider.unauthorized&&this.disconnect(),Promise.reject(AG(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Ma.clearAll(),this.emit("disconnect",zt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return uG({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return dG({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function OG(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function kG(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=YV(n))!==null&&e!==void 0?e:new IG(n)}const RG={options:"all"};function ik(t){var e;new Ma("CBWSDK").setItem("VERSION",Jp),mG();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(RG,(e=t.preference)!==null&&e!==void 0?e:{})};OG(r.preference);let i=null;return{getProvider:()=>(i||(i=kG(r)),i)}}const DG=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},D4=t=>window.open(t?.location,void 0,DG({w:440,h:680})),N4="/api/v1/sessions",P4="/api/v1/sessions/logout",NG="/api/v1/siwe/init",PG="/api/v1/siwe/authenticate",UG="/api/v1/siwe/link",$G="/api/v1/siwe/link_smart_wallet",MG="/api/v1/siwe/unlink",LG="/api/v1/siwe/transfer",BG="/api/v1/siws/init",jG="/api/v1/siws/authenticate",zG="/api/v1/siws/link",FG="/api/v1/siws/unlink",qG="/api/v1/siws/transfer",WG="/api/v1/farcaster/init",HG="/api/v1/farcaster/authenticate",VG="/api/v1/farcaster/link",KG="/api/v1/farcaster/status",GG="/api/v1/farcaster/unlink",YG="/api/v1/farcaster/transfer",ZG="/api/v1/passwordless/init",XG="/api/v1/passwordless/authenticate",JG="/api/v1/passwordless/link",QG="/api/v1/passwordless/unlink",eY="/api/v1/passwordless/update",tY="/api/v1/passwordless/transfer",nY="/api/v1/passwordless_sms/init",rY="/api/v1/passwordless_sms/link",iY="/api/v1/passwordless_sms/unlink",sY="/api/v1/passwordless_sms/authenticate",aY="/api/v1/passwordless_sms/update",oY="/api/v1/passwordless_sms/transfer",U4="/api/v1/oauth/init",$4="/api/v1/oauth/authenticate",M4="/api/v1/oauth/link",lY="/api/v1/oauth/unlink",cY="/api/v1/oauth/transfer",RTe="/api/v1/recovery/oauth/init",DTe="/api/v1/recovery/oauth/init_icloud",NTe="/api/v1/recovery/oauth/authenticate",uY="/api/v1/passkeys/link/init",dY="/api/v1/passkeys/authenticate/init",hY="/api/v1/passkeys/register/init",fY="/api/v1/passkeys/link",pY="/api/v1/passkeys/authenticate",mY="/api/v1/passkeys/register",gY="/api/v1/telegram/authenticate",yY="/api/v1/telegram/link",wY="/api/v1/telegram/unlink",bY="/api/v1/telegram/transfer",vY="/api/v1/mfa/passwordless_sms/init",_Y="/api/v1/mfa/passkeys/init",EY="/api/v1/users/me/accept_terms",L4="/api/v1/analytics_events",SY="/api/v1/custom_jwt_account/authenticate",AY="/api/v1/custom_jwt_account/link",TY="/api/v1/guest/authenticate",xY="/api/v1/plugins/moonpay_on_ramp/sign",CY="/api/v1/funding/coinbase_on_ramp/init",IY="/api/v1/funding/coinbase_on_ramp/status",OY="/api/v1/wallets/revoke",kY="/api/v1/users/me",RY="/api/v1/scan/transaction";function B4(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function DY(t,e){let n=B4(e);if($a.isMobile&&$a.isAndroid&&n.universalLink)return hw(n.universalLink,t);if(n.deepLink)return z4(n.deepLink,t);if(n.universalLink)return hw(n.universalLink,t);throw new oe(`Unsupported wallet ${e.id}`)}function sk(t,e){let n=B4(e);if(n.universalLink)return hw(n.universalLink,t)}let m2="WALLETCONNECT_DEEPLINK_CHOICE";function NY(){try{localStorage.removeItem(m2)}catch{}}function PY({href:t,name:e}){try{localStorage.setItem(m2,JSON.stringify({href:t,name:e}))}catch{}}function UY(){try{localStorage.removeItem(m2)}catch{}}function j4(t){return t.startsWith("http://")||t.startsWith("https://")}function z4(t,e){if(j4(t))return hw(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function hw(t,e){if(!j4(t))return z4(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function F4(t,e){window.open(t,e,"noreferrer noopener")}const $Y=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`,MY=Symbol("solana-funding-plugin"),LY=Symbol("solana-ledger-plugin"),g2=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],q4=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:l,setUser:c,walletIndex:d,chainType:f,recoveryMethod:p,recoveryPassword:m,recoveryAccessToken:g,idempotencyKey:y})=>{if(d===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await OE(i,{request:{chain_type:f},headers:y?{"privy-idempotency-key":y}:void 0});else if(f==="ethereum"){let E=KA(t);E&&await l({address:E.address}),await n.create({accessToken:e,solanaAddress:E?.address,recoveryMethod:p,recoveryPassword:m,recoveryAccessToken:g})}else{if(f!=="solana")throw Error("Invalid input to create wallet");{let E=Vl(t);E&&await l({address:E.address}),await n.createSolana({accessToken:e,ethereumAddress:E?.address,recoveryMethod:p,recoveryPassword:m,recoveryAccessToken:g})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await OE(i,{request:{chain_type:f}});else{let{entropyId:E,entropyIdVerifier:k}=jl(t);await l(),await n.addWallet({accessToken:e,entropyId:E,entropyIdVerifier:k,chainType:f,hdWalletIndex:d})}let b=await r(),_=g2(b,{chainType:f,walletIndex:d})[0];return c(b),{user:b,account:_}},BY=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null);let ak=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:l,user:c,walletIndex:d,setModalData:f,openModal:p,chainType:m,setUser:g,idempotencyKey:y})=>{if(d<0)throw r("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${d}) is invalid.`);let b=Sp(c);if(d>0&&!b)throw r("createWallet","onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Ee.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!b&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await ok({emitPrivyEvent:r,setModalData:f,openModal:p,chainType:m});let _=g2(c,{chainType:m,walletIndex:d})[0];if(_)return{user:c,account:_};if(d===0&&!i)return ok({emitPrivyEvent:r,setModalData:f,openModal:p,chainType:m});if(!i)throw r("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return q4({appConfig:e,walletIndex:d,chainType:m,user:c,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:l,setUser:g,idempotencyKey:y})},ok=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:l,account:c})=>{t("createWallet","onSuccess",{wallet:c}),i({user:l,account:c})},onFailure:l=>{t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),s(l)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")}));const jY=()=>{let t=os(),e=db(),{setModalData:n}=Kd(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:l,refreshSessionAndUser:c,privy:d,client:f}=qo();return{create:async({chainType:p,options:m,latestUser:g,idempotencyKey:y})=>{let b=g;if(b||(b=await c()),!b)throw e("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:_,getAccessToken:E,initializeWalletProxy:k,user:D,privy:x,emitPrivyEvent:T,recoverEmbeddedWallet:O,setModalData:C,openModal:U,setUser:z,options:B,timeoutDuration:q,refreshSessionAndUser:W,chainType:K,idempotencyKey:H})=>{let[G,A]=await Promise.all([k(q),E()]);if(!A||!D)throw T("createWallet","onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!G&&_.customAuth?.enabled)throw T("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(B&&"walletIndex"in B&&typeof B.walletIndex=="number"){if(_.embeddedWallets.mode==="user-controlled-server-wallets-only")throw T("createWallet","onError",Ee.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return ak({accessToken:A,appConfig:_,privy:x,emitPrivyEvent:T,openModal:U,proxy:G,refreshSessionAndUser:W,recoverEmbeddedWallet:O,setModalData:C,user:D,walletIndex:B.walletIndex,chainType:K,setUser:z})}let S=B&&"createAdditional"in B&&B.createAdditional,P=g2(D,{chainType:K});if(P[0]&&!S)throw T("createWallet","onError",Ee.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return ak({accessToken:A,appConfig:_,privy:x,emitPrivyEvent:T,openModal:U,proxy:G,recoverEmbeddedWallet:O,setModalData:C,user:D,walletIndex:(BY(P)?.walletIndex??-1)+1,chainType:K,refreshSessionAndUser:W,setUser:z,idempotencyKey:H})})({appConfig:t,privy:d,getAccessToken:()=>f.getAccessToken(),refreshSessionAndUser:c,initializeWalletProxy:r,user:b,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:l,setUser:s,options:m,timeoutDuration:Fq,chainType:p,idempotencyKey:y})}}};function zY(t){let{create:e}=jY();return ub("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const FY=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:l,chainType:c,additionalSigners:d})=>{if(!i)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new oe("User must be authenticated before linking an account.");let f=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(d&&f==="on-device")throw new oe("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[p,m]=await Promise.all([e(),n(15e3)]);if(!m||!p)throw t("linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new oe("User must be authenticated before linking an account.");let{address:g}=await m.importWallet({privateKey:l,accessToken:p,chainType:c,mode:f,additionalSigners:d}),y=await r(),b=ME(y),_=b?.find((E=>E.address===g));if(!_)throw t("createWallet","onError",Ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:_}),_},qY=()=>{let{user:t}=mh(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=qo(),i=db(),s=os();return{importWallet:F.useCallback((({privateKey:l,additionalSigners:c})=>FY({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:l,chainType:"ethereum",additionalSigners:c})),[t,e,n,r,i,s])}},W4=()=>{let{importWallet:t}=qY(),{exportWallet:e}=cV(),{createWallet:n}=zY();return{...F.useContext(ph),importWallet:t,createWallet:n,exportWallet:e}};function y2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WY(t,...e){if(!y2(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function H4(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function kp(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Qp(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function fw(t){if(!Array.isArray(t))throw new Error("array expected")}function pw(t,e){if(!H4(!0,e))throw new Error(`${t}: array of strings expected`)}function V4(t,e){if(!H4(!1,e))throw new Error(`${t}: array of numbers expected`)}function w2(...t){const e=s=>s,n=(s,l)=>c=>s(l(c)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function b2(t){const e=typeof t=="string"?t.split(""):t,n=e.length;pw("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(fw(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(fw(i),i.map(s=>{kp("alphabet.decode",s);const l=r.get(s);if(l===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return l}))}}function v2(t=""){return kp("join",t),{encode:e=>(pw("join.decode",e),e.join(t)),decode:e=>(kp("join.decode",e),e.split(t))}}function K4(t,e="="){return Qp(t),kp("padding",e),{encode(n){for(pw("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){pw("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function lk(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(fw(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,c=>{if(Qp(c),c<0||c>=e)throw new Error(`invalid integer: ${c}`);return c}),l=s.length;for(;;){let c=0,d=!0;for(let f=r;f<l;f++){const p=s[f],m=e*c,g=m+p;if(!Number.isSafeInteger(g)||m/e!==c||g-p!==m)throw new Error("convertRadix: carry overflow");const y=g/n;c=g%n;const b=Math.floor(y);if(s[f]=b,!Number.isSafeInteger(b)||b*n+c!==g)throw new Error("convertRadix: carry overflow");if(d)b?d=!1:r=f;else continue}if(i.push(c),d)break}for(let c=0;c<t.length-1&&t[c]===0;c++)i.push(0);return i.reverse()}const G4=(t,e)=>e===0?t:G4(e,t%e),mw=(t,e)=>t+(e-G4(t,e)),q_=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ck(t,e,n,r){if(fw(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(mw(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${mw(e,n)}`);let i=0,s=0;const l=q_[e],c=q_[n]-1,d=[];for(const f of t){if(Qp(f),f>=l)throw new Error(`convertRadix2: invalid data word=${f} from=${e}`);if(i=i<<e|f,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)d.push((i>>s-n&c)>>>0);const p=q_[s];if(p===void 0)throw new Error("invalid carry");i&=p-1}if(i=i<<n-s&c,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&d.push(i>>>0),d}function HY(t){Qp(t);const e=2**8;return{encode:n=>{if(!y2(n))throw new Error("radix.encode input should be Uint8Array");return lk(Array.from(n),e,t)},decode:n=>(V4("radix.decode",n),Uint8Array.from(lk(n,t,e)))}}function Y4(t,e=!1){if(Qp(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(mw(8,t)>32||mw(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!y2(n))throw new Error("radix2.encode input should be Uint8Array");return ck(Array.from(n),8,t,!e)},decode:n=>(V4("radix2.decode",n),Uint8Array.from(ck(n,t,8,e)))}}const VY=w2(Y4(5),b2("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),K4(5),v2("")),KY=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",GY=(t,e)=>{kp("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},W_=KY?{encode(t){return WY(t),t.toBase64()},decode(t){return GY(t)}}:w2(Y4(6),b2("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),K4(6),v2("")),YY=t=>w2(HY(58),b2(t),v2("")),ZY=YY("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var XY=Object.defineProperty,JY=(t,e,n)=>e in t?XY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H_=(t,e,n)=>(JY(t,typeof e!="symbol"?e+"":e,n),n);let QY=class{constructor(){H_(this,"current",this.detect()),H_(this,"handoffState","pending"),H_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ra=new QY;function em(t){var e;return Ra.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function gw(t){var e,n;return Ra.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function _2(t){var e,n;return(n=(e=gw(t))==null?void 0:e.activeElement)!=null?n:null}function eZ(t){return _2(t)===t}function wb(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ca(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return wb(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ca();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function bb(){let[t]=F.useState(ca);return F.useEffect(()=>()=>t.dispose(),[t]),t}let Mi=(t,e)=>{Ra.isServer?F.useEffect(t,e):F.useLayoutEffect(t,e)};function _u(t){let e=F.useRef(t);return Mi(()=>{e.current=t},[t]),e}let mn=function(t){let e=_u(t);return et.useCallback((...n)=>e.current(...n),[e])};function tm(t){return F.useMemo(()=>t,Object.values(t))}let tZ=F.createContext(void 0);function nZ(){return F.useContext(tZ)}function aS(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Lo(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Lo),r}var yw=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(yw||{}),Yl=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Yl||{});function Bs(){let t=iZ();return F.useCallback(e=>rZ({mergeRefs:t,...e}),[t])}function rZ({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:l,mergeRefs:c}){c=c??sZ;let d=Z4(e,t);if(s)return Zg(d,n,r,l,c);let f=i??0;if(f&2){let{static:p=!1,...m}=d;if(p)return Zg(m,n,r,l,c)}if(f&1){let{unmount:p=!0,...m}=d;return Lo(p?0:1,{0(){return null},1(){return Zg({...m,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return Zg(d,n,r,l,c)}function Zg(t,e={},n,r,i){let{as:s=n,children:l,refName:c="ref",...d}=V_(t,["unmount","static"]),f=t.ref!==void 0?{[c]:t.ref}:{},p=typeof l=="function"?l(e):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(e)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(e){let g=!1,y=[];for(let[b,_]of Object.entries(e))typeof _=="boolean"&&(g=!0),_===!0&&y.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(g){m["data-headlessui-state"]=y.join(" ");for(let b of y)m[`data-${b}`]=""}}if(pp(s)&&(Object.keys(Mc(d)).length>0||Object.keys(Mc(m)).length>0))if(!F.isValidElement(p)||Array.isArray(p)&&p.length>1||oZ(p)){if(Object.keys(Mc(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Mc(d)).concat(Object.keys(Mc(m))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=p.props,y=g?.className,b=typeof y=="function"?(...k)=>aS(y(...k),d.className):aS(y,d.className),_=b?{className:b}:{},E=Z4(p.props,Mc(V_(d,["ref"])));for(let k in m)k in E&&delete m[k];return F.cloneElement(p,Object.assign({},E,m,f,{ref:i(aZ(p),f.ref)},_))}return F.createElement(s,Object.assign({},V_(d,["ref"]),!pp(s)&&f,!pp(s)&&m),p)}function iZ(){let t=F.useRef([]),e=F.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function sZ(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Z4(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let l=n[r];for(let c of l){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function UTe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let l of s)l?.(...i)}});return e}function Bi(t){var e;return Object.assign(F.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Mc(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function V_(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function aZ(t){return et.version.split(".")[0]>="19"?t.props.ref:t.ref}function pp(t){return t===F.Fragment||t===Symbol.for("react.fragment")}function oZ(t){return pp(t.type)}let lZ="span";var ww=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ww||{});function cZ(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Bs()({ourProps:s,theirProps:i,slot:{},defaultTag:lZ,name:"Hidden"})}let oS=Bi(cZ);function uZ(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Po(t){return uZ(t)&&"tagName"in t}function La(t){return Po(t)&&"accessKey"in t}function Ro(t){return Po(t)&&"tabIndex"in t}function dZ(t){return Po(t)&&"style"in t}function hZ(t){return La(t)&&t.nodeName==="IFRAME"}function fZ(t){return La(t)&&t.nodeName==="INPUT"}function $Te(t){return La(t)&&t.nodeName==="LABEL"}function MTe(t){return La(t)&&t.nodeName==="FIELDSET"}function LTe(t){return La(t)&&t.nodeName==="LEGEND"}function BTe(t){return Po(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let X4=Symbol();function pZ(t,e=!0){return Object.assign(t,{[X4]:e})}function za(...t){let e=F.useRef(t);F.useEffect(()=>{e.current=t},[t]);let n=mn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[X4])?void 0:n}let E2=F.createContext(null);E2.displayName="DescriptionContext";function J4(){let t=F.useContext(E2);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,J4),e}return t}function mZ(){let[t,e]=F.useState([]);return[t.length>0?t.join(" "):void 0,F.useMemo(()=>function(n){let r=mn(s=>(e(l=>[...l,s]),()=>e(l=>{let c=l.slice(),d=c.indexOf(s);return d!==-1&&c.splice(d,1),c}))),i=F.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return et.createElement(E2.Provider,{value:i},n.children)},[e])]}let gZ="p";function yZ(t,e){let n=F.useId(),r=nZ(),{id:i=`headlessui-description-${n}`,...s}=t,l=J4(),c=za(e);Mi(()=>l.register(i),[i,l.register]);let d=tm({...l.slot,disabled:r||!1}),f={ref:c,...l.props,id:i};return Bs()({ourProps:f,theirProps:s,slot:d,defaultTag:gZ,name:l.name||"Description"})}let wZ=Bi(yZ),bZ=Object.assign(wZ,{});var Q4=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Q4||{});let vZ=F.createContext(()=>{});function _Z({value:t,children:e}){return et.createElement(vZ.Provider,{value:t},e)}let eP=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var EZ=Object.defineProperty,SZ=(t,e,n)=>e in t?EZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AZ=(t,e,n)=>(SZ(t,e+"",n),n),tP=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ss=(t,e,n)=>(tP(t,e,"read from private field"),n?n.call(t):e.get(t)),K_=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},uk=(t,e,n,r)=>(tP(t,e,"write to private field"),e.set(t,n),n),Sa,Jf,Qf;let TZ=class{constructor(e){K_(this,Sa,{}),K_(this,Jf,new eP(()=>new Set)),K_(this,Qf,new Set),AZ(this,"disposables",ca()),uk(this,Sa,e),Ra.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ss(this,Sa)}subscribe(e,n){if(Ra.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ss(this,Sa))};return Ss(this,Qf).add(r),this.disposables.add(()=>{Ss(this,Qf).delete(r)})}on(e,n){return Ra.isServer?()=>{}:(Ss(this,Jf).get(e).add(n),this.disposables.add(()=>{Ss(this,Jf).get(e).delete(n)}))}send(e){let n=this.reduce(Ss(this,Sa),e);if(n!==Ss(this,Sa)){uk(this,Sa,n);for(let r of Ss(this,Qf)){let i=r.selector(Ss(this,Sa));nP(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ss(this,Jf).get(e.type))r(Ss(this,Sa),e)}}};Sa=new WeakMap,Jf=new WeakMap,Qf=new WeakMap;function nP(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:G_(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:G_(t.entries(),e.entries()):dk(t)&&dk(e)?G_(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function G_(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function dk(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function FTe(t){let[e,n]=t(),r=ca();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var xZ=Object.defineProperty,CZ=(t,e,n)=>e in t?xZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hk=(t,e,n)=>(CZ(t,typeof e!="symbol"?e+"":e,n),n),IZ=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(IZ||{});let OZ={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},kZ=class rP extends TZ{constructor(){super(...arguments),hk(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),hk(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new rP({stack:[]})}reduce(e,n){return Lo(n.type,OZ,e,n)}};const iP=new eP(()=>kZ.new());var Y_={exports:{}},Z_={};var fk;function RZ(){if(fk)return Z_;fk=1;var t=MA();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Z_.useSyncExternalStoreWithSelector=function(d,f,p,m,g){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function E(O){if(!k){if(k=!0,D=O,O=m(O),g!==void 0&&b.hasValue){var C=b.value;if(g(C,O))return x=C}return x=O}if(C=x,n(D,O))return C;var U=m(O);return g!==void 0&&g(C,U)?(D=O,C):(D=O,x=U)}var k=!1,D,x,T=p===void 0?null:p;return[function(){return E(f())},T===null?void 0:function(){return E(T())}]},[f,p,m,g]);var _=r(d,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=_},[_]),c(_),_},Z_}var pk;function DZ(){return pk||(pk=1,Y_.exports=RZ()),Y_.exports}var NZ=DZ();function sP(t,e,n=nP){return NZ.useSyncExternalStoreWithSelector(mn(r=>t.subscribe(PZ,r)),mn(()=>t.state),mn(()=>t.state),mn(e),n)}function PZ(t){return t}function nm(t,e){let n=F.useId(),r=iP.get(e),[i,s]=sP(r,F.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return Mi(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let lS=new Map,mp=new Map;function mk(t){var e;let n=(e=mp.get(t))!=null?e:0;return mp.set(t,n+1),n!==0?()=>gk(t):(lS.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>gk(t))}function gk(t){var e;let n=(e=mp.get(t))!=null?e:1;if(n===1?mp.delete(t):mp.set(t,n-1),n!==1)return;let r=lS.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,lS.delete(t))}function UZ(t,{allowed:e,disallowed:n}={}){let r=nm(t,"inert-others");Mi(()=>{var i,s;if(!r)return;let l=ca();for(let d of(i=n?.())!=null?i:[])d&&l.add(mk(d));let c=(s=e?.())!=null?s:[];for(let d of c){if(!d)continue;let f=em(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let m of p.children)c.some(g=>m.contains(g))||l.add(mk(m));p=p.parentElement}}return l.dispose},[r,e,n])}function $Z(t,e,n){let r=_u(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});F.useEffect(()=>{if(!t)return;let i=e===null?null:La(e)?e:e.current;if(!i)return;let s=ca();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(i));l.observe(i),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(i));l.observe(i),s.add(()=>l.disconnect())}return()=>s.dispose()},[e,r,t])}let bw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),MZ=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Co=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Co||{}),cS=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(cS||{}),LZ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(LZ||{});function aP(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(bw)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function BZ(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(MZ)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var oP=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(oP||{});function lP(t,e=0){var n;return t===((n=em(t))==null?void 0:n.body)?!1:Lo(e,{0(){return t.matches(bw)},1(){let r=t;for(;r!==null;){if(r.matches(bw))return!0;r=r.parentElement}return!1}})}function qTe(t){ca().nextFrame(()=>{let e=_2(t);e&&Ro(e)&&!lP(e,0)&&Da(t)})}var jZ=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(jZ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Da(t){t?.focus({preventScroll:!0})}let zZ=["textarea","input"].join(",");function FZ(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,zZ))!=null?n:!1}function qZ(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let l=i.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function WTe(t,e,n=t===null?document.body:gw(t)){return jd(aP(n),e,{relativeTo:t})}function jd(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?gw(t[0]):document:gw(t),l=Array.isArray(t)?n?qZ(t):t:e&64?BZ(t):aP(t);i.length>0&&l.length>1&&(l=l.filter(y=>!i.some(b=>b!=null&&"current"in b?b?.current===y:b===y))),r=r??s?.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(r))-1;if(e&4)return Math.max(0,l.indexOf(r))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=e&32?{preventScroll:!0}:{},p=0,m=l.length,g;do{if(p>=m||p+m<=0)return 0;let y=d+p;if(e&16)y=(y+m)%m;else{if(y<0)return 3;if(y>=m)return 1}g=l[y],g?.focus(f),p+=c}while(g!==_2(g));return e&6&&FZ(g)&&g.select(),2}function cP(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function WZ(){return/Android/gi.test(window.navigator.userAgent)}function yk(){return cP()||WZ()}function Xg(t,e,n,r){let i=_u(n);F.useEffect(()=>{if(!t)return;function s(l){i.current(l)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function uP(t,e,n,r){let i=_u(n);F.useEffect(()=>{if(!t)return;function s(l){i.current(l)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const wk=30;function HZ(t,e,n){let r=_u(n),i=F.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function m(g){return typeof g=="function"?m(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let m of p)if(m!==null&&(m.contains(f)||c.composed&&c.composedPath().includes(m)))return;return!lP(f,oP.Loose)&&f.tabIndex!==-1&&c.preventDefault(),r.current(c,f)},[r,e]),s=F.useRef(null);Xg(t,"pointerdown",c=>{var d,f;yk()||(s.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),Xg(t,"pointerup",c=>{if(yk()||!s.current)return;let d=s.current;return s.current=null,i(c,()=>d)},!0);let l=F.useRef({x:0,y:0});Xg(t,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Xg(t,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=wk||Math.abs(d.y-l.current.y)>=wk))return i(c,()=>Ro(c.target)?c.target:null)},!0),uP(t,"blur",c=>i(c,()=>hZ(window.document.activeElement)?window.document.activeElement:null),!0)}function S2(...t){return F.useMemo(()=>em(...t),[...t])}function dP(t,e,n,r){let i=_u(n);F.useEffect(()=>{t=t??window;function s(l){i.current(l)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function VZ(t){return F.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function KZ(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let l=e[i].call(n,...s);l&&(n=l,r.forEach(c=>c()))}}}function GZ(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function YZ(){return cP()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let l of s())if(l.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=ca();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",c=>{if(Ro(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=t.querySelector(f);Ro(p)&&!r(p)&&(l=p)}catch{}},!0),e.group(c=>{e.addEventListener(t,"touchstart",d=>{if(c.dispose(),Ro(d.target)&&dZ(d.target))if(r(d.target)){let f=d.target;for(;f.parentElement&&r(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",c=>{if(Ro(c.target)){if(fZ(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function ZZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function bk(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Yc=KZ(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ca(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=bk(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=bk(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[YZ(),GZ(),ZZ()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Yc.subscribe(()=>{let t=Yc.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Yc.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Yc.dispatch("TEARDOWN",n)}});function XZ(t,e,n=()=>({containers:[]})){let r=VZ(Yc),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Mi(()=>{if(!(!e||!t))return Yc.dispatch("PUSH",e,n),()=>Yc.dispatch("POP",e,n)},[t,e]),s}function JZ(t,e,n=()=>[document.body]){let r=nm(t,"scroll-lock");XZ(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function QZ(t=0){let[e,n]=F.useState(t),r=F.useCallback(d=>n(d),[]),i=F.useCallback(d=>n(f=>f|d),[]),s=F.useCallback(d=>(e&d)===d,[e]),l=F.useCallback(d=>n(f=>f&~d),[]),c=F.useCallback(d=>n(f=>f^d),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:l,toggleFlag:c}}var eX={},vk,_k;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vk=process==null?void 0:eX)==null?void 0:vk.NODE_ENV)==="test"&&typeof((_k=Element?.prototype)==null?void 0:_k.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var tX=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(tX||{});function nX(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function rX(t,e,n,r){let[i,s]=F.useState(n),{hasFlag:l,addFlag:c,removeFlag:d}=QZ(t&&i?3:0),f=F.useRef(!1),p=F.useRef(!1),m=bb();return Mi(()=>{var g;if(t){if(n&&s(!0),!e){n&&c(3);return}return(g=r?.start)==null||g.call(r,n),iX(e,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){p.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var y;p.current&&oX(e)||(f.current=!1,d(7),n||s(!1),(y=r?.end)==null||y.call(r,n))}})}},[t,n,e,m]),t?[i,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function iX(t,{prepare:e,run:n,done:r,inFlight:i}){let s=ca();return aX(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(sX(t,r))})}),s.dispose}function sX(t,e){var n,r;let i=ca();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),i.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function aX(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function oX(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function A2(t,e){let n=F.useRef([]),r=mn(t);F.useEffect(()=>{let i=[...n.current];for(let[s,l]of e.entries())if(n.current[s]!==l){let c=r(e,i);return n.current=e,c}},[r,...e])}let vb=F.createContext(null);vb.displayName="OpenClosedContext";var ra=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ra||{});function _b(){return F.useContext(vb)}function lX({value:t,children:e}){return et.createElement(vb.Provider,{value:t},e)}function cX({children:t}){return et.createElement(vb.Provider,{value:null},t)}function uX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let zl=[];uX(()=>{function t(e){if(!Ro(e.target)||e.target===document.body||zl[0]===e.target)return;let n=e.target;n=n.closest(bw),zl.unshift(n??e.target),zl=zl.filter(r=>r!=null&&r.isConnected),zl.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function hP(t){let e=mn(t),n=F.useRef(!1);F.useEffect(()=>(n.current=!1,()=>{n.current=!0,wb(()=>{n.current&&e()})}),[e])}let fP=F.createContext(!1);function dX(){return F.useContext(fP)}function Ek(t){return et.createElement(fP.Provider,{value:t.force},t.children)}function hX(t){let e=dX(),n=F.useContext(mP),[r,i]=F.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Ra.isServer)return null;let l=t?.getElementById("headlessui-portal-root");if(l)return l;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return F.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),F.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let pP=F.Fragment,fX=Bi(function(t,e){let{ownerDocument:n=null,...r}=t,i=F.useRef(null),s=za(pZ(g=>{i.current=g}),e),l=S2(i.current),c=n??l,d=hX(c),f=F.useContext(uS),p=bb(),m=Bs();return hP(()=>{var g;d&&d.childNodes.length<=0&&((g=d.parentElement)==null||g.removeChild(d))}),d?nj.createPortal(et.createElement("div",{"data-headlessui-portal":"",ref:g=>{p.dispose(),f&&g&&p.add(f.register(g))}},m({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:pP,name:"Portal"})),d):null});function pX(t,e){let n=za(e),{enabled:r=!0,ownerDocument:i,...s}=t,l=Bs();return r?et.createElement(fX,{...s,ownerDocument:i,ref:n}):l({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:pP,name:"Portal"})}let mX=F.Fragment,mP=F.createContext(null);function gX(t,e){let{target:n,...r}=t,i={ref:za(e)},s=Bs();return et.createElement(mP.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:mX,name:"Popover.Group"}))}let uS=F.createContext(null);function yX(){let t=F.useContext(uS),e=F.useRef([]),n=mn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=mn(s=>{let l=e.current.indexOf(s);l!==-1&&e.current.splice(l,1),t&&t.unregister(s)}),i=F.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,F.useMemo(()=>function({children:s}){return et.createElement(uS.Provider,{value:i},s)},[i])]}let wX=Bi(pX),gP=Bi(gX),bX=Object.assign(wX,{Group:gP});function vX(t,e=typeof document<"u"?document.defaultView:null,n){let r=nm(t,"escape");dP(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Q4.Escape&&n(i))})}function _X(){var t;let[e]=F.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=F.useState((t=e?.matches)!=null?t:!1);return Mi(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function EX({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=mn(()=>{var i,s;let l=em(n),c=[];for(let d of t)d!==null&&(Po(d)?c.push(d):"current"in d&&Po(d.current)&&c.push(d.current));if(e!=null&&e.current)for(let d of e.current)c.push(d);for(let d of(i=l?.querySelectorAll("html > *, body > *"))!=null?i:[])d!==document.body&&d!==document.head&&Po(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((s=n?.getRootNode())==null?void 0:s.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:r,contains:mn(i=>r().some(s=>s.contains(i)))}}let yP=F.createContext(null);function Sk({children:t,node:e}){let[n,r]=F.useState(null),i=wP(e??n);return et.createElement(yP.Provider,{value:i},t,i===null&&et.createElement(oS,{features:ww.Hidden,ref:s=>{var l,c;if(s){for(let d of(c=(l=em(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&Po(d)&&d!=null&&d.contains(s)){r(d);break}}}}))}function wP(t=null){var e;return(e=F.useContext(yP))!=null?e:t}function SX(){let t=typeof document>"u";return"useSyncExternalStore"in yO?(e=>e.useSyncExternalStore)(yO)(()=>()=>{},()=>!1,()=>!t):!1}function Eb(){let t=SX(),[e,n]=F.useState(Ra.isHandoffComplete);return e&&Ra.isHandoffComplete===!1&&n(!1),F.useEffect(()=>{e!==!0&&n(!0)},[e]),F.useEffect(()=>Ra.handoff(),[]),t?!1:e}function T2(){let t=F.useRef(!1);return Mi(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ep=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ep||{});function AX(){let t=F.useRef(0);return uP(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function bP(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Po(n.current)&&e.add(n.current);return e}let TX="div";var Wc=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Wc||{});function xX(t,e){let n=F.useRef(null),r=za(n,e),{initialFocus:i,initialFocusFallback:s,containers:l,features:c=15,...d}=t;Eb()||(c=0);let f=S2(n.current);kX(c,{ownerDocument:f});let p=RX(c,{ownerDocument:f,container:n,initialFocus:i,initialFocusFallback:s});DX(c,{ownerDocument:f,container:n,containers:l,previousActiveElement:p});let m=AX(),g=mn(D=>{if(!La(n.current))return;let x=n.current;(T=>T())(()=>{Lo(m.current,{[ep.Forwards]:()=>{jd(x,Co.First,{skipElements:[D.relatedTarget,s]})},[ep.Backwards]:()=>{jd(x,Co.Last,{skipElements:[D.relatedTarget,s]})}})})}),y=nm(!!(c&2),"focus-trap#tab-lock"),b=bb(),_=F.useRef(!1),E={ref:r,onKeyDown(D){D.key=="Tab"&&(_.current=!0,b.requestAnimationFrame(()=>{_.current=!1}))},onBlur(D){if(!(c&4))return;let x=bP(l);La(n.current)&&x.add(n.current);let T=D.relatedTarget;Ro(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(vP(x,T)||(_.current?jd(n.current,Lo(m.current,{[ep.Forwards]:()=>Co.Next,[ep.Backwards]:()=>Co.Previous})|Co.WrapAround,{relativeTo:D.target}):Ro(D.target)&&Da(D.target)))}},k=Bs();return et.createElement(et.Fragment,null,y&&et.createElement(oS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:ww.Focusable}),k({ourProps:E,theirProps:d,defaultTag:TX,name:"FocusTrap"}),y&&et.createElement(oS,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:ww.Focusable}))}let CX=Bi(xX),IX=Object.assign(CX,{features:Wc});function OX(t=!0){let e=F.useRef(zl.slice());return A2(([n],[r])=>{r===!0&&n===!1&&wb(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=zl.slice())},[t,zl,e]),mn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function kX(t,{ownerDocument:e}){let n=!!(t&8),r=OX(n);A2(()=>{n||eZ(e?.body)&&Da(r())},[n]),hP(()=>{n&&Da(r())})}function RX(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=F.useRef(null),l=nm(!!(t&1),"focus-trap#initial-focus"),c=T2();return A2(()=>{if(t===0)return;if(!l){i!=null&&i.current&&Da(i.current);return}let d=n.current;d&&wb(()=>{if(!c.current)return;let f=e?.activeElement;if(r!=null&&r.current){if(r?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(r!=null&&r.current)Da(r.current);else{if(t&16){if(jd(d,Co.First|Co.AutoFocus)!==cS.Error)return}else if(jd(d,Co.First)!==cS.Error)return;if(i!=null&&i.current&&(Da(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,l,t]),s}function DX(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=T2(),l=!!(t&4);dP(e?.defaultView,"focus",c=>{if(!l||!s.current)return;let d=bP(r);La(n.current)&&d.add(n.current);let f=i.current;if(!f)return;let p=c.target;La(p)?vP(d,p)?(i.current=p,Da(p)):(c.preventDefault(),c.stopPropagation(),Da(f)):Da(i.current)},!0)}function vP(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function _P(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!pp((e=t.as)!=null?e:SP)||et.Children.count(t.children)===1}let Sb=F.createContext(null);Sb.displayName="TransitionContext";var NX=(t=>(t.Visible="visible",t.Hidden="hidden",t))(NX||{});function PX(){let t=F.useContext(Sb);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function UX(){let t=F.useContext(Ab);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Ab=F.createContext(null);Ab.displayName="NestingContext";function Tb(t){return"children"in t?Tb(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function EP(t,e){let n=_u(t),r=F.useRef([]),i=T2(),s=bb(),l=mn((y,b=Yl.Hidden)=>{let _=r.current.findIndex(({el:E})=>E===y);_!==-1&&(Lo(b,{[Yl.Unmount](){r.current.splice(_,1)},[Yl.Hidden](){r.current[_].state="hidden"}}),s.microTask(()=>{var E;!Tb(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),c=mn(y=>{let b=r.current.find(({el:_})=>_===y);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:y,state:"visible"}),()=>l(y,Yl.Unmount)}),d=F.useRef([]),f=F.useRef(Promise.resolve()),p=F.useRef({enter:[],leave:[]}),m=mn((y,b,_)=>{d.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([E])=>E!==y)),e?.chains.current[b].push([y,new Promise(E=>{d.current.push(E)})]),e?.chains.current[b].push([y,new Promise(E=>{Promise.all(p.current[b].map(([k,D])=>D)).then(()=>E())})]),b==="enter"?f.current=f.current.then(()=>e?.wait.current).then(()=>_(b)):_(b)}),g=mn((y,b,_)=>{Promise.all(p.current[b].splice(0).map(([E,k])=>k)).then(()=>{var E;(E=d.current.shift())==null||E()}).then(()=>_(b))});return F.useMemo(()=>({children:r,register:c,unregister:l,onStart:m,onStop:g,wait:f,chains:p}),[c,l,r,m,g,p,f])}let SP=F.Fragment,AP=yw.RenderStrategy;function $X(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:p,enterTo:m,entered:g,leave:y,leaveFrom:b,leaveTo:_,...E}=t,[k,D]=F.useState(null),x=F.useRef(null),T=_P(t),O=za(...T?[x,e,D]:e===null?[]:[e]),C=(n=E.unmount)==null||n?Yl.Unmount:Yl.Hidden,{show:U,appear:z,initial:B}=PX(),[q,W]=F.useState(U?"visible":"hidden"),K=UX(),{register:H,unregister:G}=K;Mi(()=>H(x),[H,x]),Mi(()=>{if(C===Yl.Hidden&&x.current){if(U&&q!=="visible"){W("visible");return}return Lo(q,{hidden:()=>G(x),visible:()=>H(x)})}},[q,x,H,G,U,C]);let A=Eb();Mi(()=>{if(T&&A&&q==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,q,A,T]);let S=B&&!z,P=z&&U&&B,$=F.useRef(!1),R=EP(()=>{$.current||(W("hidden"),G(x))},K),L=mn(Ie=>{$.current=!0;let $e=Ie?"enter":"leave";R.onStart(x,$e,xe=>{xe==="enter"?s?.():xe==="leave"&&c?.()})}),Y=mn(Ie=>{let $e=Ie?"enter":"leave";$.current=!1,R.onStop(x,$e,xe=>{xe==="enter"?l?.():xe==="leave"&&d?.()}),$e==="leave"&&!Tb(R)&&(W("hidden"),G(x))});F.useEffect(()=>{T&&i||(L(U),Y(U))},[U,T,i]);let Z=!(!i||!T||!A||S),[,ie]=rX(Z,k,U,{start:L,end:Y}),ee=Mc({ref:O,className:((r=aS(E.className,P&&f,P&&p,ie.enter&&f,ie.enter&&ie.closed&&p,ie.enter&&!ie.closed&&m,ie.leave&&y,ie.leave&&!ie.closed&&b,ie.leave&&ie.closed&&_,!ie.transition&&U&&g))==null?void 0:r.trim())||void 0,...nX(ie)}),se=0;q==="visible"&&(se|=ra.Open),q==="hidden"&&(se|=ra.Closed),U&&q==="hidden"&&(se|=ra.Opening),!U&&q==="visible"&&(se|=ra.Closing);let Se=Bs();return et.createElement(Ab.Provider,{value:R},et.createElement(lX,{value:se},Se({ourProps:ee,theirProps:E,defaultTag:SP,features:AP,visible:q==="visible",name:"Transition.Child"})))}function MX(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,l=F.useRef(null),c=_P(t),d=za(...c?[l,e]:e===null?[]:[e]);Eb();let f=_b();if(n===void 0&&f!==null&&(n=(f&ra.Open)===ra.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=F.useState(n?"visible":"hidden"),g=EP(()=>{n||m("hidden")}),[y,b]=F.useState(!0),_=F.useRef([n]);Mi(()=>{y!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),b(!1))},[_,n]);let E=F.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);Mi(()=>{n?m("visible"):!Tb(g)&&l.current!==null&&m("hidden")},[n,g]);let k={unmount:i},D=mn(()=>{var O;y&&b(!1),(O=t.beforeEnter)==null||O.call(t)}),x=mn(()=>{var O;y&&b(!1),(O=t.beforeLeave)==null||O.call(t)}),T=Bs();return et.createElement(Ab.Provider,{value:g},et.createElement(Sb.Provider,{value:E},T({ourProps:{...k,as:F.Fragment,children:et.createElement(TP,{ref:d,...k,...s,beforeEnter:D,beforeLeave:x})},theirProps:{},defaultTag:F.Fragment,features:AP,visible:p==="visible",name:"Transition"})))}function LX(t,e){let n=F.useContext(Sb)!==null,r=_b()!==null;return et.createElement(et.Fragment,null,!n&&r?et.createElement(dS,{ref:e,...t}):et.createElement(TP,{ref:e,...t}))}let dS=Bi(MX),TP=Bi($X),Rp=Bi(LX),xP=Object.assign(dS,{Child:Rp,Root:dS});var BX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(BX||{}),jX=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(jX||{});let zX={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},x2=F.createContext(null);x2.displayName="DialogContext";function xb(t){let e=F.useContext(x2);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xb),n}return e}function FX(t,e){return Lo(e.type,zX,t,e)}let Ak=Bi(function(t,e){let n=F.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...m}=t,g=F.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(g.current||(g.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=_b();i===void 0&&y!==null&&(i=(y&ra.Open)===ra.Open);let b=F.useRef(null),_=za(b,e),E=S2(b.current),k=i?0:1,[D,x]=F.useReducer(FX,{titleId:null,descriptionId:null,panelRef:F.createRef()}),T=mn(()=>s(!1)),O=mn(ie=>x({type:0,id:ie})),C=Eb()?k===0:!1,[U,z]=yX(),B={get current(){var ie;return(ie=D.panelRef.current)!=null?ie:b.current}},q=wP(),{resolveContainers:W}=EX({mainTreeNode:q,portals:U,defaultContainers:[B]}),K=y!==null?(y&ra.Closing)===ra.Closing:!1;UZ(f||K?!1:C,{allowed:mn(()=>{var ie,ee;return[(ee=(ie=b.current)==null?void 0:ie.closest("[data-headlessui-portal]"))!=null?ee:null]}),disallowed:mn(()=>{var ie;return[(ie=q?.closest("body > *:not(#headlessui-portal-root)"))!=null?ie:null]})});let H=iP.get(null);Mi(()=>{if(C)return H.actions.push(r),()=>H.actions.pop(r)},[H,r,C]);let G=sP(H,F.useCallback(ie=>H.selectors.isTop(ie,r),[H,r]));HZ(G,W,ie=>{ie.preventDefault(),T()}),vX(G,E?.defaultView,ie=>{ie.preventDefault(),ie.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),JZ(f||K?!1:C,E,W),$Z(C,b,T);let[A,S]=mZ(),P=F.useMemo(()=>[{dialogState:k,close:T,setTitleId:O,unmount:p},D],[k,T,O,p,D]),$=tm({open:k===0}),R={ref:_,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:k===0?!0:void 0,"aria-labelledby":D.titleId,"aria-describedby":A,unmount:p},L=!_X(),Y=Wc.None;C&&!f&&(Y|=Wc.RestoreFocus,Y|=Wc.TabLock,d&&(Y|=Wc.AutoFocus),L&&(Y|=Wc.InitialFocus));let Z=Bs();return et.createElement(cX,null,et.createElement(Ek,{force:!0},et.createElement(bX,null,et.createElement(x2.Provider,{value:P},et.createElement(gP,{target:b},et.createElement(Ek,{force:!1},et.createElement(S,{slot:$},et.createElement(z,null,et.createElement(IX,{initialFocus:l,initialFocusFallback:b,containers:W,features:Y},et.createElement(_Z,{value:T},Z({ourProps:R,theirProps:m,slot:$,defaultTag:qX,features:WX,visible:k===0,name:"Dialog"})))))))))))}),qX="div",WX=yw.RenderStrategy|yw.Static;function HX(t,e){let{transition:n=!1,open:r,...i}=t,s=_b(),l=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?et.createElement(Sk,null,et.createElement(xP,{show:r,transition:n,unmount:i.unmount},et.createElement(Ak,{ref:e,...i}))):et.createElement(Sk,null,et.createElement(Ak,{ref:e,open:r,...i}))}let VX="div";function KX(t,e){let n=F.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:l,unmount:c},d]=xb("Dialog.Panel"),f=za(e,d.panelRef),p=tm({open:l===0}),m=mn(E=>{E.stopPropagation()}),g={ref:f,id:r,onClick:m},y=i?Rp:F.Fragment,b=i?{unmount:c}:{},_=Bs();return et.createElement(y,{...b},_({ourProps:g,theirProps:s,slot:p,defaultTag:VX,name:"Dialog.Panel"}))}let GX="div";function YX(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=xb("Dialog.Backdrop"),l=tm({open:i===0}),c={ref:e,"aria-hidden":!0},d=n?Rp:F.Fragment,f=n?{unmount:s}:{},p=Bs();return et.createElement(d,{...f},p({ourProps:c,theirProps:r,slot:l,defaultTag:GX,name:"Dialog.Backdrop"}))}let ZX="h2";function XX(t,e){let n=F.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:l}]=xb("Dialog.Title"),c=za(e);F.useEffect(()=>(l(r),()=>l(null)),[r,l]);let d=tm({open:s===0}),f={ref:c,id:r};return Bs()({ourProps:f,theirProps:i,slot:d,defaultTag:ZX,name:"Dialog.Title"})}let JX=Bi(HX),CP=Bi(KX);Bi(YX);let QX=Bi(XX),eJ=Object.assign(JX,{Panel:CP,Title:QX,Description:bZ});var Jg={exports:{}},Tk;function tJ(){if(Tk)return Jg.exports;Tk=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,C,U){return Function.prototype.apply.call(O,C,U)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(O){return O!==O};function s(){s.init.call(this)}Jg.exports=s,Jg.exports.once=k,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function d(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(O){for(var C=[],U=1;U<arguments.length;U++)C.push(arguments[U]);var z=O==="error",B=this._events;if(B!==void 0)z=z&&B.error===void 0;else if(!z)return!1;if(z){var q;if(C.length>0&&(q=C[0]),q instanceof Error)throw q;var W=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw W.context=q,W}var K=B[O];if(K===void 0)return!1;if(typeof K=="function")e(K,this,C);else for(var H=K.length,G=b(K,H),U=0;U<H;++U)e(G[U],this,C);return!0};function f(T,O,C,U){var z,B,q;if(c(C),B=T._events,B===void 0?(B=T._events=Object.create(null),T._eventsCount=0):(B.newListener!==void 0&&(T.emit("newListener",O,C.listener?C.listener:C),B=T._events),q=B[O]),q===void 0)q=B[O]=C,++T._eventsCount;else if(typeof q=="function"?q=B[O]=U?[C,q]:[q,C]:U?q.unshift(C):q.push(C),z=d(T),z>0&&q.length>z&&!q.warned){q.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=T,W.type=O,W.count=q.length,r(W)}return T}s.prototype.addListener=function(O,C){return f(this,O,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(O,C){return f(this,O,C,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(T,O,C){var U={fired:!1,wrapFn:void 0,target:T,type:O,listener:C},z=p.bind(U);return z.listener=C,U.wrapFn=z,z}s.prototype.once=function(O,C){return c(C),this.on(O,m(this,O,C)),this},s.prototype.prependOnceListener=function(O,C){return c(C),this.prependListener(O,m(this,O,C)),this},s.prototype.removeListener=function(O,C){var U,z,B,q,W;if(c(C),z=this._events,z===void 0)return this;if(U=z[O],U===void 0)return this;if(U===C||U.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete z[O],z.removeListener&&this.emit("removeListener",O,U.listener||C));else if(typeof U!="function"){for(B=-1,q=U.length-1;q>=0;q--)if(U[q]===C||U[q].listener===C){W=U[q].listener,B=q;break}if(B<0)return this;B===0?U.shift():_(U,B),U.length===1&&(z[O]=U[0]),z.removeListener!==void 0&&this.emit("removeListener",O,W||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(O){var C,U,z;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[O]),this;if(arguments.length===0){var B=Object.keys(U),q;for(z=0;z<B.length;++z)q=B[z],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=U[O],typeof C=="function")this.removeListener(O,C);else if(C!==void 0)for(z=C.length-1;z>=0;z--)this.removeListener(O,C[z]);return this};function g(T,O,C){var U=T._events;if(U===void 0)return[];var z=U[O];return z===void 0?[]:typeof z=="function"?C?[z.listener||z]:[z]:C?E(z):b(z,z.length)}s.prototype.listeners=function(O){return g(this,O,!0)},s.prototype.rawListeners=function(O){return g(this,O,!1)},s.listenerCount=function(T,O){return typeof T.listenerCount=="function"?T.listenerCount(O):y.call(T,O)},s.prototype.listenerCount=y;function y(T){var O=this._events;if(O!==void 0){var C=O[T];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(T,O){for(var C=new Array(O),U=0;U<O;++U)C[U]=T[U];return C}function _(T,O){for(;O+1<T.length;O++)T[O]=T[O+1];T.pop()}function E(T){for(var O=new Array(T.length),C=0;C<O.length;++C)O[C]=T[C].listener||T[C];return O}function k(T,O){return new Promise(function(C,U){function z(q){T.removeListener(O,B),U(q)}function B(){typeof T.removeListener=="function"&&T.removeListener("error",z),C([].slice.call(arguments))}x(T,O,B,{once:!0}),O!=="error"&&D(T,z,{once:!0})})}function D(T,O,C){typeof T.on=="function"&&x(T,"error",O,C)}function x(T,O,C,U){if(typeof T.on=="function")U.once?T.once(O,C):T.on(O,C);else if(typeof T.addEventListener=="function")T.addEventListener(O,function z(B){U.once&&T.removeEventListener(O,z),C(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return Jg.exports}var ls=tJ();const C2=hh(ls);var xk=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},nJ=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),rJ=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),iJ=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),sJ=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),aJ=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),oJ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,lJ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ck=3,cJ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oJ]],Ik=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function uJ(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new aJ:typeof navigator<"u"?hJ(navigator.userAgent):pJ()}function dJ(t){return t!==""&&cJ.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function hJ(t){var e=dJ(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new sJ;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ck&&(i=xk(xk([],i,!0),mJ(Ck-i.length),!0)):i=[];var s=i.join("."),l=fJ(t),c=lJ.exec(t);return c&&c[1]?new iJ(n,s,l,c[1]):new nJ(n,s,l)}function fJ(t){for(var e=0,n=Ik.length;e<n;e++){var r=Ik[e],i=r[0],s=r[1],l=s.exec(t);if(l)return i}return null}function pJ(){var t=typeof process<"u"&&process.version;return t?new rJ(process.version.slice(1)):null}function mJ(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var X_={};var hS=function(t,e){return hS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},hS(t,e)};function gJ(t,e){hS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fS=function(){return fS=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fS.apply(this,arguments)};function yJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wJ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(s=(i<3?l(s):i>3?l(e,n,s):l(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function bJ(t,e){return function(n,r){e(n,r,t)}}function vJ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _J(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?s(p.value):i(p.value).then(c,d)}f((r=r.apply(t,e||[])).next())})}function EJ(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function SJ(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function AJ(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function IP(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return s}function TJ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(IP(arguments[e]));return t}function xJ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],l=0,c=s.length;l<c;l++,i++)r[i]=s[l];return r}function Dp(t){return this instanceof Dp?(this.v=t,this):new Dp(t)}function CJ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(g){r[g]&&(i[g]=function(y){return new Promise(function(b,_){s.push([g,y,b,_])>1||c(g,y)})})}function c(g,y){try{d(r[g](y))}catch(b){m(s[0][3],b)}}function d(g){g.value instanceof Dp?Promise.resolve(g.value.v).then(f,p):m(s[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function m(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function IJ(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(l){return(n=!n)?{value:Dp(t[i](l)),done:i==="return"}:s?s(l):l}:s}}function OJ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pS=="function"?pS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(c,d){l=t[s](l),i(c,d,l.done,l.value)})}}function i(s,l,c,d){Promise.resolve(d).then(function(f){s({value:f,done:c})},l)}}function kJ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function RJ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function DJ(t){return t&&t.__esModule?t:{default:t}}function NJ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function PJ(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const UJ=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return fS},__asyncDelegator:IJ,__asyncGenerator:CJ,__asyncValues:OJ,__await:Dp,__awaiter:_J,__classPrivateFieldGet:NJ,__classPrivateFieldSet:PJ,__createBinding:SJ,__decorate:wJ,__exportStar:AJ,__extends:gJ,__generator:EJ,__importDefault:DJ,__importStar:RJ,__makeTemplateObject:kJ,__metadata:vJ,__param:bJ,__read:IP,__rest:yJ,__spread:TJ,__spreadArrays:xJ,__values:pS},Symbol.toStringTag,{value:"Module"})),Cb=y5(UJ);var J_={},Sf={},Ok;function $J(){if(Ok)return Sf;Ok=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Sf.delay=t,Sf}var Rc={},Q_={},Dc={},kk;function MJ(){return kk||(kk=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.ONE_THOUSAND=Dc.ONE_HUNDRED=void 0,Dc.ONE_HUNDRED=100,Dc.ONE_THOUSAND=1e3),Dc}var e1={},Rk;function LJ(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(e1)),e1}var Dk;function OP(){return Dk||(Dk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cb;e.__exportStar(MJ(),t),e.__exportStar(LJ(),t)})(Q_)),Q_}var Nk;function BJ(){if(Nk)return Rc;Nk=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.fromMiliseconds=Rc.toMiliseconds=void 0;const t=OP();function e(r){return r*t.ONE_THOUSAND}Rc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Rc.fromMiliseconds=n,Rc}var Pk;function jJ(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cb;e.__exportStar($J(),t),e.__exportStar(BJ(),t)})(J_)),J_}var yd={},Uk;function zJ(){if(Uk)return yd;Uk=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return yd.Watch=t,yd.default=t,yd}var t1={},Af={},$k;function FJ(){if($k)return Af;$k=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.IWatch=void 0;class t{}return Af.IWatch=t,Af}var Mk;function qJ(){return Mk||(Mk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Cb.__exportStar(FJ(),t)})(t1)),t1}var Lk;function WJ(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Cb;e.__exportStar(jJ(),t),e.__exportStar(zJ(),t),e.__exportStar(qJ(),t),e.__exportStar(OP(),t)})(X_)),X_}var Ue=WJ(),fn={},Bk;function kP(){if(Bk)return fn;Bk=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.getLocalStorage=fn.getLocalStorageOrThrow=fn.getCrypto=fn.getCryptoOrThrow=fn.getLocation=fn.getLocationOrThrow=fn.getNavigator=fn.getNavigatorOrThrow=fn.getDocument=fn.getDocumentOrThrow=fn.getFromWindowOrThrow=fn.getFromWindow=void 0;function t(g){let y;return typeof window<"u"&&typeof window[g]<"u"&&(y=window[g]),y}fn.getFromWindow=t;function e(g){const y=t(g);if(!y)throw new Error(`${g} is not defined in Window`);return y}fn.getFromWindowOrThrow=e;function n(){return e("document")}fn.getDocumentOrThrow=n;function r(){return t("document")}fn.getDocument=r;function i(){return e("navigator")}fn.getNavigatorOrThrow=i;function s(){return t("navigator")}fn.getNavigator=s;function l(){return e("location")}fn.getLocationOrThrow=l;function c(){return t("location")}fn.getLocation=c;function d(){return e("crypto")}fn.getCryptoOrThrow=d;function f(){return t("crypto")}fn.getCrypto=f;function p(){return e("localStorage")}fn.getLocalStorageOrThrow=p;function m(){return t("localStorage")}return fn.getLocalStorage=m,fn}var Bo=kP(),Tf={},jk;function HJ(){if(jk)return Tf;jk=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.getWindowMetadata=void 0;const t=kP();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const y=n.getElementsByTagName("link"),b=[];for(let _=0;_<y.length;_++){const E=y[_],k=E.getAttribute("rel");if(k&&k.toLowerCase().indexOf("icon")>-1){const D=E.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let x=r.protocol+"//"+r.host;if(D.indexOf("/")===0)x+=D;else{const T=r.pathname.split("/");T.pop();const O=T.join("/");x+=O+"/"+D}b.push(x)}else if(D.indexOf("//")===0){const x=r.protocol+D;b.push(x)}else b.push(D)}}return b}function s(...y){const b=n.getElementsByTagName("meta");for(let _=0;_<b.length;_++){const E=b[_],k=["itemprop","property","name"].map(D=>E.getAttribute(D)).filter(D=>D?y.includes(D):!1);if(k.length&&k){const D=E.getAttribute("content");if(D)return D}}return""}function l(){let y=s("name","og:site_name","og:title","twitter:title");return y||(y=n.title),y}function c(){return s("description","og:description","twitter:description","keywords")}const d=l(),f=c(),p=r.origin,m=i();return{description:f,url:p,icons:m,name:d}}return Tf.getWindowMetadata=e,Tf}var VJ=HJ();const KJ="0.1.1";function GJ(){return KJ}class Pn extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Pn){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Pn&&n.cause.docsPath||n.docsPath,l=`https://oxlib.sh${i??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${l}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${GJ()}`}),this.cause=n.cause,this.details=r,this.docs=l,this.docsPath=i,this.shortMessage=e}walk(e){return RP(this,e)}}function RP(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?RP(t.cause,e):e?null:t}const YJ=BigInt(0),xf=BigInt(1),ZJ=BigInt(2),XJ=BigInt(7),JJ=BigInt(256),QJ=BigInt(113),DP=[],NP=[],PP=[];for(let t=0,e=xf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],DP.push(2*(5*r+n)),NP.push((t+1)*(t+2)/2%64);let i=YJ;for(let s=0;s<7;s++)e=(e<<xf^(e>>XJ)*QJ)%JJ,e&ZJ&&(i^=xf<<(xf<<BigInt(s))-xf);PP.push(i)}const UP=OK(PP,!0),eQ=UP[0],tQ=UP[1],zk=(t,e,n)=>n>32?DK(t,e,n):kK(t,e,n),Fk=(t,e,n)=>n>32?NK(t,e,n):RK(t,e,n);function nQ(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,d=(l+2)%10,f=n[d],p=n[d+1],m=zk(f,p,1)^n[c],g=Fk(f,p,1)^n[c+1];for(let y=0;y<50;y+=10)t[l+y]^=m,t[l+y+1]^=g}let i=t[2],s=t[3];for(let l=0;l<24;l++){const c=NP[l],d=zk(i,s,c),f=Fk(i,s,c),p=DP[l];i=t[p],s=t[p+1],t[p]=d,t[p+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=eQ[r],t[1]^=tQ[r]}eh(n)}class I2 extends u2{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Ip(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=mK(this.state)}clone(){return this._cloneInto()}keccak(){N3(this.state32),nQ(this.state32,this.rounds),N3(this.state32),this.posOut=0,this.pos=0}update(e){Qd(this),e=pb(e),ec(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const l=Math.min(n-this.pos,i-s);for(let c=0;c<l;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Qd(this,!1),ec(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ip(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(s4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eh(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:l}=this;return e||(e=new I2(n,r,i,l,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const rQ=(t,e,n)=>o4(()=>new I2(e,t,n)),iQ=rQ(1,136,256/8);const O2=BigInt(0),mS=BigInt(1);function rm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function k2(t){if(!rm(t))throw new Error("Uint8Array expected")}function Np(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Qg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $P(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?O2:BigInt("0x"+t)}const MP=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",sQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pp(t){if(k2(t),MP)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=sQ[t[n]];return e}const co={_0:48,_9:57,A:65,F:70,a:97,f:102};function qk(t){if(t>=co._0&&t<=co._9)return t-co._0;if(t>=co.A&&t<=co.F)return t-(co.A-10);if(t>=co.a&&t<=co.f)return t-(co.a-10)}function vw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(MP)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const l=qk(t.charCodeAt(s)),c=qk(t.charCodeAt(s+1));if(l===void 0||c===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=l*16+c}return r}function ru(t){return $P(Pp(t))}function LP(t){return k2(t),$P(Pp(Uint8Array.from(t).reverse()))}function im(t,e){return vw(t.toString(16).padStart(e*2,"0"))}function BP(t,e){return im(t,e).reverse()}function ks(t,e,n){let r;if(typeof e=="string")try{r=vw(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(rm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function _w(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];k2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const n1=t=>typeof t=="bigint"&&O2<=t;function R2(t,e,n){return n1(t)&&n1(e)&&n1(n)&&e<=t&&t<n}function zd(t,e,n,r){if(!R2(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function aQ(t){let e;for(e=0;t>O2;t>>=mS,e+=1);return e}const Ib=t=>(mS<<BigInt(t))-mS,r1=t=>new Uint8Array(t),Wk=t=>Uint8Array.from(t);function oQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=r1(t),i=r1(t),s=0;const l=()=>{r.fill(1),i.fill(0),s=0},c=(...m)=>n(i,r,...m),d=(m=r1(0))=>{i=c(Wk([0]),m),r=c(),m.length!==0&&(i=c(Wk([1]),m),r=c())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const g=[];for(;m<e;){r=c();const y=r.slice();g.push(y),m+=r.length}return _w(...g)};return(m,g)=>{l(),d(m);let y;for(;!(y=g(f()));)d();return l(),y}}const lQ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||rm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ob(t,e,n={}){const r=(i,s,l)=>{const c=lQ[s];if(typeof c!="function")throw new Error("invalid validator function");const d=t[i];if(!(l&&d===void 0)&&!c(d,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+d)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Hk(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function cQ(t,e){if(Yk(t)>e)throw new kQ({givenSize:Yk(t),maxSize:e})}const uo={zero:48,nine:57,A:65,F:70,a:97,f:102};function Vk(t){if(t>=uo.zero&&t<=uo.nine)return t-uo.zero;if(t>=uo.A&&t<=uo.F)return t-(uo.A-10);if(t>=uo.a&&t<=uo.f)return t-(uo.a-10)}function uQ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new RQ({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const l=n==="right";i[l?s:r-s-1]=t[l?s:t.length-s-1]}return i}function jP(t,e){if(tc(t)>e)throw new vQ({givenSize:tc(t),maxSize:e})}function dQ(t,e){if(typeof e=="number"&&e>0&&e>tc(t)-1)throw new qP({offset:e,position:"start",size:tc(t)})}function hQ(t,e,n){if(typeof e=="number"&&typeof n=="number"&&tc(t)!==n-e)throw new qP({offset:n,position:"end",size:tc(t)})}function zP(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new _Q({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const fQ="#__bigint";function D2(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+fQ:i,n)}const pQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mQ(t,e={}){const{strict:n=!1}=e;if(!t)throw new Kk(t);if(typeof t!="string")throw new Kk(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Gk(t);if(!t.startsWith("0x"))throw new Gk(t)}function gQ(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function N2(t){return t instanceof Uint8Array?Ew(t):Array.isArray(t)?Ew(new Uint8Array(t)):t}function Ew(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=pQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(jP(r,e.size),FP(r,e.size)):r}function i1(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<l){const f=typeof t=="bigint"?"n":"";throw new bQ({max:s?`${s}${f}`:void 0,min:`${l}${f}`,signed:n,size:r,value:`${t}${f}`})}const d=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?yQ(d,r):d}function yQ(t,e){return zP(t,{dir:"left",size:e})}function FP(t,e){return zP(t,{dir:"right",size:e})}function Eo(t,e,n,r={}){const{strict:i}=r;dQ(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&hQ(s,e,n),s}function tc(t){return Math.ceil((t.length-2)/2)}function wQ(t,e={}){const{strict:n=!1}=e;try{return mQ(t,{strict:n}),!0}catch{return!1}}class bQ extends Pn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Kk extends Pn{constructor(e){super(`Value \`${typeof e=="object"?D2(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Gk extends Pn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let vQ=class extends Pn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class qP extends Pn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let _Q=class extends Pn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const EQ=new TextEncoder;function SQ(t){if(!(t instanceof Uint8Array)){if(!t)throw new ey(t);if(typeof t!="object")throw new ey(t);if(!("BYTES_PER_ELEMENT"in t))throw new ey(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new ey(t)}}function AQ(t){return t instanceof Uint8Array?t:typeof t=="string"?xQ(t):TQ(t)}function TQ(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function xQ(t,e={}){const{size:n}=e;let r=t;n&&(jP(t,n),r=FP(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,l=new Uint8Array(s);for(let c=0,d=0;c<s;c++){const f=Vk(i.charCodeAt(d++)),p=Vk(i.charCodeAt(d++));if(f===void 0||p===void 0)throw new Pn(`Invalid byte sequence ("${i[d-2]}${i[d-1]}" in "${i}").`);l[c]=f*16+p}return l}function CQ(t,e={}){const{size:n}=e,r=EQ.encode(t);return typeof n=="number"?(cQ(r,n),IQ(r,n)):r}function IQ(t,e){return uQ(t,{dir:"right",size:e})}function Yk(t){return t.length}function OQ(t){try{return SQ(t),!0}catch{return!1}}class ey extends Pn{constructor(e){super(`Value \`${typeof e=="object"?D2(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class kQ extends Pn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class RQ extends Pn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function WP(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=iQ(AQ(t));return n==="Bytes"?r:Ew(r)}class DQ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const NQ={checksum:new DQ(8192)},s1=NQ.checksum;function HP(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new Zk({prefix:r,cause:new BQ});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new Zk({prefix:r,cause:new LQ});return}throw new MQ({publicKey:t})}function PQ(t){const e=(()=>{if(wQ(t))return VP(t);if(OQ(t))return UQ(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return HP(e),e}function UQ(t){return VP(Ew(t))}function VP(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new jQ({publicKey:t});if(t.length===130){const r=BigInt(Eo(t,0,32)),i=BigInt(Eo(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(Eo(t,0,1)),i=BigInt(Eo(t,1,33)),s=BigInt(Eo(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(Eo(t,0,1)),n=BigInt(Eo(t,1,33));return{prefix:e,x:n}}function $Q(t,e={}){HP(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return gQ(s?i1(n,{size:1}):"0x",i1(r,{size:32}),typeof i=="bigint"?i1(i,{size:32}):"0x")}class MQ extends Pn{constructor({publicKey:e}){super(`Value \`${D2(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Zk extends Pn{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class LQ extends Pn{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class BQ extends Pn{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let jQ=class extends Pn{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${tc(N2(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const zQ=/^0x[a-fA-F0-9]{40}$/;function KP(t,e={}){const{strict:n=!0}=e;if(!zQ.test(t))throw new Xk({address:t,cause:new WQ});if(n){if(t.toLowerCase()===t)return;if(GP(t)!==t)throw new Xk({address:t,cause:new HQ})}}function GP(t){if(s1.has(t))return s1.get(t);KP(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=WP(CQ(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return s1.set(t,i),i}function FQ(t,e={}){const{checksum:n=!1}=e;return KP(t),n?GP(t):t}function qQ(t,e={}){const n=WP(`0x${$Q(t).slice(4)}`).substring(26);return FQ(`0x${n}`,e)}class Xk extends Pn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class WQ extends Pn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class HQ extends Pn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class YP extends u2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,pK(e);const r=pb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=e.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),eh(s)}update(e){return Qd(this),this.iHash.update(e),this}digestInto(e){Qd(this),ec(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ZP=(t,e,n)=>new YP(t,e).update(n).digest();ZP.create=(t,e)=>new YP(t,e);const Ui=BigInt(0),fi=BigInt(1),Zc=BigInt(2),VQ=BigInt(3),XP=BigInt(4),JP=BigInt(5),QP=BigInt(8);function Di(t,e){const n=t%e;return n>=Ui?n:e+n}function As(t,e,n){let r=t;for(;e-- >Ui;)r*=r,r%=n;return r}function gS(t,e){if(t===Ui)throw new Error("invert: expected non-zero number");if(e<=Ui)throw new Error("invert: expected positive modulus, got "+e);let n=Di(t,e),r=e,i=Ui,s=fi;for(;n!==Ui;){const c=r/n,d=r%n,f=i-s*c;r=n,n=d,i=s,s=f}if(r!==fi)throw new Error("invert: does not exist");return Di(i,e)}function eU(t,e){const n=(t.ORDER+fi)/XP,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function KQ(t,e){const n=(t.ORDER-JP)/QP,r=t.mul(e,Zc),i=t.pow(r,n),s=t.mul(e,i),l=t.mul(t.mul(s,Zc),i),c=t.mul(s,t.sub(l,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function GQ(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-fi,n=0;for(;e%Zc===Ui;)e/=Zc,n++;let r=Zc;const i=P2(t);for(;Jk(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return eU;let s=i.pow(r,e);const l=(e+fi)/Zc;return function(d,f){if(d.is0(f))return f;if(Jk(d,f)!==1)throw new Error("Cannot find square root");let p=n,m=d.mul(d.ONE,s),g=d.pow(f,e),y=d.pow(f,l);for(;!d.eql(g,d.ONE);){if(d.is0(g))return d.ZERO;let b=1,_=d.sqr(g);for(;!d.eql(_,d.ONE);)if(b++,_=d.sqr(_),b===p)throw new Error("Cannot find square root");const E=fi<<BigInt(p-b-1),k=d.pow(m,E);p=b,m=d.sqr(k),g=d.mul(g,m),y=d.mul(y,k)}return y}}function YQ(t){return t%XP===VQ?eU:t%QP===JP?KQ:GQ(t)}const ZQ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XQ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ZQ.reduce((r,i)=>(r[i]="function",r),e);return Ob(t,n)}function JQ(t,e,n){if(n<Ui)throw new Error("invalid exponent, negatives unsupported");if(n===Ui)return t.ONE;if(n===fi)return e;let r=t.ONE,i=e;for(;n>Ui;)n&fi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=fi;return r}function tU(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((l,c,d)=>t.is0(c)?l:(r[d]=l,t.mul(l,c)),t.ONE),s=t.inv(i);return e.reduceRight((l,c,d)=>t.is0(c)?l:(r[d]=t.mul(l,r[d]),t.mul(l,c)),s),r}function Jk(t,e){const n=(t.ORDER-fi)/Zc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),l=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!l)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function nU(t,e){e!==void 0&&Ip(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function P2(t,e,n=!1,r={}){if(t<=Ui)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=nU(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Ib(i),ZERO:Ui,ONE:fi,create:d=>Di(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Ui<=d&&d<t},is0:d=>d===Ui,isOdd:d=>(d&fi)===fi,neg:d=>Di(-d,t),eql:(d,f)=>d===f,sqr:d=>Di(d*d,t),add:(d,f)=>Di(d+f,t),sub:(d,f)=>Di(d-f,t),mul:(d,f)=>Di(d*f,t),pow:(d,f)=>JQ(c,d,f),div:(d,f)=>Di(d*gS(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>gS(d,t),sqrt:r.sqrt||(d=>(l||(l=YQ(t)),l(c,d))),toBytes:d=>n?BP(d,s):im(d,s),fromBytes:d=>{if(d.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+d.length);return n?LP(d):ru(d)},invertBatch:d=>tU(c,d),cmov:(d,f,p)=>p?f:d});return Object.freeze(c)}function rU(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function iU(t){const e=rU(t);return e+Math.ceil(e/2)}function QQ(t,e,n=!1){const r=t.length,i=rU(e),s=iU(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const l=n?LP(t):ru(t),c=Di(l,e-fi)+fi;return n?BP(c,i):im(c,i)}const Qk=BigInt(0),yS=BigInt(1);function a1(t,e){const n=e.negate();return t?n:e}function sU(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function o1(t,e){sU(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Ib(t),l=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:l}}function eR(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:l}=n;let c=Number(t&i),d=t>>l;c>r&&(c-=s,d+=yS);const f=e*r,p=f+Math.abs(c)-1,m=c===0,g=c<0,y=e%2!==0;return{nextN:d,offset:p,isZero:m,isNeg:g,isNegF:y,offsetF:f}}function eee(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function tee(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const l1=new WeakMap,aU=new WeakMap;function c1(t){return aU.get(t)||1}function nee(t,e){return{constTimeNegate:a1,hasPrecomputes(n){return c1(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Qk;)r&yS&&(i=i.add(s)),s=s.double(),r>>=yS;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=o1(r,e),l=[];let c=n,d=c;for(let f=0;f<i;f++){d=c,l.push(d);for(let p=1;p<s;p++)d=d.add(c),l.push(d);c=d.double()}return l},wNAF(n,r,i){let s=t.ZERO,l=t.BASE;const c=o1(n,e);for(let d=0;d<c.windows;d++){const{nextN:f,offset:p,isZero:m,isNeg:g,isNegF:y,offsetF:b}=eR(i,d,c);i=f,m?l=l.add(a1(y,r[b])):s=s.add(a1(g,r[p]))}return{p:s,f:l}},wNAFUnsafe(n,r,i,s=t.ZERO){const l=o1(n,e);for(let c=0;c<l.windows&&i!==Qk;c++){const{nextN:d,offset:f,isZero:p,isNeg:m}=eR(i,c,l);if(i=d,!p){const g=r[f];s=s.add(m?g.negate():g)}}return s},getPrecomputes(n,r,i){let s=l1.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&l1.set(r,i(s))),s},wNAFCached(n,r,i){const s=c1(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const l=c1(n);return l===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,s)},setWindowSize(n,r){sU(r,e),aU.set(n,r),l1.delete(n)}}}function ree(t,e,n,r){eee(n,t),tee(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,c=aQ(BigInt(i));let d=1;c>12?d=c-3:c>4?d=c-2:c>0&&(d=2);const f=Ib(d),p=new Array(Number(f)+1).fill(l),m=Math.floor((e.BITS-1)/d)*d;let g=l;for(let y=m;y>=0;y-=d){p.fill(l);for(let _=0;_<s;_++){const E=r[_],k=Number(E>>BigInt(y)&f);p[k]=p[k].add(n[_])}let b=l;for(let _=p.length-1,E=l;_>0;_--)E=E.add(p[_]),b=b.add(E);if(g=g.add(b),y!==0)for(let _=0;_<d;_++)g=g.double()}return g}function oU(t){return XQ(t.Fp),Ob(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nU(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function tR(t){t.lowS!==void 0&&Np("lowS",t.lowS),t.prehash!==void 0&&Np("prehash",t.prehash)}function iee(t){const e=oU(t);Ob(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class see extends Error{constructor(e=""){super(e)}}const To={Err:see,_tlv:{encode:(t,e)=>{const{Err:n}=To;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Qg(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Qg(i.length/2|128):"";return Qg(t)+s+i+e},decode(t,e){const{Err:n}=To;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let l=0;if(!s)l=i;else{const d=i&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+d);if(f.length!==d)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of f)l=l<<8|p;if(r+=d,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=To;if(t<Io)throw new e("integer: negative integers are not allowed");let n=Qg(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=To;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ru(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=To,i=ks("signature",t),{v:s,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:d}=r.decode(2,s),{v:f,l:p}=r.decode(2,d);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=To,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function u1(t,e){return Pp(im(t,e))}const Io=BigInt(0),Or=BigInt(1);BigInt(2);const d1=BigInt(3),aee=BigInt(4);function oee(t){const e=iee(t),{Fp:n}=e,r=P2(e.n,e.nBitLength),i=e.toBytes||((x,T,O)=>{const C=T.toAffine();return _w(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),s=e.fromBytes||(x=>{const T=x.subarray(1),O=n.fromBytes(T.subarray(0,n.BYTES)),C=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:O,y:C}});function l(x){const{a:T,b:O}=e,C=n.sqr(x),U=n.mul(C,x);return n.add(n.add(U,n.mul(x,T)),O)}function c(x,T){const O=n.sqr(T),C=l(x);return n.eql(O,C)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const d=n.mul(n.pow(e.a,d1),aee),f=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(d,f)))throw new Error("bad curve params: a or b");function p(x){return R2(x,Or,e.n)}function m(x){const{allowedPrivateKeyLengths:T,nByteLength:O,wrapPrivateKey:C,n:U}=e;if(T&&typeof x!="bigint"){if(rm(x)&&(x=Pp(x)),typeof x!="string"||!T.includes(x.length))throw new Error("invalid private key");x=x.padStart(O*2,"0")}let z;try{z=typeof x=="bigint"?x:ru(ks("private key",x,O))}catch{throw new Error("invalid private key, expected hex or "+O+" bytes, got "+typeof x)}return C&&(z=Di(z,U)),zd("private key",z,Or,U),z}function g(x){if(!(x instanceof _))throw new Error("ProjectivePoint expected")}const y=Hk((x,T)=>{const{px:O,py:C,pz:U}=x;if(n.eql(U,n.ONE))return{x:O,y:C};const z=x.is0();T==null&&(T=z?n.ONE:n.inv(U));const B=n.mul(O,T),q=n.mul(C,T),W=n.mul(U,T);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:B,y:q}}),b=Hk(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:T,y:O}=x.toAffine();if(!n.isValid(T)||!n.isValid(O))throw new Error("bad point: x or y not FE");if(!c(T,O))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(T,O,C){if(T==null||!n.isValid(T))throw new Error("x required");if(O==null||!n.isValid(O)||n.is0(O))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=T,this.py=O,this.pz=C,Object.freeze(this)}static fromAffine(T){const{x:O,y:C}=T||{};if(!T||!n.isValid(O)||!n.isValid(C))throw new Error("invalid affine point");if(T instanceof _)throw new Error("projective point not allowed");const U=z=>n.eql(z,n.ZERO);return U(O)&&U(C)?_.ZERO:new _(O,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const O=tU(n,T.map(C=>C.pz));return T.map((C,U)=>C.toAffine(O[U])).map(_.fromAffine)}static fromHex(T){const O=_.fromAffine(s(ks("pointHex",T)));return O.assertValidity(),O}static fromPrivateKey(T){return _.BASE.multiply(m(T))}static msm(T,O){return ree(_,r,T,O)}_setWindowSize(T){D.setWindowSize(this,T)}assertValidity(){b(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){g(T);const{px:O,py:C,pz:U}=this,{px:z,py:B,pz:q}=T,W=n.eql(n.mul(O,q),n.mul(z,U)),K=n.eql(n.mul(C,q),n.mul(B,U));return W&&K}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:O}=e,C=n.mul(O,d1),{px:U,py:z,pz:B}=this;let q=n.ZERO,W=n.ZERO,K=n.ZERO,H=n.mul(U,U),G=n.mul(z,z),A=n.mul(B,B),S=n.mul(U,z);return S=n.add(S,S),K=n.mul(U,B),K=n.add(K,K),q=n.mul(T,K),W=n.mul(C,A),W=n.add(q,W),q=n.sub(G,W),W=n.add(G,W),W=n.mul(q,W),q=n.mul(S,q),K=n.mul(C,K),A=n.mul(T,A),S=n.sub(H,A),S=n.mul(T,S),S=n.add(S,K),K=n.add(H,H),H=n.add(K,H),H=n.add(H,A),H=n.mul(H,S),W=n.add(W,H),A=n.mul(z,B),A=n.add(A,A),H=n.mul(A,S),q=n.sub(q,H),K=n.mul(A,G),K=n.add(K,K),K=n.add(K,K),new _(q,W,K)}add(T){g(T);const{px:O,py:C,pz:U}=this,{px:z,py:B,pz:q}=T;let W=n.ZERO,K=n.ZERO,H=n.ZERO;const G=e.a,A=n.mul(e.b,d1);let S=n.mul(O,z),P=n.mul(C,B),$=n.mul(U,q),R=n.add(O,C),L=n.add(z,B);R=n.mul(R,L),L=n.add(S,P),R=n.sub(R,L),L=n.add(O,U);let Y=n.add(z,q);return L=n.mul(L,Y),Y=n.add(S,$),L=n.sub(L,Y),Y=n.add(C,U),W=n.add(B,q),Y=n.mul(Y,W),W=n.add(P,$),Y=n.sub(Y,W),H=n.mul(G,L),W=n.mul(A,$),H=n.add(W,H),W=n.sub(P,H),H=n.add(P,H),K=n.mul(W,H),P=n.add(S,S),P=n.add(P,S),$=n.mul(G,$),L=n.mul(A,L),P=n.add(P,$),$=n.sub(S,$),$=n.mul(G,$),L=n.add(L,$),S=n.mul(P,L),K=n.add(K,S),S=n.mul(Y,L),W=n.mul(R,W),W=n.sub(W,S),S=n.mul(R,P),H=n.mul(Y,H),H=n.add(H,S),new _(W,K,H)}subtract(T){return this.add(T.negate())}is0(){return this.equals(_.ZERO)}wNAF(T){return D.wNAFCached(this,T,_.normalizeZ)}multiplyUnsafe(T){const{endo:O,n:C}=e;zd("scalar",T,Io,C);const U=_.ZERO;if(T===Io)return U;if(this.is0()||T===Or)return this;if(!O||D.hasPrecomputes(this))return D.wNAFCachedUnsafe(this,T,_.normalizeZ);let{k1neg:z,k1:B,k2neg:q,k2:W}=O.splitScalar(T),K=U,H=U,G=this;for(;B>Io||W>Io;)B&Or&&(K=K.add(G)),W&Or&&(H=H.add(G)),G=G.double(),B>>=Or,W>>=Or;return z&&(K=K.negate()),q&&(H=H.negate()),H=new _(n.mul(H.px,O.beta),H.py,H.pz),K.add(H)}multiply(T){const{endo:O,n:C}=e;zd("scalar",T,Or,C);let U,z;if(O){const{k1neg:B,k1:q,k2neg:W,k2:K}=O.splitScalar(T);let{p:H,f:G}=this.wNAF(q),{p:A,f:S}=this.wNAF(K);H=D.constTimeNegate(B,H),A=D.constTimeNegate(W,A),A=new _(n.mul(A.px,O.beta),A.py,A.pz),U=H.add(A),z=G.add(S)}else{const{p:B,f:q}=this.wNAF(T);U=B,z=q}return _.normalizeZ([U,z])[0]}multiplyAndAddUnsafe(T,O,C){const U=_.BASE,z=(q,W)=>W===Io||W===Or||!q.equals(U)?q.multiplyUnsafe(W):q.multiply(W),B=z(this,O).add(z(T,C));return B.is0()?void 0:B}toAffine(T){return y(this,T)}isTorsionFree(){const{h:T,isTorsionFree:O}=e;if(T===Or)return!0;if(O)return O(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:O}=e;return T===Or?this:O?O(_,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return Np("isCompressed",T),this.assertValidity(),i(_,this,T)}toHex(T=!0){return Np("isCompressed",T),Pp(this.toRawBytes(T))}}_.BASE=new _(e.Gx,e.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:k}=e,D=nee(_,E?Math.ceil(k/2):k);return{CURVE:e,ProjectivePoint:_,normPrivateKeyToScalar:m,weierstrassEquation:l,isWithinCurveOrder:p}}function lee(t){const e=oU(t);return Ob(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function cee(t){const e=lee(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,l=n.BYTES+1,c=2*n.BYTES+1;function d(A){return Di(A,r)}function f(A){return gS(A,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:g,isWithinCurveOrder:y}=oee({...e,toBytes(A,S,P){const $=S.toAffine(),R=n.toBytes($.x),L=_w;return Np("isCompressed",P),P?L(Uint8Array.from([S.hasEvenY()?2:3]),R):L(Uint8Array.from([4]),R,n.toBytes($.y))},fromBytes(A){const S=A.length,P=A[0],$=A.subarray(1);if(S===l&&(P===2||P===3)){const R=ru($);if(!R2(R,Or,n.ORDER))throw new Error("Point is not on curve");const L=g(R);let Y;try{Y=n.sqrt(L)}catch(ee){const se=ee instanceof Error?": "+ee.message:"";throw new Error("Point is not on curve"+se)}const Z=(Y&Or)===Or;return(P&1)===1!==Z&&(Y=n.neg(Y)),{x:R,y:Y}}else if(S===c&&P===4){const R=n.fromBytes($.subarray(0,n.BYTES)),L=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:R,y:L}}else{const R=l,L=c;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+L+", got "+S)}}});function b(A){const S=r>>Or;return A>S}function _(A){return b(A)?d(-A):A}const E=(A,S,P)=>ru(A.slice(S,P));class k{constructor(S,P,$){zd("r",S,Or,r),zd("s",P,Or,r),this.r=S,this.s=P,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(S){const P=i;return S=ks("compactSignature",S,P*2),new k(E(S,0,P),E(S,P,2*P))}static fromDER(S){const{r:P,s:$}=To.toSig(ks("DER",S));return new k(P,$)}assertValidity(){}addRecoveryBit(S){return new k(this.r,this.s,S)}recoverPublicKey(S){const{r:P,s:$,recovery:R}=this,L=U(ks("msgHash",S));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const Y=R===2||R===3?P+e.n:P;if(Y>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(R&1)===0?"02":"03",ie=p.fromHex(Z+u1(Y,n.BYTES)),ee=f(Y),se=d(-L*ee),Se=d($*ee),Ie=p.BASE.multiplyAndAddUnsafe(ie,se,Se);if(!Ie)throw new Error("point at infinify");return Ie.assertValidity(),Ie}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return vw(this.toDERHex())}toDERHex(){return To.hexFromSig(this)}toCompactRawBytes(){return vw(this.toCompactHex())}toCompactHex(){const S=i;return u1(this.r,S)+u1(this.s,S)}}const D={isValidPrivateKey(A){try{return m(A),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const A=iU(e.n);return QQ(e.randomBytes(A),e.n)},precompute(A=8,S=p.BASE){return S._setWindowSize(A),S.multiply(BigInt(3)),S}};function x(A,S=!0){return p.fromPrivateKey(A).toRawBytes(S)}function T(A){if(typeof A=="bigint")return!1;if(A instanceof p)return!0;const P=ks("key",A).length,$=n.BYTES,R=$+1,L=2*$+1;if(!(e.allowedPrivateKeyLengths||i===R))return P===R||P===L}function O(A,S,P=!0){if(T(A)===!0)throw new Error("first arg must be private key");if(T(S)===!1)throw new Error("second arg must be public key");return p.fromHex(S).multiply(m(A)).toRawBytes(P)}const C=e.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const S=ru(A),P=A.length*8-s;return P>0?S>>BigInt(P):S},U=e.bits2int_modN||function(A){return d(C(A))},z=Ib(s);function B(A){return zd("num < 2^"+s,A,Io,z),im(A,i)}function q(A,S,P=W){if(["recovered","canonical"].some(xe=>xe in P))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:R}=e;let{lowS:L,prehash:Y,extraEntropy:Z}=P;L==null&&(L=!0),A=ks("msgHash",A),tR(P),Y&&(A=ks("prehashed msgHash",$(A)));const ie=U(A),ee=m(S),se=[B(ee),B(ie)];if(Z!=null&&Z!==!1){const xe=Z===!0?R(n.BYTES):Z;se.push(ks("extraEntropy",xe))}const Se=_w(...se),Ie=ie;function $e(xe){const te=C(xe);if(!y(te))return;const Ve=f(te),rt=p.BASE.multiply(te).toAffine(),Le=d(rt.x);if(Le===Io)return;const st=d(Ve*d(Ie+Le*ee));if(st===Io)return;let De=(rt.x===Le?0:2)|Number(rt.y&Or),ze=st;return L&&b(st)&&(ze=_(st),De^=1),new k(Le,ze,De)}return{seed:Se,k2sig:$e}}const W={lowS:e.lowS,prehash:!1},K={lowS:e.lowS,prehash:!1};function H(A,S,P=W){const{seed:$,k2sig:R}=q(A,S,P),L=e;return oQ(L.hash.outputLen,L.nByteLength,L.hmac)($,R)}p.BASE._setWindowSize(8);function G(A,S,P,$=K){const R=A;S=ks("msgHash",S),P=ks("publicKey",P);const{lowS:L,prehash:Y,format:Z}=$;if(tR($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const ie=typeof R=="string"||rm(R),ee=!ie&&!Z&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!ie&&!ee)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let se,Se;try{if(ee&&(se=new k(R.r,R.s)),ie){try{Z!=="compact"&&(se=k.fromDER(R))}catch(De){if(!(De instanceof To.Err))throw De}!se&&Z!=="der"&&(se=k.fromCompact(R))}Se=p.fromHex(P)}catch{return!1}if(!se||L&&se.hasHighS())return!1;Y&&(S=e.hash(S));const{r:Ie,s:$e}=se,xe=U(S),te=f($e),Ve=d(xe*te),rt=d(Ie*te),Le=p.BASE.multiplyAndAddUnsafe(Se,Ve,rt)?.toAffine();return Le?d(Le.x)===Ie:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:O,sign:H,verify:G,ProjectivePoint:p,Signature:k,utils:D}}function uee(t){return{hash:t,hmac:(e,...n)=>ZP(t,e,EK(...n)),randomBytes:SK}}function dee(t,e){const n=r=>cee({...t,...uee(r)});return{...n(e),create:n}}const lU=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hee=BigInt(0),fee=BigInt(1),wS=BigInt(2),rR=(t,e)=>(t+e/wS)/e;function pee(t){const e=lU,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),l=BigInt(23),c=BigInt(44),d=BigInt(88),f=t*t*t%e,p=f*f*t%e,m=As(p,n,e)*p%e,g=As(m,n,e)*p%e,y=As(g,wS,e)*f%e,b=As(y,i,e)*y%e,_=As(b,s,e)*b%e,E=As(_,c,e)*_%e,k=As(E,d,e)*E%e,D=As(k,c,e)*_%e,x=As(D,n,e)*p%e,T=As(x,l,e)*b%e,O=As(T,r,e)*f%e,C=As(O,wS,e);if(!bS.eql(bS.sqr(C),t))throw new Error("Cannot find square root");return C}const bS=P2(lU,void 0,void 0,{sqrt:pee}),mee=dee({a:hee,b:BigInt(7),Fp:bS,n:nR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=nR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,l=BigInt("0x100000000000000000000000000000000"),c=rR(s*t,e),d=rR(-r*t,e);let f=Di(t-c*n-d*i,e),p=Di(-c*r-d*s,e);const m=f>l,g=p>l;if(m&&(f=e-f),g&&(p=e-p),f>l||p>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:m,k1:f,k2neg:g,k2:p}}}},l4);function gee(t){if(t.length!==130&&t.length!==132)throw new wee({signature:t});const e=BigInt(Eo(t,0,32)),n=BigInt(Eo(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return yee(i)}catch{throw new bee({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function yee(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new vee({value:t})}class wee extends Pn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${tc(N2(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class bee extends Pn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class vee extends Pn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function _ee(t){return qQ(Eee(t))}function Eee(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,c=new mee.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(N2(e).substring(2));return PQ(c)}function See(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const p=t.charAt(f),m=p.charCodeAt(0);if(e[m]!==255)throw new TypeError(p+" is ambiguous");e[m]=f}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let p=0,m=0,g=0;const y=f.length;for(;g!==y&&f[g]===0;)g++,p++;const b=(y-g)*s+1>>>0,_=new Uint8Array(b);for(;g!==y;){let D=f[g],x=0;for(let T=b-1;(D!==0||x<m)&&T!==-1;T--,x++)D+=256*_[T]>>>0,_[T]=D%n>>>0,D=D/n>>>0;if(D!==0)throw new Error("Non-zero carry");m=x,g++}let E=b-m;for(;E!==b&&_[E]===0;)E++;let k=r.repeat(p);for(;E<b;++E)k+=t.charAt(_[E]);return k}function c(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let p=0,m=0,g=0;for(;f[p]===r;)m++,p++;const y=(f.length-p)*i+1>>>0,b=new Uint8Array(y);for(;p<f.length;){const D=f.charCodeAt(p);if(D>255)return;let x=e[D];if(x===255)return;let T=0;for(let O=y-1;(x!==0||T<g)&&O!==-1;O--,T++)x+=n*b[O]>>>0,b[O]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");g=T,p++}let _=y-g;for(;_!==y&&b[_]===0;)_++;const E=new Uint8Array(m+(y-_));let k=m;for(;_!==y;)E[k++]=b[_++];return E}function d(f){const p=c(f);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:c,decode:d}}var Aee="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const sm=See(Aee);function Tee(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function xee(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let l=t.charCodeAt(s++);if((l&4294967168)===0){e[i++]=l;continue}else if((l&4294965248)===0)e[i++]=l>>6&31|192;else{if(l>=55296&&l<=56319&&s<r){const c=t.charCodeAt(s);(c&64512)===56320&&(++s,l=((l&1023)<<10)+(c&1023)+65536)}(l&4294901760)===0?(e[i++]=l>>12&15|224,e[i++]=l>>6&63|128):(e[i++]=l>>18&7|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128)}e[i++]=l&63|128}}const Cee=new TextEncoder,Iee=50;function Oee(t,e,n){Cee.encodeInto(t,e.subarray(n))}function kee(t,e,n){t.length>Iee?Oee(t,e,n):xee(t,e,n)}const Ree=4096;function cU(t,e,n){let r=e;const i=r+n,s=[];let l="";for(;r<i;){const c=t[r++];if((c&128)===0)s.push(c);else if((c&224)===192){const d=t[r++]&63;s.push((c&31)<<6|d)}else if((c&240)===224){const d=t[r++]&63,f=t[r++]&63;s.push((c&31)<<12|d<<6|f)}else if((c&248)===240){const d=t[r++]&63,f=t[r++]&63,p=t[r++]&63;let m=(c&7)<<18|d<<12|f<<6|p;m>65535&&(m-=65536,s.push(m>>>10&1023|55296),m=56320|m&1023),s.push(m)}else s.push(c);s.length>=Ree&&(l+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(l+=String.fromCharCode(...s)),l}const Dee=new TextDecoder,Nee=200;function Pee(t,e,n){const r=t.subarray(e,e+n);return Dee.decode(r)}function Uee(t,e,n){return n>Nee?Pee(t,e,n):cU(t,e,n)}class ty{constructor(e,n){this.type=e,this.data=n}}class is extends Error{constructor(e){super(e);const n=Object.create(is.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:is.name})}}const Cf=4294967295;function $ee(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function uU(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function dU(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Mee(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Lee=-1,Bee=4294967296-1,jee=17179869184-1;function zee({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=jee)if(e===0&&t<=Bee){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),uU(r,4,t),n}}function Fee(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function qee(t){if(t instanceof Date){const e=Fee(t);return zee(e)}else return null}function Wee(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=dU(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new is(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Hee(t){const e=Wee(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Vee={type:Lee,encode:qee,decode:Hee};class Sw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Vee)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const l=-1-r;return new ty(l,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const l=r;return new ty(l,s)}}}return e instanceof ty?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new ty(n,e)}}Sw.defaultCodec=new Sw;function Kee(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function vS(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Kee(t)?new Uint8Array(t):Uint8Array.from(t)}const Gee=100,Yee=2048;let Zee=class hU{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Sw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Gee,this.initialBufferSize=e?.initialBufferSize??Yee,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new hU({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Tee(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),kee(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=vS(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const l=e[s];this.ignoreUndefined&&l===void 0||(this.encodeString(s),this.doEncode(l,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),$ee(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),uU(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Xee(t,e){return new Zee(e).encodeSharedRef(t)}function h1(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Jee=16,Qee=16;class ete{constructor(e=Jee,n=Qee){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const l=s.bytes;for(let c=0;c<r;c++)if(l[c]!==e[n+c])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=cU(e,n,r),l=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(l,s),s}}const _S="array",gp="map_key",fU="map_value",tte=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new is("The type of key must be string or number but "+typeof t)};class nte{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=_S,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=gp,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===_S){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===gp||e.type===fU){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const If=-1,U2=new DataView(new ArrayBuffer(0)),rte=new Uint8Array(U2.buffer);try{U2.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const iR=new RangeError("Insufficient data"),ite=new ete;let ste=class pU{constructor(e){this.totalPos=0,this.pos=0,this.view=U2,this.bytes=rte,this.headByte=If,this.stack=new nte,this.entered=!1,this.extensionCodec=e?.extensionCodec??Sw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Cf,this.maxBinLength=e?.maxBinLength??Cf,this.maxArrayLength=e?.maxArrayLength??Cf,this.maxMapLength=e?.maxMapLength??Cf,this.maxExtLength=e?.maxExtLength??Cf,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:ite,this.mapKeyConverter=e?.mapKeyConverter??tte}clone(){return new pU({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=If,this.stack.reset()}setBuffer(e){const n=vS(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===If&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=vS(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const c of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),n=!0}catch(d){if(!(d instanceof RangeError))throw d}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:l}=this;throw new RangeError(`Insufficient data in parsing ${h1(i)} at ${l} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new is(`Unrecognized type byte: ${h1(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===_S)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===gp){if(n==="__proto__")throw new is("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=fU;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=gp;continue e}}return n}}readHeadByte(){return this.headByte===If&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=If}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new is(`Unrecognized array type byte: ${h1(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new is(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new is(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new is(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw iR;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=Uee(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===gp:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new is(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw iR;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new is(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Mee(this.view,this.pos);return this.pos+=8,e}readI64(){const e=dU(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function ate(t,e){return new ste(e).decode(t)}const ote=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),lte=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function au(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return lte(t)}catch{return t}}function jo(t){return typeof t=="string"?t:ote(t)||""}function cte(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mU(t,...e){if(!cte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ute(t,e){mU(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const wd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const f1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function dte(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function gU(t){return typeof t=="string"&&(t=dte(t)),mU(t),t}let hte=class{clone(){return this._cloneInto()}};function fte(t){const e=r=>t().update(gU(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function yU(t=32){if(wd&&typeof wd.getRandomValues=="function")return wd.getRandomValues(new Uint8Array(t));if(wd&&typeof wd.randomBytes=="function")return wd.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function pte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),c=Number(n&s),d=r?4:0,f=r?0:4;t.setUint32(e+d,l,r),t.setUint32(e+f,c,r)}let mte=class extends hte{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=f1(this.buffer)}update(e){sR(this);const{view:n,buffer:r,blockLen:i}=this;e=gU(e);const s=e.length;for(let l=0;l<s;){const c=Math.min(i-this.pos,s-l);if(c===i){const d=f1(e);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sR(this),ute(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;pte(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=f1(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<f;m++)c.setUint32(4*m,p[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=l,i%n&&e.buffer.set(r),e}};const ny=BigInt(2**32-1),ES=BigInt(32);function wU(t,e=!1){return e?{h:Number(t&ny),l:Number(t>>ES&ny)}:{h:Number(t>>ES&ny)|0,l:Number(t&ny)|0}}function gte(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l}=wU(t[i],e);[n[i],r[i]]=[s,l]}return[n,r]}const yte=(t,e)=>BigInt(t>>>0)<<ES|BigInt(e>>>0),wte=(t,e,n)=>t>>>n,bte=(t,e,n)=>t<<32-n|e>>>n,vte=(t,e,n)=>t>>>n|e<<32-n,_te=(t,e,n)=>t<<32-n|e>>>n,Ete=(t,e,n)=>t<<64-n|e>>>n-32,Ste=(t,e,n)=>t>>>n-32|e<<64-n,Ate=(t,e)=>e,Tte=(t,e)=>t,xte=(t,e,n)=>t<<n|e>>>32-n,Cte=(t,e,n)=>e<<n|t>>>32-n,Ite=(t,e,n)=>e<<n-32|t>>>64-n,Ote=(t,e,n)=>t<<n-32|e>>>64-n;function kte(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Rte=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Dte=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Nte=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Pte=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ute=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$te=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,At={fromBig:wU,split:gte,toBig:yte,shrSH:wte,shrSL:bte,rotrSH:vte,rotrSL:_te,rotrBH:Ete,rotrBL:Ste,rotr32H:Ate,rotr32L:Tte,rotlSH:xte,rotlSL:Cte,rotlBH:Ite,rotlBL:Ote,add:kte,add3L:Rte,add3H:Dte,add4L:Nte,add4H:Pte,add5H:$te,add5L:Ute},[Mte,Lte]=At.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),El=new Uint32Array(80),Sl=new Uint32Array(80);let Bte=class extends mte{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:l,Dh:c,Dl:d,Eh:f,El:p,Fh:m,Fl:g,Gh:y,Gl:b,Hh:_,Hl:E}=this;return[e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E]}set(e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=l|0,this.Dh=c|0,this.Dl=d|0,this.Eh=f|0,this.El=p|0,this.Fh=m|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=_|0,this.Hl=E|0}process(e,n){for(let x=0;x<16;x++,n+=4)El[x]=e.getUint32(n),Sl[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const T=El[x-15]|0,O=Sl[x-15]|0,C=At.rotrSH(T,O,1)^At.rotrSH(T,O,8)^At.shrSH(T,O,7),U=At.rotrSL(T,O,1)^At.rotrSL(T,O,8)^At.shrSL(T,O,7),z=El[x-2]|0,B=Sl[x-2]|0,q=At.rotrSH(z,B,19)^At.rotrBH(z,B,61)^At.shrSH(z,B,6),W=At.rotrSL(z,B,19)^At.rotrBL(z,B,61)^At.shrSL(z,B,6),K=At.add4L(U,W,Sl[x-7],Sl[x-16]),H=At.add4H(K,C,q,El[x-7],El[x-16]);El[x]=H|0,Sl[x]=K|0}let{Ah:r,Al:i,Bh:s,Bl:l,Ch:c,Cl:d,Dh:f,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:_,Gl:E,Hh:k,Hl:D}=this;for(let x=0;x<80;x++){const T=At.rotrSH(m,g,14)^At.rotrSH(m,g,18)^At.rotrBH(m,g,41),O=At.rotrSL(m,g,14)^At.rotrSL(m,g,18)^At.rotrBL(m,g,41),C=m&y^~m&_,U=g&b^~g&E,z=At.add5L(D,O,U,Lte[x],Sl[x]),B=At.add5H(z,k,T,C,Mte[x],El[x]),q=z|0,W=At.rotrSH(r,i,28)^At.rotrBH(r,i,34)^At.rotrBH(r,i,39),K=At.rotrSL(r,i,28)^At.rotrBL(r,i,34)^At.rotrBL(r,i,39),H=r&s^r&c^s&c,G=i&l^i&d^l&d;k=_|0,D=E|0,_=y|0,E=b|0,y=m|0,b=g|0,{h:m,l:g}=At.add(f|0,p|0,B|0,q|0),f=c|0,p=d|0,c=s|0,d=l|0,s=r|0,l=i|0;const A=At.add3L(q,K,G);r=At.add3H(A,B,W,H),i=A|0}({h:r,l:i}=At.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l}=At.add(this.Bh|0,this.Bl|0,s|0,l|0),{h:c,l:d}=At.add(this.Ch|0,this.Cl|0,c|0,d|0),{h:f,l:p}=At.add(this.Dh|0,this.Dl|0,f|0,p|0),{h:m,l:g}=At.add(this.Eh|0,this.El|0,m|0,g|0),{h:y,l:b}=At.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:_,l:E}=At.add(this.Gh|0,this.Gl|0,_|0,E|0),{h:k,l:D}=At.add(this.Hh|0,this.Hl|0,k|0,D|0),this.set(r,i,s,l,c,d,f,p,m,g,y,b,_,E,k,D)}roundClean(){El.fill(0),Sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const jte=fte(()=>new Bte);const $2=BigInt(0),bU=BigInt(1),zte=BigInt(2);function M2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function L2(t){if(!M2(t))throw new Error("Uint8Array expected")}function p1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Fte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function B2(t){L2(t);let e="";for(let n=0;n<t.length;n++)e+=Fte[t[n]];return e}function vU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$2:BigInt("0x"+t)}const ho={_0:48,_9:57,A:65,F:70,a:97,f:102};function aR(t){if(t>=ho._0&&t<=ho._9)return t-ho._0;if(t>=ho.A&&t<=ho.F)return t-(ho.A-10);if(t>=ho.a&&t<=ho.f)return t-(ho.a-10)}function _U(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const l=aR(t.charCodeAt(s)),c=aR(t.charCodeAt(s+1));if(l===void 0||c===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=l*16+c}return r}function qte(t){return vU(B2(t))}function My(t){return L2(t),vU(B2(Uint8Array.from(t).reverse()))}function EU(t,e){return _U(t.toString(16).padStart(e*2,"0"))}function SS(t,e){return EU(t,e).reverse()}function fo(t,e,n){let r;if(typeof e=="string")try{r=_U(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(M2(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function oR(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];L2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const m1=t=>typeof t=="bigint"&&$2<=t;function Wte(t,e,n){return m1(t)&&m1(e)&&m1(n)&&e<=t&&t<n}function Of(t,e,n,r){if(!Wte(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Hte(t){let e;for(e=0;t>$2;t>>=bU,e+=1);return e}const Vte=t=>(zte<<BigInt(t-1))-bU,Kte={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||M2(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function j2(t,e,n={}){const r=(i,s,l)=>{const c=Kte[s];if(typeof c!="function")throw new Error("invalid validator function");const d=t[i];if(!(l&&d===void 0)&&!c(d,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+d)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function lR(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const kr=BigInt(0),Gn=BigInt(1),Hc=BigInt(2),Gte=BigInt(3),AS=BigInt(4),cR=BigInt(5),uR=BigInt(8);function wr(t,e){const n=t%e;return n>=kr?n:e+n}function Yte(t,e,n){if(e<kr)throw new Error("invalid exponent, negatives unsupported");if(n<=kr)throw new Error("invalid modulus");if(n===Gn)return kr;let r=Gn;for(;e>kr;)e&Gn&&(r=r*t%n),t=t*t%n,e>>=Gn;return r}function ya(t,e,n){let r=t;for(;e-- >kr;)r*=r,r%=n;return r}function dR(t,e){if(t===kr)throw new Error("invert: expected non-zero number");if(e<=kr)throw new Error("invert: expected positive modulus, got "+e);let n=wr(t,e),r=e,i=kr,s=Gn;for(;n!==kr;){const l=r/n,c=r%n,d=i-s*l;r=n,n=c,i=s,s=d}if(r!==Gn)throw new Error("invert: does not exist");return wr(i,e)}function Zte(t){const e=(t-Gn)/Hc;let n,r,i;for(n=t-Gn,r=0;n%Hc===kr;n/=Hc,r++);for(i=Hc;i<t&&Yte(i,e,t)!==t-Gn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const l=(t+Gn)/AS;return function(c,d){const f=c.pow(d,l);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}const s=(n+Gn)/Hc;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let d=r,f=l.pow(l.mul(l.ONE,i),n),p=l.pow(c,s),m=l.pow(c,n);for(;!l.eql(m,l.ONE);){if(l.eql(m,l.ZERO))return l.ZERO;let g=1;for(let b=l.sqr(m);g<d&&!l.eql(b,l.ONE);g++)b=l.sqr(b);const y=l.pow(f,Gn<<BigInt(d-g-1));f=l.sqr(y),p=l.mul(p,y),m=l.mul(m,f),d=g}return p}}function Xte(t){if(t%AS===Gte){const e=(t+Gn)/AS;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%uR===cR){const e=(t-cR)/uR;return function(n,r){const i=n.mul(r,Hc),s=n.pow(i,e),l=n.mul(r,s),c=n.mul(n.mul(l,Hc),s),d=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return Zte(t)}const Jte=(t,e)=>(wr(t,e)&Gn)===Gn,Qte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ene(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Qte.reduce((r,i)=>(r[i]="function",r),e);return j2(t,n)}function tne(t,e,n){if(n<kr)throw new Error("invalid exponent, negatives unsupported");if(n===kr)return t.ONE;if(n===Gn)return e;let r=t.ONE,i=e;for(;n>kr;)n&Gn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Gn;return r}function nne(t,e){const n=new Array(e.length),r=e.reduce((s,l,c)=>t.is0(l)?s:(n[c]=s,t.mul(s,l)),t.ONE),i=t.inv(r);return e.reduceRight((s,l,c)=>t.is0(l)?s:(n[c]=t.mul(s,n[c]),t.mul(s,l)),i),n}function SU(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function AU(t,e,n=!1,r={}){if(t<=kr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=SU(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Vte(i),ZERO:kr,ONE:Gn,create:d=>wr(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return kr<=d&&d<t},is0:d=>d===kr,isOdd:d=>(d&Gn)===Gn,neg:d=>wr(-d,t),eql:(d,f)=>d===f,sqr:d=>wr(d*d,t),add:(d,f)=>wr(d+f,t),sub:(d,f)=>wr(d-f,t),mul:(d,f)=>wr(d*f,t),pow:(d,f)=>tne(c,d,f),div:(d,f)=>wr(d*dR(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>dR(d,t),sqrt:r.sqrt||(d=>(l||(l=Xte(t)),l(c,d))),invertBatch:d=>nne(c,d),cmov:(d,f,p)=>p?f:d,toBytes:d=>n?SS(d,s):EU(d,s),fromBytes:d=>{if(d.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+d.length);return n?My(d):qte(d)}});return Object.freeze(c)}const hR=BigInt(0),ry=BigInt(1);function g1(t,e){const n=e.negate();return t?n:e}function TU(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function y1(t,e){TU(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function rne(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ine(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const w1=new WeakMap,xU=new WeakMap;function b1(t){return xU.get(t)||1}function sne(t,e){return{constTimeNegate:g1,hasPrecomputes(n){return b1(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>hR;)r&ry&&(i=i.add(s)),s=s.double(),r>>=ry;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=y1(r,e),l=[];let c=n,d=c;for(let f=0;f<i;f++){d=c,l.push(d);for(let p=1;p<s;p++)d=d.add(c),l.push(d);c=d.double()}return l},wNAF(n,r,i){const{windows:s,windowSize:l}=y1(n,e);let c=t.ZERO,d=t.BASE;const f=BigInt(2**n-1),p=2**n,m=BigInt(n);for(let g=0;g<s;g++){const y=g*l;let b=Number(i&f);i>>=m,b>l&&(b-=p,i+=ry);const _=y,E=y+Math.abs(b)-1,k=g%2!==0,D=b<0;b===0?d=d.add(g1(k,r[_])):c=c.add(g1(D,r[E]))}return{p:c,f:d}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:l,windowSize:c}=y1(n,e),d=BigInt(2**n-1),f=2**n,p=BigInt(n);for(let m=0;m<l;m++){const g=m*c;if(i===hR)break;let y=Number(i&d);if(i>>=p,y>c&&(y-=f,i+=ry),y===0)continue;let b=r[g+Math.abs(y)-1];y<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=w1.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&w1.set(r,i(s))),s},wNAFCached(n,r,i){const s=b1(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const l=b1(n);return l===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,s)},setWindowSize(n,r){TU(r,e),xU.set(n,r),w1.delete(n)}}}function ane(t,e,n,r){if(rne(n,t),ine(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Hte(BigInt(n.length)),l=s>12?s-3:s>4?s-2:s?2:1,c=(1<<l)-1,d=new Array(c+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let p=i;for(let m=f;m>=0;m-=l){d.fill(i);for(let y=0;y<r.length;y++){const b=r[y],_=Number(b>>BigInt(m)&BigInt(c));d[_]=d[_].add(n[y])}let g=i;for(let y=d.length-1,b=i;y>0;y--)b=b.add(d[y]),g=g.add(b);if(p=p.add(g),m!==0)for(let y=0;y<l;y++)p=p.double()}return p}function one(t){return ene(t.Fp),j2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...SU(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Vs=BigInt(0),Ci=BigInt(1),iy=BigInt(2),lne=BigInt(8),cne={zip215:!0};function une(t){const e=one(t);return j2(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function dne(t){const e=une(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:l,nByteLength:c,h:d}=e,f=iy<<BigInt(c*8)-Ci,p=n.create,m=AU(e.n,e.nBitLength),g=e.uvRatio||((A,S)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(S))}}catch{return{isValid:!1,value:Vs}}}),y=e.adjustScalarBytes||(A=>A),b=e.domain||((A,S,P)=>{if(p1("phflag",P),S.length||P)throw new Error("Contexts/pre-hash are not supported");return A});function _(A,S){Of("coordinate "+A,S,Vs,f)}function E(A){if(!(A instanceof x))throw new Error("ExtendedPoint expected")}const k=lR((A,S)=>{const{ex:P,ey:$,ez:R}=A,L=A.is0();S==null&&(S=L?lne:n.inv(R));const Y=p(P*S),Z=p($*S),ie=p(R*S);if(L)return{x:Vs,y:Ci};if(ie!==Ci)throw new Error("invZ was invalid");return{x:Y,y:Z}}),D=lR(A=>{const{a:S,d:P}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:$,ey:R,ez:L,et:Y}=A,Z=p($*$),ie=p(R*R),ee=p(L*L),se=p(ee*ee),Se=p(Z*S),Ie=p(ee*p(Se+ie)),$e=p(se+p(P*p(Z*ie)));if(Ie!==$e)throw new Error("bad point: equation left != right (1)");const xe=p($*R),te=p(L*Y);if(xe!==te)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(S,P,$,R){this.ex=S,this.ey=P,this.ez=$,this.et=R,_("x",S),_("y",P),_("z",$),_("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof x)throw new Error("extended point not allowed");const{x:P,y:$}=S||{};return _("x",P),_("y",$),new x(P,$,Ci,p(P*$))}static normalizeZ(S){const P=n.invertBatch(S.map($=>$.ez));return S.map(($,R)=>$.toAffine(P[R])).map(x.fromAffine)}static msm(S,P){return ane(x,m,S,P)}_setWindowSize(S){C.setWindowSize(this,S)}assertValidity(){D(this)}equals(S){E(S);const{ex:P,ey:$,ez:R}=this,{ex:L,ey:Y,ez:Z}=S,ie=p(P*Z),ee=p(L*R),se=p($*Z),Se=p(Y*R);return ie===ee&&se===Se}is0(){return this.equals(x.ZERO)}negate(){return new x(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:S}=e,{ex:P,ey:$,ez:R}=this,L=p(P*P),Y=p($*$),Z=p(iy*p(R*R)),ie=p(S*L),ee=P+$,se=p(p(ee*ee)-L-Y),Se=ie+Y,Ie=Se-Z,$e=ie-Y,xe=p(se*Ie),te=p(Se*$e),Ve=p(se*$e),rt=p(Ie*Se);return new x(xe,te,rt,Ve)}add(S){E(S);const{a:P,d:$}=e,{ex:R,ey:L,ez:Y,et:Z}=this,{ex:ie,ey:ee,ez:se,et:Se}=S;if(P===BigInt(-1)){const lt=p((L-R)*(ee+ie)),Dr=p((L+R)*(ee-ie)),yi=p(Dr-lt);if(yi===Vs)return this.double();const oi=p(Y*iy*Se),Zn=p(Z*iy*se),Qt=Zn+oi,wi=Dr+lt,zi=Zn-oi,Gt=p(Qt*yi),Un=p(wi*zi),_r=p(Qt*zi),Nr=p(yi*wi);return new x(Gt,Un,Nr,_r)}const Ie=p(R*ie),$e=p(L*ee),xe=p(Z*$*Se),te=p(Y*se),Ve=p((R+L)*(ie+ee)-Ie-$e),rt=te-xe,Le=te+xe,st=p($e-P*Ie),De=p(Ve*rt),ze=p(Le*st),vr=p(Ve*st),Mn=p(rt*Le);return new x(De,ze,Mn,vr)}subtract(S){return this.add(S.negate())}wNAF(S){return C.wNAFCached(this,S,x.normalizeZ)}multiply(S){const P=S;Of("scalar",P,Ci,r);const{p:$,f:R}=this.wNAF(P);return x.normalizeZ([$,R])[0]}multiplyUnsafe(S,P=x.ZERO){const $=S;return Of("scalar",$,Vs,r),$===Vs?O:this.is0()||$===Ci?this:C.wNAFCachedUnsafe(this,$,x.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return C.unsafeLadder(this,r).is0()}toAffine(S){return k(this,S)}clearCofactor(){const{h:S}=e;return S===Ci?this:this.multiplyUnsafe(S)}static fromHex(S,P=!1){const{d:$,a:R}=e,L=n.BYTES;S=fo("pointHex",S,L),p1("zip215",P);const Y=S.slice(),Z=S[L-1];Y[L-1]=Z&-129;const ie=My(Y),ee=P?f:n.ORDER;Of("pointHex.y",ie,Vs,ee);const se=p(ie*ie),Se=p(se-Ci),Ie=p($*se-R);let{isValid:$e,value:xe}=g(Se,Ie);if(!$e)throw new Error("Point.fromHex: invalid y coordinate");const te=(xe&Ci)===Ci,Ve=(Z&128)!==0;if(!P&&xe===Vs&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==te&&(xe=p(-xe)),x.fromAffine({x:xe,y:ie})}static fromPrivateKey(S){return B(S).point}toRawBytes(){const{x:S,y:P}=this.toAffine(),$=SS(P,n.BYTES);return $[$.length-1]|=S&Ci?128:0,$}toHex(){return B2(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,Ci,p(e.Gx*e.Gy)),x.ZERO=new x(Vs,Ci,Ci,Vs);const{BASE:T,ZERO:O}=x,C=sne(x,c*8);function U(A){return wr(A,r)}function z(A){return U(My(A))}function B(A){const S=n.BYTES;A=fo("private key",A,S);const P=fo("hashed private key",s(A),2*S),$=y(P.slice(0,S)),R=P.slice(S,2*S),L=z($),Y=T.multiply(L),Z=Y.toRawBytes();return{head:$,prefix:R,scalar:L,point:Y,pointBytes:Z}}function q(A){return B(A).pointBytes}function W(A=new Uint8Array,...S){const P=oR(...S);return z(s(b(P,fo("context",A),!!i)))}function K(A,S,P={}){A=fo("message",A),i&&(A=i(A));const{prefix:$,scalar:R,pointBytes:L}=B(S),Y=W(P.context,$,A),Z=T.multiply(Y).toRawBytes(),ie=W(P.context,Z,L,A),ee=U(Y+ie*R);Of("signature.s",ee,Vs,r);const se=oR(Z,SS(ee,n.BYTES));return fo("result",se,n.BYTES*2)}const H=cne;function G(A,S,P,$=H){const{context:R,zip215:L}=$,Y=n.BYTES;A=fo("signature",A,2*Y),S=fo("message",S),P=fo("publicKey",P,Y),L!==void 0&&p1("zip215",L),i&&(S=i(S));const Z=My(A.slice(Y,2*Y));let ie,ee,se;try{ie=x.fromHex(P,L),ee=x.fromHex(A.slice(0,Y),L),se=T.multiplyUnsafe(Z)}catch{return!1}if(!L&&ie.isSmallOrder())return!1;const Se=W(R,ee.toRawBytes(),ie.toRawBytes(),S);return ee.add(ie.multiplyUnsafe(Se)).subtract(se).clearCofactor().equals(x.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:K,verify:G,ExtendedPoint:x,utils:{getExtendedPublicKey:B,randomPrivateKey:()=>l(n.BYTES),precompute(A=8,S=x.BASE){return S._setWindowSize(A),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const z2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hne=BigInt(1),pR=BigInt(2);BigInt(3);const fne=BigInt(5),pne=BigInt(8);function mne(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=z2,l=t*t%s*t%s,c=ya(l,pR,s)*l%s,d=ya(c,hne,s)*t%s,f=ya(d,fne,s)*d%s,p=ya(f,e,s)*f%s,m=ya(p,n,s)*p%s,g=ya(m,r,s)*m%s,y=ya(g,i,s)*g%s,b=ya(y,i,s)*g%s,_=ya(b,e,s)*f%s;return{pow_p_5_8:ya(_,pR,s)*t%s,b2:l}}function gne(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function yne(t,e){const n=z2,r=wr(e*e*e,n),i=wr(r*r*e,n),s=mne(t*i).pow_p_5_8;let l=wr(t*r*s,n);const c=wr(e*l*l,n),d=l,f=wr(l*fR,n),p=c===t,m=c===wr(-t,n),g=c===wr(-t*fR,n);return p&&(l=d),(m||g)&&(l=f),Jte(l,n)&&(l=wr(-l,n)),{isValid:p||m,value:l}}const wne=AU(z2,void 0,!0),bne={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:wne,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:pne,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:jte,randomBytes:yU,adjustScalarBytes:gne,uvRatio:yne},CU=dne(bne),vne="EdDSA",_ne="JWT",Aw=".",kb="base64url",IU="utf8",OU="utf8",Ene=":",Sne="did",Ane="key",mR="base58btc",Tne="z",xne="K36",Cne=32;function F2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function kU(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?F2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function RU(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=kU(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return F2(n)}function Ine(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),l=s.charCodeAt(0);if(n[l]!==255)throw new TypeError(s+" is ambiguous");n[l]=i}var c=t.length,d=t.charAt(0),f=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var _=0,E=0,k=0,D=b.length;k!==D&&b[k]===0;)k++,_++;for(var x=(D-k)*p+1>>>0,T=new Uint8Array(x);k!==D;){for(var O=b[k],C=0,U=x-1;(O!==0||C<E)&&U!==-1;U--,C++)O+=256*T[U]>>>0,T[U]=O%c>>>0,O=O/c>>>0;if(O!==0)throw new Error("Non-zero carry");E=C,k++}for(var z=x-E;z!==x&&T[z]===0;)z++;for(var B=d.repeat(_);z<x;++z)B+=t.charAt(T[z]);return B}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var _=0;if(b[_]!==" "){for(var E=0,k=0;b[_]===d;)E++,_++;for(var D=(b.length-_)*f+1>>>0,x=new Uint8Array(D);b[_];){var T=n[b.charCodeAt(_)];if(T===255)return;for(var O=0,C=D-1;(T!==0||O<k)&&C!==-1;C--,O++)T+=c*x[C]>>>0,x[C]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=O,_++}if(b[_]!==" "){for(var U=D-k;U!==D&&x[U]===0;)U++;for(var z=new Uint8Array(E+(D-U)),B=E;U!==D;)z[B++]=x[U++];return z}}}function y(b){var _=g(b);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:g,decode:y}}var One=Ine,kne=One;const DU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Rne=t=>new TextEncoder().encode(t),Dne=t=>new TextDecoder().decode(t);let Nne=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Pne=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return NU(this,e)}},Une=class{constructor(e){this.decoders=e}or(e){return NU(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const NU=(t,e)=>new Une({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let $ne=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Nne(e,n,r),this.decoder=new Pne(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Rb=({name:t,prefix:e,encode:n,decode:r})=>new $ne(t,e,n,r),am=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=kne(n,e);return Rb({prefix:t,name:e,encode:r,decode:s=>DU(i(s))})},Mne=(t,e,n,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=t.length;for(;t[s-1]==="=";)--s;const l=new Uint8Array(s*n/8|0);let c=0,d=0,f=0;for(let p=0;p<s;++p){const m=i[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,c+=n,c>=8&&(c-=8,l[f++]=255&d>>c)}if(c>=n||255&d<<8-c)throw new SyntaxError("Unexpected end of data");return l},Lne=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",l=0,c=0;for(let d=0;d<t.length;++d)for(c=c<<8|t[d],l+=8;l>n;)l-=n,s+=e[i&c>>l];if(l&&(s+=e[i&c<<n-l]),r)for(;s.length*n&7;)s+="=";return s},Yr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Rb({prefix:e,name:t,encode(i){return Lne(i,r,n)},decode(i){return Mne(i,r,n,t)}}),Bne=Rb({prefix:"\0",name:"identity",encode:t=>Dne(t),decode:t=>Rne(t)});var jne=Object.freeze({__proto__:null,identity:Bne});const zne=Yr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Fne=Object.freeze({__proto__:null,base2:zne});const qne=Yr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wne=Object.freeze({__proto__:null,base8:qne});const Hne=am({prefix:"9",name:"base10",alphabet:"0123456789"});var Vne=Object.freeze({__proto__:null,base10:Hne});const Kne=Yr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Gne=Yr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Yne=Object.freeze({__proto__:null,base16:Kne,base16upper:Gne});const Zne=Yr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xne=Yr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jne=Yr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qne=Yr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ere=Yr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tre=Yr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nre=Yr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rre=Yr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ire=Yr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sre=Object.freeze({__proto__:null,base32:Zne,base32upper:Xne,base32pad:Jne,base32padupper:Qne,base32hex:ere,base32hexupper:tre,base32hexpad:nre,base32hexpadupper:rre,base32z:ire});const are=am({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ore=am({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lre=Object.freeze({__proto__:null,base36:are,base36upper:ore});const cre=am({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ure=am({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var dre=Object.freeze({__proto__:null,base58btc:cre,base58flickr:ure});const hre=Yr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),fre=Yr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pre=Yr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mre=Yr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var gre=Object.freeze({__proto__:null,base64:hre,base64pad:fre,base64url:pre,base64urlpad:mre});const PU=Array.from(""),yre=PU.reduce((t,e,n)=>(t[n]=e,t),[]),wre=PU.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function bre(t){return t.reduce((e,n)=>(e+=yre[n],e),"")}function vre(t){const e=[];for(const n of t){const r=wre[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const _re=Rb({prefix:"",name:"base256emoji",encode:bre,decode:vre});var Ere=Object.freeze({__proto__:null,base256emoji:_re}),Sre=UU,gR=128,Are=-128,Tre=Math.pow(2,31);function UU(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Tre;)e[n++]=t&255|gR,t/=128;for(;t&Are;)e[n++]=t&255|gR,t>>>=7;return e[n]=t|0,UU.bytes=n-r+1,e}var xre=TS,Cre=128,yR=127;function TS(t,r){var n=0,r=r||0,i=0,s=r,l,c=t.length;do{if(s>=c)throw TS.bytes=0,new RangeError("Could not decode varint");l=t[s++],n+=i<28?(l&yR)<<i:(l&yR)*Math.pow(2,i),i+=7}while(l>=Cre);return TS.bytes=s-r,n}var Ire=Math.pow(2,7),Ore=Math.pow(2,14),kre=Math.pow(2,21),Rre=Math.pow(2,28),Dre=Math.pow(2,35),Nre=Math.pow(2,42),Pre=Math.pow(2,49),Ure=Math.pow(2,56),$re=Math.pow(2,63),Mre=function(t){return t<Ire?1:t<Ore?2:t<kre?3:t<Rre?4:t<Dre?5:t<Nre?6:t<Pre?7:t<Ure?8:t<$re?9:10},Lre={encode:Sre,decode:xre,encodingLength:Mre},$U=Lre;const wR=(t,e,n=0)=>($U.encode(t,e,n),e),bR=t=>$U.encodingLength(t),xS=(t,e)=>{const n=e.byteLength,r=bR(t),i=r+bR(n),s=new Uint8Array(i+n);return wR(t,s,0),wR(n,s,r),s.set(e,i),new Bre(t,n,e,s)};let Bre=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const MU=({name:t,code:e,encode:n})=>new jre(t,e,n);let jre=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?xS(this.code,n):n.then(r=>xS(this.code,r))}else throw Error("Unknown type, must be binary type")}};const LU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),zre=MU({name:"sha2-256",code:18,encode:LU("SHA-256")}),Fre=MU({name:"sha2-512",code:19,encode:LU("SHA-512")});var qre=Object.freeze({__proto__:null,sha256:zre,sha512:Fre});const BU=0,Wre="identity",jU=DU,Hre=t=>xS(BU,jU(t)),Vre={code:BU,name:Wre,encode:jU,digest:Hre};var Kre=Object.freeze({__proto__:null,identity:Vre});new TextEncoder,new TextDecoder;const vR={...jne,...Fne,...Wne,...Vne,...Yne,...sre,...lre,...dre,...gre,...Ere};({...qre,...Kre});function zU(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _R=zU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),v1=zU("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=kU(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),FU={utf8:_R,"utf-8":_R,hex:vR.base16,latin1:v1,ascii:v1,binary:v1,...vR};function Db(t,e="utf8"){const n=FU[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function yh(t,e="utf8"){const n=FU[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?F2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ER(t){return au(Db(yh(t,kb),IU))}function Tw(t){return Db(yh(jo(t),IU),kb)}function qU(t){const e=yh(xne,mR),n=Tne+Db(RU([e,t]),mR);return[Sne,Ane,n].join(Ene)}function Gre(t){return Db(t,kb)}function Yre(t){return yh(t,kb)}function Zre(t){return yh([Tw(t.header),Tw(t.payload)].join(Aw),OU)}function Xre(t){return[Tw(t.header),Tw(t.payload),Gre(t.signature)].join(Aw)}function CS(t){const e=t.split(Aw),n=ER(e[0]),r=ER(e[1]),i=Yre(e[2]),s=yh(e.slice(0,2).join(Aw),OU);return{header:n,payload:r,signature:i,data:s}}function SR(t=yU(Cne)){const e=CU.getPublicKey(t);return{secretKey:RU([t,e]),publicKey:e}}async function Jre(t,e,n,r,i=Ue.fromMiliseconds(Date.now())){const s={alg:vne,typ:_ne},l=qU(r.publicKey),c=i+n,d={iss:l,sub:t,aud:e,iat:i,exp:c},f=Zre({header:s,payload:d}),p=CU.sign(f,r.secretKey.slice(0,32));return Xre({header:s,payload:d,signature:p})}function q2(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function WU(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?q2(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function yp(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=WU(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return q2(n)}function Qre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),l=s.charCodeAt(0);if(n[l]!==255)throw new TypeError(s+" is ambiguous");n[l]=i}var c=t.length,d=t.charAt(0),f=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var _=0,E=0,k=0,D=b.length;k!==D&&b[k]===0;)k++,_++;for(var x=(D-k)*p+1>>>0,T=new Uint8Array(x);k!==D;){for(var O=b[k],C=0,U=x-1;(O!==0||C<E)&&U!==-1;U--,C++)O+=256*T[U]>>>0,T[U]=O%c>>>0,O=O/c>>>0;if(O!==0)throw new Error("Non-zero carry");E=C,k++}for(var z=x-E;z!==x&&T[z]===0;)z++;for(var B=d.repeat(_);z<x;++z)B+=t.charAt(T[z]);return B}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var _=0;if(b[_]!==" "){for(var E=0,k=0;b[_]===d;)E++,_++;for(var D=(b.length-_)*f+1>>>0,x=new Uint8Array(D);b[_];){var T=n[b.charCodeAt(_)];if(T===255)return;for(var O=0,C=D-1;(T!==0||O<k)&&C!==-1;C--,O++)T+=c*x[C]>>>0,x[C]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=O,_++}if(b[_]!==" "){for(var U=D-k;U!==D&&x[U]===0;)U++;for(var z=new Uint8Array(E+(D-U)),B=E;U!==D;)z[B++]=x[U++];return z}}}function y(b){var _=g(b);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:g,decode:y}}var eie=Qre,tie=eie;const nie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},rie=t=>new TextEncoder().encode(t),iie=t=>new TextDecoder().decode(t);class sie{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aie{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HU(this,e)}}class oie{constructor(e){this.decoders=e}or(e){return HU(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const HU=(t,e)=>new oie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class lie{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new sie(e,n,r),this.decoder=new aie(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Nb=({name:t,prefix:e,encode:n,decode:r})=>new lie(t,e,n,r),om=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=tie(n,e);return Nb({prefix:t,name:e,encode:r,decode:s=>nie(i(s))})},cie=(t,e,n,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=t.length;for(;t[s-1]==="=";)--s;const l=new Uint8Array(s*n/8|0);let c=0,d=0,f=0;for(let p=0;p<s;++p){const m=i[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,c+=n,c>=8&&(c-=8,l[f++]=255&d>>c)}if(c>=n||255&d<<8-c)throw new SyntaxError("Unexpected end of data");return l},uie=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",l=0,c=0;for(let d=0;d<t.length;++d)for(c=c<<8|t[d],l+=8;l>n;)l-=n,s+=e[i&c>>l];if(l&&(s+=e[i&c<<n-l]),r)for(;s.length*n&7;)s+="=";return s},Zr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Nb({prefix:e,name:t,encode(i){return uie(i,r,n)},decode(i){return cie(i,r,n,t)}}),die=Nb({prefix:"\0",name:"identity",encode:t=>iie(t),decode:t=>rie(t)}),hie=Object.freeze(Object.defineProperty({__proto__:null,identity:die},Symbol.toStringTag,{value:"Module"})),fie=Zr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),pie=Object.freeze(Object.defineProperty({__proto__:null,base2:fie},Symbol.toStringTag,{value:"Module"})),mie=Zr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gie=Object.freeze(Object.defineProperty({__proto__:null,base8:mie},Symbol.toStringTag,{value:"Module"})),yie=om({prefix:"9",name:"base10",alphabet:"0123456789"}),wie=Object.freeze(Object.defineProperty({__proto__:null,base10:yie},Symbol.toStringTag,{value:"Module"})),bie=Zr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vie=Zr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),_ie=Object.freeze(Object.defineProperty({__proto__:null,base16:bie,base16upper:vie},Symbol.toStringTag,{value:"Module"})),Eie=Zr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sie=Zr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Aie=Zr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tie=Zr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xie=Zr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Cie=Zr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Iie=Zr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Oie=Zr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kie=Zr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Rie=Object.freeze(Object.defineProperty({__proto__:null,base32:Eie,base32hex:xie,base32hexpad:Iie,base32hexpadupper:Oie,base32hexupper:Cie,base32pad:Aie,base32padupper:Tie,base32upper:Sie,base32z:kie},Symbol.toStringTag,{value:"Module"})),Die=om({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Nie=om({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Pie=Object.freeze(Object.defineProperty({__proto__:null,base36:Die,base36upper:Nie},Symbol.toStringTag,{value:"Module"})),Uie=om({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$ie=om({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Mie=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Uie,base58flickr:$ie},Symbol.toStringTag,{value:"Module"})),Lie=Zr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Bie=Zr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jie=Zr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zie=Zr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Fie=Object.freeze(Object.defineProperty({__proto__:null,base64:Lie,base64pad:Bie,base64url:jie,base64urlpad:zie},Symbol.toStringTag,{value:"Module"})),VU=Array.from(""),qie=VU.reduce((t,e,n)=>(t[n]=e,t),[]),Wie=VU.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Hie(t){return t.reduce((e,n)=>(e+=qie[n],e),"")}function Vie(t){const e=[];for(const n of t){const r=Wie[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Kie=Nb({prefix:"",name:"base256emoji",encode:Hie,decode:Vie}),Gie=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Kie},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const AR={...hie,...pie,...gie,...wie,..._ie,...Rie,...Pie,...Mie,...Fie,...Gie};function KU(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const TR=KU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),_1=KU("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=WU(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),GU={utf8:TR,"utf-8":TR,hex:AR.base16,latin1:_1,ascii:_1,binary:_1,...AR};function Ps(t,e="utf8"){const n=GU[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?q2(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Li(t,e="utf8"){const n=GU[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Yie={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var E1,xR;function YU(){if(xR)return E1;xR=1;const t="Input must be an string, Buffer or Uint8Array";function e(l){let c;if(l instanceof Uint8Array)c=l;else if(typeof l=="string")c=new TextEncoder().encode(l);else throw new Error(t);return c}function n(l){return Array.prototype.map.call(l,function(c){return(c<16?"0":"")+c.toString(16)}).join("")}function r(l){return(4294967296+l).toString(16).substring(1)}function i(l,c,d){let f=`
`+l+" = ";for(let p=0;p<c.length;p+=2){if(d===32)f+=r(c[p]).toUpperCase(),f+=" ",f+=r(c[p+1]).toUpperCase();else if(d===64)f+=r(c[p+1]).toUpperCase(),f+=r(c[p]).toUpperCase();else throw new Error("Invalid size "+d);p%6===4?f+=`
`+new Array(l.length+4).join(" "):p<c.length-2&&(f+=" ")}console.log(f)}function s(l,c,d){let f=new Date().getTime();const p=new Uint8Array(c);for(let g=0;g<c;g++)p[g]=g%256;const m=new Date().getTime();console.log("Generated random input in "+(m-f)+"ms"),f=m;for(let g=0;g<d;g++){const y=l(p),b=new Date().getTime(),_=b-f;f=b,console.log("Hashed in "+_+"ms: "+y.substring(0,20)+"..."),console.log(Math.round(c/(1<<20)/(_/1e3)*100)/100+" MB PER SECOND")}}return E1={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},E1}var S1,CR;function Zie(){if(CR)return S1;CR=1;const t=YU();function e(k,D,x){const T=k[D]+k[x];let O=k[D+1]+k[x+1];T>=4294967296&&O++,k[D]=T,k[D+1]=O}function n(k,D,x,T){let O=k[D]+x;x<0&&(O+=4294967296);let C=k[D+1]+T;O>=4294967296&&C++,k[D]=O,k[D+1]=C}function r(k,D){return k[D]^k[D+1]<<8^k[D+2]<<16^k[D+3]<<24}function i(k,D,x,T,O,C){const U=f[O],z=f[O+1],B=f[C],q=f[C+1];e(d,k,D),n(d,k,U,z);let W=d[T]^d[k],K=d[T+1]^d[k+1];d[T]=K,d[T+1]=W,e(d,x,T),W=d[D]^d[x],K=d[D+1]^d[x+1],d[D]=W>>>24^K<<8,d[D+1]=K>>>24^W<<8,e(d,k,D),n(d,k,B,q),W=d[T]^d[k],K=d[T+1]^d[k+1],d[T]=W>>>16^K<<16,d[T+1]=K>>>16^W<<16,e(d,x,T),W=d[D]^d[x],K=d[D+1]^d[x+1],d[D]=K>>>31^W<<1,d[D+1]=W>>>31^K<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(l.map(function(k){return k*2})),d=new Uint32Array(32),f=new Uint32Array(32);function p(k,D){let x=0;for(x=0;x<16;x++)d[x]=k.h[x],d[x+16]=s[x];for(d[24]=d[24]^k.t,d[25]=d[25]^k.t/4294967296,D&&(d[28]=~d[28],d[29]=~d[29]),x=0;x<32;x++)f[x]=r(k.b,4*x);for(x=0;x<12;x++)i(0,8,16,24,c[x*16+0],c[x*16+1]),i(2,10,18,26,c[x*16+2],c[x*16+3]),i(4,12,20,28,c[x*16+4],c[x*16+5]),i(6,14,22,30,c[x*16+6],c[x*16+7]),i(0,10,20,30,c[x*16+8],c[x*16+9]),i(2,12,22,24,c[x*16+10],c[x*16+11]),i(4,14,16,26,c[x*16+12],c[x*16+13]),i(6,8,18,28,c[x*16+14],c[x*16+15]);for(x=0;x<16;x++)k.h[x]=k.h[x]^d[x]^d[x+16]}const m=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(k,D,x,T){if(k===0||k>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(D&&D.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(x&&x.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(T&&T.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const O={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:k};m.fill(0),m[0]=k,D&&(m[1]=D.length),m[2]=1,m[3]=1,x&&m.set(x,32),T&&m.set(T,48);for(let C=0;C<16;C++)O.h[C]=s[C]^r(m,C*4);return D&&(y(O,D),O.c=128),O}function y(k,D){for(let x=0;x<D.length;x++)k.c===128&&(k.t+=k.c,p(k,!1),k.c=0),k.b[k.c++]=D[x]}function b(k){for(k.t+=k.c;k.c<128;)k.b[k.c++]=0;p(k,!0);const D=new Uint8Array(k.outlen);for(let x=0;x<k.outlen;x++)D[x]=k.h[x>>2]>>8*(x&3);return D}function _(k,D,x,T,O){x=x||64,k=t.normalizeInput(k),T&&(T=t.normalizeInput(T)),O&&(O=t.normalizeInput(O));const C=g(x,D,T,O);return y(C,k),b(C)}function E(k,D,x,T,O){const C=_(k,D,x,T,O);return t.toHex(C)}return S1={blake2b:_,blake2bHex:E,blake2bInit:g,blake2bUpdate:y,blake2bFinal:b},S1}var A1,IR;function Xie(){if(IR)return A1;IR=1;const t=YU();function e(b,_){return b[_]^b[_+1]<<8^b[_+2]<<16^b[_+3]<<24}function n(b,_,E,k,D,x){l[b]=l[b]+l[_]+D,l[k]=r(l[k]^l[b],16),l[E]=l[E]+l[k],l[_]=r(l[_]^l[E],12),l[b]=l[b]+l[_]+x,l[k]=r(l[k]^l[b],8),l[E]=l[E]+l[k],l[_]=r(l[_]^l[E],7)}function r(b,_){return b>>>_^b<<32-_}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),c=new Uint32Array(16);function d(b,_){let E=0;for(E=0;E<8;E++)l[E]=b.h[E],l[E+8]=i[E];for(l[12]^=b.t,l[13]^=b.t/4294967296,_&&(l[14]=~l[14]),E=0;E<16;E++)c[E]=e(b.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,c[s[E*16+0]],c[s[E*16+1]]),n(1,5,9,13,c[s[E*16+2]],c[s[E*16+3]]),n(2,6,10,14,c[s[E*16+4]],c[s[E*16+5]]),n(3,7,11,15,c[s[E*16+6]],c[s[E*16+7]]),n(0,5,10,15,c[s[E*16+8]],c[s[E*16+9]]),n(1,6,11,12,c[s[E*16+10]],c[s[E*16+11]]),n(2,7,8,13,c[s[E*16+12]],c[s[E*16+13]]),n(3,4,9,14,c[s[E*16+14]],c[s[E*16+15]]);for(E=0;E<8;E++)b.h[E]^=l[E]^l[E+8]}function f(b,_){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=_?_.length:0;if(_&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const k={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return k.h[0]^=16842752^E<<8^b,E>0&&(p(k,_),k.c=64),k}function p(b,_){for(let E=0;E<_.length;E++)b.c===64&&(b.t+=b.c,d(b,!1),b.c=0),b.b[b.c++]=_[E]}function m(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;d(b,!0);const _=new Uint8Array(b.outlen);for(let E=0;E<b.outlen;E++)_[E]=b.h[E>>2]>>8*(E&3)&255;return _}function g(b,_,E){E=E||32,b=t.normalizeInput(b);const k=f(E,_);return p(k,b),m(k)}function y(b,_,E){const k=g(b,_,E);return t.toHex(k)}return A1={blake2s:g,blake2sHex:y,blake2sInit:f,blake2sUpdate:p,blake2sFinal:m},A1}var T1,OR;function Jie(){if(OR)return T1;OR=1;const t=Zie(),e=Xie();return T1={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},T1}var Qie=Jie(),kf={exports:{}},x1,kR;function ese(){if(kR)return x1;kR=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}x1=e;function e(n,r,i){var s=i&&i.stringify||t,l=1;if(typeof n=="object"&&n!==null){var c=r.length+l;if(c===1)return n;var d=new Array(c);d[0]=s(n);for(var f=1;f<c;f++)d[f]=s(r[f]);return d.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var m="",g=1-l,y=-1,b=n&&n.length||0,_=0;_<b;){if(n.charCodeAt(_)===37&&_+1<b){switch(y=y>-1?y:0,n.charCodeAt(_+1)){case 100:case 102:if(g>=p||r[g]==null)break;y<_&&(m+=n.slice(y,_)),m+=Number(r[g]),y=_+2,_++;break;case 105:if(g>=p||r[g]==null)break;y<_&&(m+=n.slice(y,_)),m+=Math.floor(Number(r[g])),y=_+2,_++;break;case 79:case 111:case 106:if(g>=p||r[g]===void 0)break;y<_&&(m+=n.slice(y,_));var E=typeof r[g];if(E==="string"){m+="'"+r[g]+"'",y=_+2,_++;break}if(E==="function"){m+=r[g].name||"<anonymous>",y=_+2,_++;break}m+=s(r[g]),y=_+2,_++;break;case 115:if(g>=p)break;y<_&&(m+=n.slice(y,_)),m+=String(r[g]),y=_+2,_++;break;case 37:y<_&&(m+=n.slice(y,_)),m+="%",y=_+2,_++,g--;break}++g}++_}return y===-1?n:(y<b&&(m+=n.slice(y)),m)}return x1}var RR;function tse(){if(RR)return kf.exports;RR=1;const t=ese();kf.exports=p;const e=G().console||{},n={mapHttpRequest:U,mapHttpResponse:U,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:U,res:U,err:O,errWithCause:O};function r(A,S){return A==="silent"?1/0:S.levels.values[A]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(A,S){const P={logger:S,parent:A[s]};S[s]=P}function d(A,S,P){const $={};S.forEach(R=>{$[R]=P[R]?P[R]:e[R]||e[l[R]||"log"]||B}),A[i]=$}function f(A,S){return Array.isArray(A)?A.filter(function($){return $!=="!stdSerializers.err"}):A===!0?Object.keys(S):!1}function p(A){A=A||{},A.browser=A.browser||{};const S=A.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const P=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const $=A.serializers||{},R=f(A.browser.serialize,$);let L=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(L=!1);const Y=Object.keys(A.customLevels||{}),Z=["error","fatal","warn","info","debug","trace"].concat(Y);typeof P=="function"&&Z.forEach(function(te){P[te]=P}),(A.enabled===!1||A.browser.disabled)&&(A.level="silent");const ie=A.level||"info",ee=Object.create(P);ee.log||(ee.log=B),d(ee,Z,P),c({},ee),Object.defineProperty(ee,"levelVal",{get:Se}),Object.defineProperty(ee,"level",{get:Ie,set:$e});const se={transmit:S,serialize:R,asObject:A.browser.asObject,asObjectBindingsOnly:A.browser.asObjectBindingsOnly,formatters:A.browser.formatters,levels:Z,timestamp:C(A),messageKey:A.messageKey||"msg",onChild:A.onChild||B};ee.levels=m(A),ee.level=ie,ee.isLevelEnabled=function(te){return this.levels.values[te]?this.levels.values[te]>=this.levels.values[this.level]:!1},ee.setMaxListeners=ee.getMaxListeners=ee.emit=ee.addListener=ee.on=ee.prependListener=ee.once=ee.prependOnceListener=ee.removeListener=ee.removeAllListeners=ee.listeners=ee.listenerCount=ee.eventNames=ee.write=ee.flush=B,ee.serializers=$,ee._serialize=R,ee._stdErrSerialize=L,ee.child=function(...te){return xe.call(this,se,...te)},S&&(ee._logEvent=T());function Se(){return r(this.level,this)}function Ie(){return this._level}function $e(te){if(te!=="silent"&&!this.levels.values[te])throw Error("unknown level "+te);this._level=te,b(this,se,ee,"error"),b(this,se,ee,"fatal"),b(this,se,ee,"warn"),b(this,se,ee,"info"),b(this,se,ee,"debug"),b(this,se,ee,"trace"),Y.forEach(Ve=>{b(this,se,ee,Ve)})}function xe(te,Ve,rt){if(!Ve)throw new Error("missing bindings for child Pino");rt=rt||{},R&&Ve.serializers&&(rt.serializers=Ve.serializers);const Le=rt.serializers;if(R&&Le){var st=Object.assign({},$,Le),De=A.browser.serialize===!0?Object.keys(st):R;delete Ve.serializers,D([Ve],De,st,this._stdErrSerialize)}function ze(Mn){this._childLevel=(Mn._childLevel|0)+1,this.bindings=Ve,st&&(this.serializers=st,this._serialize=De),S&&(this._logEvent=T([].concat(Mn._logEvent.bindings,Ve)))}ze.prototype=this;const vr=new ze(this);return c(this,vr),vr.child=function(...Mn){return xe.call(this,te,...Mn)},vr.level=rt.level||this.level,te.onChild(vr),vr}return ee}function m(A){const S=A.customLevels||{},P=Object.assign({},p.levels.values,S),$=Object.assign({},p.levels.labels,g(S));return{values:P,labels:$}}function g(A){const S={};return Object.keys(A).forEach(function(P){S[A[P]]=P}),S}p.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},p.stdSerializers=n,p.stdTimeFunctions=Object.assign({},{nullTime:q,epochTime:W,unixTime:K,isoTime:H});function y(A){const S=[];A.bindings&&S.push(A.bindings);let P=A[s];for(;P.parent;)P=P.parent,P.logger.bindings&&S.push(P.logger.bindings);return S.reverse()}function b(A,S,P,$){if(Object.defineProperty(A,$,{value:r(A.level,P)>r($,P)?B:P[i][$],writable:!0,enumerable:!0,configurable:!0}),A[$]===B){if(!S.transmit)return;const L=S.transmit.level||A.level,Y=r(L,P);if(r($,P)<Y)return}A[$]=E(A,S,P,$);const R=y(A);R.length!==0&&(A[$]=_(R,A[$]))}function _(A,S){return function(){return S.apply(this,[...A,...arguments])}}function E(A,S,P,$){return(function(R){return function(){const Y=S.timestamp(),Z=new Array(arguments.length),ie=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var ee=0;ee<Z.length;ee++)Z[ee]=arguments[ee];var se=!1;if(S.serialize&&(D(Z,this._serialize,this.serializers,this._stdErrSerialize),se=!0),S.asObject||S.formatters?R.call(ie,...k(this,$,Z,Y,S)):R.apply(ie,Z),S.transmit){const Se=S.transmit.level||A._level,Ie=r(Se,P),$e=r($,P);if($e<Ie)return;x(this,{ts:Y,methodLevel:$,methodValue:$e,transmitValue:P.levels.values[S.transmit.level||A._level],send:S.transmit.send,val:r(A._level,P)},Z,se)}}})(A[i][$])}function k(A,S,P,$,R){const{level:L,log:Y=Se=>Se}=R.formatters||{},Z=P.slice();let ie=Z[0];const ee={};let se=(A._childLevel|0)+1;if(se<1&&(se=1),$&&(ee.time=$),L){const Se=L(S,A.levels.values[S]);Object.assign(ee,Se)}else ee.level=A.levels.values[S];if(R.asObjectBindingsOnly){if(ie!==null&&typeof ie=="object")for(;se--&&typeof Z[0]=="object";)Object.assign(ee,Z.shift());return[Y(ee),...Z]}else{if(ie!==null&&typeof ie=="object"){for(;se--&&typeof Z[0]=="object";)Object.assign(ee,Z.shift());ie=Z.length?t(Z.shift(),Z):void 0}else typeof ie=="string"&&(ie=t(Z.shift(),Z));return ie!==void 0&&(ee[R.messageKey]=ie),[Y(ee)]}}function D(A,S,P,$){for(const R in A)if($&&A[R]instanceof Error)A[R]=p.stdSerializers.err(A[R]);else if(typeof A[R]=="object"&&!Array.isArray(A[R])&&S)for(const L in A[R])S.indexOf(L)>-1&&L in P&&(A[R][L]=P[L](A[R][L]))}function x(A,S,P,$=!1){const R=S.send,L=S.ts,Y=S.methodLevel,Z=S.methodValue,ie=S.val,ee=A._logEvent.bindings;$||D(P,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=L,A._logEvent.messages=P.filter(function(se){return ee.indexOf(se)===-1}),A._logEvent.level.label=Y,A._logEvent.level.value=Z,R(Y,A._logEvent,ie),A._logEvent=T(ee)}function T(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function O(A){const S={type:A.constructor.name,msg:A.message,stack:A.stack};for(const P in A)S[P]===void 0&&(S[P]=A[P]);return S}function C(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?q:W}function U(){return{}}function z(A){return A}function B(){}function q(){return!1}function W(){return Date.now()}function K(){return Math.round(Date.now()/1e3)}function H(){return new Date(Date.now()).toISOString()}function G(){function A(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return kf.exports.default=p,kf.exports.pino=p,kf.exports}var kd=tse();const ZU=hh(kd),nse={level:"info"},Pb="custom_context",W2=1e3*1024;var rse=Object.defineProperty,ise=(t,e,n)=>e in t?rse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fl=(t,e,n)=>ise(t,typeof e!="symbol"?e+"":e,n);let sse=class{constructor(e){Fl(this,"nodeValue"),Fl(this,"sizeInBytes"),Fl(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},DR=class{constructor(e){Fl(this,"lengthInNodes"),Fl(this,"sizeInBytes"),Fl(this,"head"),Fl(this,"tail"),Fl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new sse(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var ase=Object.defineProperty,ose=(t,e,n)=>e in t?ase(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sy=(t,e,n)=>ose(t,typeof e!="symbol"?e+"":e,n);let XU=class{constructor(e,n=W2){sy(this,"logs"),sy(this,"level"),sy(this,"levelValue"),sy(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=kd.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new DR(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===kd.levels.values.error?console.error(e):n===kd.levels.values.warn?console.warn(e):n===kd.levels.values.debug?console.debug(e):n===kd.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(jo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new DR(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(jo({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var lse=Object.defineProperty,cse=(t,e,n)=>e in t?lse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,use=(t,e,n)=>cse(t,e+"",n);let dse=class{constructor(e,n=W2){use(this,"baseChunkLogger"),this.baseChunkLogger=new XU(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var hse=Object.defineProperty,fse=(t,e,n)=>e in t?hse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pse=(t,e,n)=>fse(t,e+"",n);let mse=class{constructor(e,n=W2){pse(this,"baseChunkLogger"),this.baseChunkLogger=new XU(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var gse=Object.defineProperty,yse=Object.defineProperties,wse=Object.getOwnPropertyDescriptors,NR=Object.getOwnPropertySymbols,bse=Object.prototype.hasOwnProperty,vse=Object.prototype.propertyIsEnumerable,PR=(t,e,n)=>e in t?gse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xw=(t,e)=>{for(var n in e||(e={}))bse.call(e,n)&&PR(t,n,e[n]);if(NR)for(var n of NR(e))vse.call(e,n)&&PR(t,n,e[n]);return t},Cw=(t,e)=>yse(t,wse(e));function _se(t){return Cw(xw({},t),{level:t?.level||nse.level})}function Ese(t,e,n=Pb){return t[n]=e,t}function ji(t,e=Pb){return t[e]||""}function Sse(t,e,n=Pb){const r=ji(t,n);return r.trim()?`${r}/${e}`:e}function cs(t,e,n=Pb){const r=Sse(t,e,n),i=t.child({context:r});return Ese(i,r,n)}function Ase(t){var e,n;const r=new dse((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ZU(Cw(xw({},t.opts),{level:"trace",browser:Cw(xw({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function Tse(t){var e;const n=new mse((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ZU(Cw(xw({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function JU(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Ase(t):Tse(t)}var xse={};const Cse=":";function Uo(t){const[e,n]=t.split(Cse);return{namespace:e,reference:n}}function UR(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function QU(t,e){return t.includes(":")?[t]:e.chains||[]}var Ise=Object.defineProperty,Ose=Object.defineProperties,kse=Object.getOwnPropertyDescriptors,$R=Object.getOwnPropertySymbols,Rse=Object.prototype.hasOwnProperty,Dse=Object.prototype.propertyIsEnumerable,IS=(t,e,n)=>e in t?Ise(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MR=(t,e)=>{for(var n in e||(e={}))Rse.call(e,n)&&IS(t,n,e[n]);if($R)for(var n of $R(e))Dse.call(e,n)&&IS(t,n,e[n]);return t},Nse=(t,e)=>Ose(t,kse(e)),LR=(t,e,n)=>IS(t,typeof e!="symbol"?e+"":e,n);const Pse="ReactNative",as={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Use="js";function Iw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function lc(){return!Bo.getDocument()&&!!Bo.getNavigator()&&navigator.product===Pse}function $se(){return lc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Mse(){return lc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function wh(){return!Iw()&&!!Bo.getNavigator()&&!!Bo.getDocument()}function lm(){return lc()?as.reactNative:Iw()?as.node:wh()?as.browser:as.unknown}function BR(){var t;try{return lc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Lse(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function Bse(t){var e,n;const r=e$();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Nse(MR(MR({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function e$(){return VJ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function jse(){if(lm()===as.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=uJ();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function zse(){var t;const e=lm();return e===as.browser?[e,((t=Bo.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function t$(t,e,n){const r=jse(),i=zse();return[[t,e].join("-"),[Use,n].join("-"),r,i].join("/")}function Fse({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:l,bundleId:c,packageName:d}){const f=n.split("?"),p=t$(t,e,r),m={auth:i,ua:p,projectId:s,useOnCloseEvent:l,packageName:d||void 0,bundleId:c||void 0},g=Lse(f[1]||"",m);return f[0]+"?"+g}function Xc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function OS(t){return Object.fromEntries(t.entries())}function kS(t){return new Map(Object.entries(t))}function Lc(t=Ue.FIVE_MINUTES,e){const n=Ue.toMiliseconds(t||Ue.FIVE_MINUTES);let r,i,s,l;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),l=Promise.resolve(c))},reject:c=>{s&&i&&(clearTimeout(s),i(c))},done:()=>new Promise((c,d)=>{if(l)return c(l);s=setTimeout(()=>{const f=new Error(e);l=Promise.reject(f),d(f)},n),r=c,i=d})}}function Oa(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const l=await t;r(l)}catch(l){i(l)}clearTimeout(s)})}function n$(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function qse(t){return n$("topic",t)}function Wse(t){return n$("id",t)}function r$(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function rr(t,e){return Ue.fromMiliseconds(Date.now()+Ue.toMiliseconds(t))}function Ia(t){return Date.now()>=Ue.toMiliseconds(t)}function en(t,e){return`${t}${e?`:${e}`:""}`}function Na(t=[],e=[]){return[...new Set([...t,...e])]}async function Hse({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const l=Vse(s,t,e),c=lm();if(c===as.browser){if(!((r=Bo.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Kse(l)}else c===as.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(l)}catch(i){console.error(i)}}function Vse(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Xse(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Kse(t){let e="_self";Zse()?e="_top":(Yse()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Gse(t,e){let n="";try{if(wh()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function jR(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function zR(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function H2(){return typeof process<"u"&&xse.IS_VITEST==="true"}function Yse(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Zse(){try{return window.self!==window.top}catch{return!1}}function Xse(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function i$(t){return Buffer.from(t,"base64").toString("utf-8")}function Jse(t){return new Promise(e=>setTimeout(e,t))}let Qse=class{constructor({limit:e}){LR(this,"limit"),LR(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const ay=BigInt(2**32-1),FR=BigInt(32);function s$(t,e=!1){return e?{h:Number(t&ay),l:Number(t>>FR&ay)}:{h:Number(t>>FR&ay)|0,l:Number(t&ay)|0}}function a$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:l,l:c}=s$(t[s],e);[r[s],i[s]]=[l,c]}return[r,i]}const qR=(t,e,n)=>t>>>n,WR=(t,e,n)=>t<<32-n|e>>>n,Nl=(t,e,n)=>t>>>n|e<<32-n,Pl=(t,e,n)=>t<<32-n|e>>>n,tp=(t,e,n)=>t<<64-n|e>>>n-32,np=(t,e,n)=>t>>>n-32|e<<64-n,eae=(t,e)=>e,tae=(t,e)=>t,nae=(t,e,n)=>t<<n|e>>>32-n,rae=(t,e,n)=>e<<n|t>>>32-n,iae=(t,e,n)=>e<<n-32|t>>>64-n,sae=(t,e,n)=>t<<n-32|e>>>64-n;function Js(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const V2=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),K2=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,aae=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),oae=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,lae=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),cae=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,bd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ub(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function la(t,...e){if(!Ub(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $b(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zo(t.outputLen),zo(t.blockLen)}function nc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function G2(t,e){la(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Up(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ls(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function C1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wa(t,e){return t<<32-e|t>>>e}const o$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function l$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const yo=o$?t=>t:t=>l$(t);function uae(t){for(let e=0;e<t.length;e++)t[e]=l$(t[e]);return t}const Ul=o$?t=>t:uae,c$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fd(t){if(la(t),c$)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=dae[t[n]];return e}const po={_0:48,_9:57,A:65,F:70,a:97,f:102};function HR(t){if(t>=po._0&&t<=po._9)return t-po._0;if(t>=po.A&&t<=po.F)return t-(po.A-10);if(t>=po.a&&t<=po.f)return t-(po.a-10)}function Ow(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(c$)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const l=HR(t.charCodeAt(s)),c=HR(t.charCodeAt(s+1));if(l===void 0||c===void 0){const d=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+s)}r[i]=l*16+c}return r}function u$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function aa(t){return typeof t=="string"&&(t=u$(t)),la(t),t}function ql(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];la(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class Mb{}function cm(t){const e=r=>t().update(aa(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hae(t){const e=(r,i)=>t(i).update(aa(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Eu(t=32){if(bd&&typeof bd.getRandomValues=="function")return bd.getRandomValues(new Uint8Array(t));if(bd&&typeof bd.randomBytes=="function")return Uint8Array.from(bd.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const fae=BigInt(0),Rf=BigInt(1),pae=BigInt(2),mae=BigInt(7),gae=BigInt(256),yae=BigInt(113),d$=[],h$=[],f$=[];for(let t=0,e=Rf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],d$.push(2*(5*r+n)),h$.push((t+1)*(t+2)/2%64);let i=fae;for(let s=0;s<7;s++)e=(e<<Rf^(e>>mae)*yae)%gae,e&pae&&(i^=Rf<<(Rf<<BigInt(s))-Rf);f$.push(i)}const p$=a$(f$,!0),wae=p$[0],bae=p$[1],VR=(t,e,n)=>n>32?iae(t,e,n):nae(t,e,n),KR=(t,e,n)=>n>32?sae(t,e,n):rae(t,e,n);function vae(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,d=(l+2)%10,f=n[d],p=n[d+1],m=VR(f,p,1)^n[c],g=KR(f,p,1)^n[c+1];for(let y=0;y<50;y+=10)t[l+y]^=m,t[l+y+1]^=g}let i=t[2],s=t[3];for(let l=0;l<24;l++){const c=h$[l],d=VR(i,s,c),f=KR(i,s,c),p=d$[l];i=t[p],s=t[p+1],t[p]=d,t[p+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=wae[r],t[1]^=bae[r]}Ls(n)}let _ae=class m$ extends Mb{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,zo(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Up(this.state)}clone(){return this._cloneInto()}keccak(){Ul(this.state32),vae(this.state32,this.rounds),Ul(this.state32),this.posOut=0,this.pos=0}update(e){nc(this),e=aa(e),la(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const l=Math.min(n-this.pos,i-s);for(let c=0;c<l;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){nc(this,!1),la(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(G2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ls(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:l}=this;return e||(e=new m$(n,r,i,l,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}};const Eae=(t,e,n)=>cm(()=>new _ae(e,t,n)),Sae=Eae(1,136,256/8);function Aae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),c=Number(n&s),d=r?4:0,f=r?0:4;t.setUint32(e+d,l,r),t.setUint32(e+f,c,r)}function Tae(t,e,n){return t&e^~t&n}function xae(t,e,n){return t&e^t&n^e&n}let g$=class extends Mb{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=C1(this.buffer)}update(e){nc(this),e=aa(e),la(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let l=0;l<s;){const c=Math.min(i-this.pos,s-l);if(c===i){const d=C1(e);for(;i<=s-l;l+=i)this.process(d,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nc(this),G2(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:l}=this;n[l++]=128,Ls(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let m=l;m<i;m++)n[m]=0;Aae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=C1(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<f;m++)c.setUint32(4*m,p[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Al=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ei=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Cae=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tl=new Uint32Array(64);class Iae extends g${constructor(e=32){super(64,e,8,!1),this.A=Al[0]|0,this.B=Al[1]|0,this.C=Al[2]|0,this.D=Al[3]|0,this.E=Al[4]|0,this.F=Al[5]|0,this.G=Al[6]|0,this.H=Al[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:l,G:c,H:d}=this;return[e,n,r,i,s,l,c,d]}set(e,n,r,i,s,l,c,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=d|0}process(e,n){for(let m=0;m<16;m++,n+=4)Tl[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const g=Tl[m-15],y=Tl[m-2],b=wa(g,7)^wa(g,18)^g>>>3,_=wa(y,17)^wa(y,19)^y>>>10;Tl[m]=_+Tl[m-7]+b+Tl[m-16]|0}let{A:r,B:i,C:s,D:l,E:c,F:d,G:f,H:p}=this;for(let m=0;m<64;m++){const g=wa(c,6)^wa(c,11)^wa(c,25),y=p+g+Tae(c,d,f)+Cae[m]+Tl[m]|0,b=(wa(r,2)^wa(r,13)^wa(r,22))+xae(r,i,s)|0;p=f,f=d,d=c,c=l+y|0,l=s,s=i,i=r,r=y+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,i,s,l,c,d,f,p)}roundClean(){Ls(Tl)}destroy(){this.set(0,0,0,0,0,0,0,0),Ls(this.buffer)}}const y$=a$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Oae=y$[0],kae=y$[1],xl=new Uint32Array(80),Cl=new Uint32Array(80);let Y2=class extends g${constructor(e=64){super(128,e,16,!1),this.Ah=ei[0]|0,this.Al=ei[1]|0,this.Bh=ei[2]|0,this.Bl=ei[3]|0,this.Ch=ei[4]|0,this.Cl=ei[5]|0,this.Dh=ei[6]|0,this.Dl=ei[7]|0,this.Eh=ei[8]|0,this.El=ei[9]|0,this.Fh=ei[10]|0,this.Fl=ei[11]|0,this.Gh=ei[12]|0,this.Gl=ei[13]|0,this.Hh=ei[14]|0,this.Hl=ei[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:l,Dh:c,Dl:d,Eh:f,El:p,Fh:m,Fl:g,Gh:y,Gl:b,Hh:_,Hl:E}=this;return[e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E]}set(e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=l|0,this.Dh=c|0,this.Dl=d|0,this.Eh=f|0,this.El=p|0,this.Fh=m|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=_|0,this.Hl=E|0}process(e,n){for(let x=0;x<16;x++,n+=4)xl[x]=e.getUint32(n),Cl[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const T=xl[x-15]|0,O=Cl[x-15]|0,C=Nl(T,O,1)^Nl(T,O,8)^qR(T,O,7),U=Pl(T,O,1)^Pl(T,O,8)^WR(T,O,7),z=xl[x-2]|0,B=Cl[x-2]|0,q=Nl(z,B,19)^tp(z,B,61)^qR(z,B,6),W=Pl(z,B,19)^np(z,B,61)^WR(z,B,6),K=aae(U,W,Cl[x-7],Cl[x-16]),H=oae(K,C,q,xl[x-7],xl[x-16]);xl[x]=H|0,Cl[x]=K|0}let{Ah:r,Al:i,Bh:s,Bl:l,Ch:c,Cl:d,Dh:f,Dl:p,Eh:m,El:g,Fh:y,Fl:b,Gh:_,Gl:E,Hh:k,Hl:D}=this;for(let x=0;x<80;x++){const T=Nl(m,g,14)^Nl(m,g,18)^tp(m,g,41),O=Pl(m,g,14)^Pl(m,g,18)^np(m,g,41),C=m&y^~m&_,U=g&b^~g&E,z=lae(D,O,U,kae[x],Cl[x]),B=cae(z,k,T,C,Oae[x],xl[x]),q=z|0,W=Nl(r,i,28)^tp(r,i,34)^tp(r,i,39),K=Pl(r,i,28)^np(r,i,34)^np(r,i,39),H=r&s^r&c^s&c,G=i&l^i&d^l&d;k=_|0,D=E|0,_=y|0,E=b|0,y=m|0,b=g|0,{h:m,l:g}=Js(f|0,p|0,B|0,q|0),f=c|0,p=d|0,c=s|0,d=l|0,s=r|0,l=i|0;const A=V2(q,K,G);r=K2(A,B,W,H),i=A|0}({h:r,l:i}=Js(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l}=Js(this.Bh|0,this.Bl|0,s|0,l|0),{h:c,l:d}=Js(this.Ch|0,this.Cl|0,c|0,d|0),{h:f,l:p}=Js(this.Dh|0,this.Dl|0,f|0,p|0),{h:m,l:g}=Js(this.Eh|0,this.El|0,m|0,g|0),{h:y,l:b}=Js(this.Fh|0,this.Fl|0,y|0,b|0),{h:_,l:E}=Js(this.Gh|0,this.Gl|0,_|0,E|0),{h:k,l:D}=Js(this.Hh|0,this.Hl|0,k|0,D|0),this.set(r,i,s,l,c,d,f,p,m,g,y,b,_,E,k,D)}roundClean(){Ls(xl,Cl)}destroy(){Ls(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class Rae extends Y2{constructor(){super(48),this.Ah=Qr[0]|0,this.Al=Qr[1]|0,this.Bh=Qr[2]|0,this.Bl=Qr[3]|0,this.Ch=Qr[4]|0,this.Cl=Qr[5]|0,this.Dh=Qr[6]|0,this.Dl=Qr[7]|0,this.Eh=Qr[8]|0,this.El=Qr[9]|0,this.Fh=Qr[10]|0,this.Fl=Qr[11]|0,this.Gh=Qr[12]|0,this.Gl=Qr[13]|0,this.Hh=Qr[14]|0,this.Hl=Qr[15]|0}}const ti=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Dae extends Y2{constructor(){super(32),this.Ah=ti[0]|0,this.Al=ti[1]|0,this.Bh=ti[2]|0,this.Bl=ti[3]|0,this.Ch=ti[4]|0,this.Cl=ti[5]|0,this.Dh=ti[6]|0,this.Dl=ti[7]|0,this.Eh=ti[8]|0,this.El=ti[9]|0,this.Fh=ti[10]|0,this.Fl=ti[11]|0,this.Gh=ti[12]|0,this.Gl=ti[13]|0,this.Hh=ti[14]|0,this.Hl=ti[15]|0}}const Lb=cm(()=>new Iae),Nae=cm(()=>new Y2),Pae=cm(()=>new Rae),Uae=cm(()=>new Dae),$ae=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),pr=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Be=new Uint32Array(32);function Il(t,e,n,r,i,s){const l=i[s],c=i[s+1];let d=Be[2*t],f=Be[2*t+1],p=Be[2*e],m=Be[2*e+1],g=Be[2*n],y=Be[2*n+1],b=Be[2*r],_=Be[2*r+1],E=V2(d,p,l);f=K2(E,f,m,c),d=E|0,{Dh:_,Dl:b}={Dh:_^f,Dl:b^d},{Dh:_,Dl:b}={Dh:eae(_,b),Dl:tae(_)},{h:y,l:g}=Js(y,g,_,b),{Bh:m,Bl:p}={Bh:m^y,Bl:p^g},{Bh:m,Bl:p}={Bh:Nl(m,p,24),Bl:Pl(m,p,24)},Be[2*t]=d,Be[2*t+1]=f,Be[2*e]=p,Be[2*e+1]=m,Be[2*n]=g,Be[2*n+1]=y,Be[2*r]=b,Be[2*r+1]=_}function Ol(t,e,n,r,i,s){const l=i[s],c=i[s+1];let d=Be[2*t],f=Be[2*t+1],p=Be[2*e],m=Be[2*e+1],g=Be[2*n],y=Be[2*n+1],b=Be[2*r],_=Be[2*r+1],E=V2(d,p,l);f=K2(E,f,m,c),d=E|0,{Dh:_,Dl:b}={Dh:_^f,Dl:b^d},{Dh:_,Dl:b}={Dh:Nl(_,b,16),Dl:Pl(_,b,16)},{h:y,l:g}=Js(y,g,_,b),{Bh:m,Bl:p}={Bh:m^y,Bl:p^g},{Bh:m,Bl:p}={Bh:tp(m,p,63),Bl:np(m,p,63)},Be[2*t]=d,Be[2*t+1]=f,Be[2*e]=p,Be[2*e+1]=m,Be[2*n]=g,Be[2*n+1]=y,Be[2*r]=b,Be[2*r+1]=_}function Mae(t,e={},n,r,i){if(zo(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:l,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(l!==void 0&&l.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class Lae extends Mb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,zo(e),zo(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Up(this.buffer)}update(e){nc(this),e=aa(e),la(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,l=e.byteOffset,c=e.buffer;for(let d=0;d<s;){this.pos===n&&(Ul(i),this.compress(i,0,!1),Ul(i),this.pos=0);const f=Math.min(n-this.pos,s-d),p=l+d;if(f===n&&!(p%4)&&d+f<s){const m=new Uint32Array(c,p,Math.floor((s-d)/4));Ul(m);for(let g=0;d+n<s;g+=i.length,d+=n)this.length+=n,this.compress(m,g,!1);Ul(m);continue}r.set(e.subarray(d,d+f),this.pos),this.pos+=f,this.length+=f,d+=f}return this}digestInto(e){nc(this),G2(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ls(this.buffer.subarray(n)),Ul(r),this.compress(r,0,!0),Ul(r);const i=Up(e);this.get().forEach((s,l)=>i[l]=yo(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:l,pos:c}=this;return e||(e=new this.constructor({dkLen:l})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=c,e.outputLen=l,e}clone(){return this._cloneInto()}}class Bae extends Lae{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=pr[0]|0,this.v0h=pr[1]|0,this.v1l=pr[2]|0,this.v1h=pr[3]|0,this.v2l=pr[4]|0,this.v2h=pr[5]|0,this.v3l=pr[6]|0,this.v3h=pr[7]|0,this.v4l=pr[8]|0,this.v4h=pr[9]|0,this.v5l=pr[10]|0,this.v5h=pr[11]|0,this.v6l=pr[12]|0,this.v6h=pr[13]|0,this.v7l=pr[14]|0,this.v7h=pr[15]|0,Mae(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,l=0;if(r!==void 0&&(r=aa(r),l=r.length),this.v0l^=this.outputLen|l<<8|65536|1<<24,s!==void 0){s=aa(s);const c=Up(s);this.v4l^=yo(c[0]),this.v4h^=yo(c[1]),this.v5l^=yo(c[2]),this.v5h^=yo(c[3])}if(i!==void 0){i=aa(i);const c=Up(i);this.v6l^=yo(c[0]),this.v6h^=yo(c[1]),this.v7l^=yo(c[2]),this.v7h^=yo(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:l,v3l:c,v3h:d,v4l:f,v4h:p,v5l:m,v5h:g,v6l:y,v6h:b,v7l:_,v7h:E}=this;return[e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E]}set(e,n,r,i,s,l,c,d,f,p,m,g,y,b,_,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=l|0,this.v3l=c|0,this.v3h=d|0,this.v4l=f|0,this.v4h=p|0,this.v5l=m|0,this.v5h=g|0,this.v6l=y|0,this.v6h=b|0,this.v7l=_|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((d,f)=>Be[f]=d),Be.set(pr,16);let{h:i,l:s}=s$(BigInt(this.length));Be[24]=pr[8]^s,Be[25]=pr[9]^i,r&&(Be[28]=~Be[28],Be[29]=~Be[29]);let l=0;const c=$ae;for(let d=0;d<12;d++)Il(0,4,8,12,e,n+2*c[l++]),Ol(0,4,8,12,e,n+2*c[l++]),Il(1,5,9,13,e,n+2*c[l++]),Ol(1,5,9,13,e,n+2*c[l++]),Il(2,6,10,14,e,n+2*c[l++]),Ol(2,6,10,14,e,n+2*c[l++]),Il(3,7,11,15,e,n+2*c[l++]),Ol(3,7,11,15,e,n+2*c[l++]),Il(0,5,10,15,e,n+2*c[l++]),Ol(0,5,10,15,e,n+2*c[l++]),Il(1,6,11,12,e,n+2*c[l++]),Ol(1,6,11,12,e,n+2*c[l++]),Il(2,7,8,13,e,n+2*c[l++]),Ol(2,7,8,13,e,n+2*c[l++]),Il(3,4,9,14,e,n+2*c[l++]),Ol(3,4,9,14,e,n+2*c[l++]);this.v0l^=Be[0]^Be[16],this.v0h^=Be[1]^Be[17],this.v1l^=Be[2]^Be[18],this.v1h^=Be[3]^Be[19],this.v2l^=Be[4]^Be[20],this.v2h^=Be[5]^Be[21],this.v3l^=Be[6]^Be[22],this.v3h^=Be[7]^Be[23],this.v4l^=Be[8]^Be[24],this.v4h^=Be[9]^Be[25],this.v5l^=Be[10]^Be[26],this.v5h^=Be[11]^Be[27],this.v6l^=Be[12]^Be[28],this.v6h^=Be[13]^Be[29],this.v7l^=Be[14]^Be[30],this.v7h^=Be[15]^Be[31],Ls(Be)}destroy(){this.destroyed=!0,Ls(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const jae=hae(t=>new Bae(t)),zae="https://rpc.walletconnect.org/v1";function w$(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Sae(n)).toString("hex")}async function Fae(t,e,n,r,i,s){switch(n.t){case"eip191":return await qae(t,e,n.s);case"eip1271":return await Wae(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function qae(t,e,n){const r=gee(n);return _ee({payload:w$(e),signature:r}).toLowerCase()===t.toLowerCase()}async function Wae(t,e,n,r,i,s){const l=Uo(r);if(!l.namespace||!l.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",f=n.substring(2),p=(f.length/2).toString(16).padStart(64,"0"),m=(e.startsWith("0x")?e:w$(e)).substring(2),g=c+m+d+p+f,y=await fetch(`${s||zae}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Hae(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:b}=await y.json();return b?b.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function Hae(){return Date.now()+Math.floor(Math.random()*1e3)}function Vae(t){const e=atob(t),n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return sm.encode(s)}function Kae(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=jae(r,{dkLen:32});return sm.encode(i)}function GR(t){const e=new Uint8Array(Lb(Gae(t)));return sm.encode(e)}function Gae(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function YR(t){const e=Buffer.from(t,"base64"),n=ate(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Xee(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),l=Uae(s);return VY.encode(l).replace(/=+$/,"")}function I1(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Yae(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(I1(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(I1(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(I1(r.length)),i.push(r);const s=Buffer.concat(i),l=Lb(s);return Buffer.from(l).toString("hex").toUpperCase()}function Zae(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var Xae=Object.defineProperty,Jae=Object.defineProperties,Qae=Object.getOwnPropertyDescriptors,ZR=Object.getOwnPropertySymbols,eoe=Object.prototype.hasOwnProperty,toe=Object.prototype.propertyIsEnumerable,XR=(t,e,n)=>e in t?Xae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,noe=(t,e)=>{for(var n in e||(e={}))eoe.call(e,n)&&XR(t,n,e[n]);if(ZR)for(var n of ZR(e))toe.call(e,n)&&XR(t,n,e[n]);return t},roe=(t,e)=>Jae(t,Qae(e));const ioe="did:pkh:",Z2=t=>t?.split(":"),soe=t=>{const e=t&&Z2(t);if(e)return t.includes(ioe)?e[3]:e[1]},RS=t=>{const e=t&&Z2(t);if(e)return e[2]+":"+e[3]},kw=t=>{const e=t&&Z2(t);if(e)return e.pop()};async function JR(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=b$(i,i.iss),l=kw(i.iss);return await Fae(l,s,r,RS(i.iss),n)}const b$=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=kw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,l=`Version: ${t.version}`,c=`Chain ID: ${soe(e)}`,d=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,m=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(_=>`
- ${_}`).join("")}`:void 0,b=Ly(t.resources);if(b){const _=$p(b);i=poe(i,_)}return[n,r,"",i,"",s,l,c,d,f,p,m,g,y].filter(_=>_!=null).join(`
`)};function aoe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function ooe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ou(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(l=>{if(typeof l!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${l}`)})})})}function loe(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:coe(e,n,r)}}}function coe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function v$(t){return ou(t),`urn:recap:${aoe(t).replace(/=/g,"")}`}function $p(t){const e=ooe(t.replace("urn:recap:",""));return ou(e),e}function uoe(t,e,n){const r=loe(t,e,n);return v$(r)}function doe(t){return t&&t.includes("urn:recap:")}function hoe(t,e){const n=$p(t),r=$p(e),i=foe(n,r);return v$(i)}function foe(t,e){ou(t),ou(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,l;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((l=e.att)==null?void 0:l[i])||{})).sort((c,d)=>c.localeCompare(d)).forEach(c=>{var d,f;r.att[i]=roe(noe({},r.att[i]),{[c]:((d=t.att[i])==null?void 0:d[c])||((f=e.att[i])==null?void 0:f[c])})})}),r}function poe(t="",e){ou(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(c=>{const d=Object.keys(e.att[c]).map(m=>({ability:m.split("/")[0],action:m.split("/")[1]}));d.sort((m,g)=>m.action.localeCompare(g.action));const f={};d.forEach(m=>{f[m.ability]||(f[m.ability]=[]),f[m.ability].push(m.action)});const p=Object.keys(f).map(m=>(i++,`(${i}) '${m}': '${f[m].join("', '")}' for '${c}'.`));r.push(p.join(", ").replace(".,","."))});const s=r.join(" "),l=`${n}${s}`;return`${t?t+" ":""}${l}`}function QR(t){var e;const n=$p(t);ou(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function eD(t){const e=$p(t);ou(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Ly(t){if(!t)return;const e=t?.[t.length-1];return doe(e)?e:void 0}function _$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function DS(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function O1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ni(t,...e){if(!_$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function moe(t,e){Ni(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Jl(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function nh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function goe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const yoe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function woe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function NS(t){if(typeof t=="string")t=woe(t);else if(_$(t))t=PS(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function boe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function voe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const _oe=(t,e)=>{function n(r,...i){if(Ni(r),!yoe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?Ni(f):Ni(f,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ni(i[1]);const l=e(r,...i),c=(f,p)=>{if(p!==void 0){if(f!==2)throw new Error("cipher output not supported");Ni(p)}};let d=!1;return{encrypt(f,p){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,Ni(f),c(l.encrypt.length,p),l.encrypt(f,p)},decrypt(f,p){if(Ni(f),s&&f.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(l.decrypt.length,p),l.decrypt(f,p)}}}return Object.assign(n,t),n};function nD(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Soe(e))throw new Error("invalid output, must be aligned");return e}function rD(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),l=Number(n>>i&s),c=Number(n&s);t.setUint32(e+4,l,r),t.setUint32(e+0,c,r)}function Eoe(t,e,n){DS(n);const r=new Uint8Array(16),i=goe(r);return rD(i,0,BigInt(e),n),rD(i,8,BigInt(t),n),r}function Soe(t){return t.byteOffset%4===0}function PS(t){return Uint8Array.from(t)}const E$=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Aoe=E$("expand 16-byte k"),Toe=E$("expand 32-byte k"),xoe=Jl(Aoe),Coe=Jl(Toe);function Ht(t,e){return t<<e|t>>>32-e}function US(t){return t.byteOffset%4===0}const oy=64,Ioe=16,S$=2**32-1,iD=new Uint32Array;function Ooe(t,e,n,r,i,s,l,c){const d=i.length,f=new Uint8Array(oy),p=Jl(f),m=US(i)&&US(s),g=m?Jl(i):iD,y=m?Jl(s):iD;for(let b=0;b<d;l++){if(t(e,n,r,p,l,c),l>=S$)throw new Error("arx: counter overflow");const _=Math.min(oy,d-b);if(m&&_===oy){const E=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let k=0,D;k<Ioe;k++)D=E+k,y[D]=g[D]^p[k];b+=oy;continue}for(let E=0,k;E<_;E++)k=b+E,s[k]=i[k]^f[E];b+=_}}function koe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:l}=boe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return O1(i),O1(l),DS(s),DS(n),(c,d,f,p,m=0)=>{Ni(c),Ni(d),Ni(f);const g=f.length;if(p===void 0&&(p=new Uint8Array(g)),Ni(p),O1(m),m<0||m>=S$)throw new Error("arx: counter overflow");if(p.length<g)throw new Error(`arx: output (${p.length}) is shorter than data (${g})`);const y=[];let b=c.length,_,E;if(b===32)y.push(_=PS(c)),E=Coe;else if(b===16&&n)_=new Uint8Array(32),_.set(c),_.set(c,16),E=xoe,y.push(_);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);US(d)||y.push(d=PS(d));const k=Jl(_);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,k,Jl(d.subarray(0,16)),k),d=d.subarray(16)}const D=16-i;if(D!==d.length)throw new Error(`arx: nonce must be ${D} or 16 bytes`);if(D!==12){const T=new Uint8Array(12);T.set(d,s?0:12-d.length),d=T,y.push(d)}const x=Jl(d);return Ooe(t,E,k,x,f,p,m,l),nh(...y),p}}const jr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Roe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=NS(e),Ni(e,32);const n=jr(e,0),r=jr(e,2),i=jr(e,4),s=jr(e,6),l=jr(e,8),c=jr(e,10),d=jr(e,12),f=jr(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|c<<2)&8191,this.r[7]=(c>>>11|d<<5)&8065,this.r[8]=(d>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let p=0;p<8;p++)this.pad[p]=jr(e,16+2*p)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:l}=this,c=l[0],d=l[1],f=l[2],p=l[3],m=l[4],g=l[5],y=l[6],b=l[7],_=l[8],E=l[9],k=jr(e,n+0),D=jr(e,n+2),x=jr(e,n+4),T=jr(e,n+6),O=jr(e,n+8),C=jr(e,n+10),U=jr(e,n+12),z=jr(e,n+14);let B=s[0]+(k&8191),q=s[1]+((k>>>13|D<<3)&8191),W=s[2]+((D>>>10|x<<6)&8191),K=s[3]+((x>>>7|T<<9)&8191),H=s[4]+((T>>>4|O<<12)&8191),G=s[5]+(O>>>1&8191),A=s[6]+((O>>>14|C<<2)&8191),S=s[7]+((C>>>11|U<<5)&8191),P=s[8]+((U>>>8|z<<8)&8191),$=s[9]+(z>>>5|i),R=0,L=R+B*c+q*(5*E)+W*(5*_)+K*(5*b)+H*(5*y);R=L>>>13,L&=8191,L+=G*(5*g)+A*(5*m)+S*(5*p)+P*(5*f)+$*(5*d),R+=L>>>13,L&=8191;let Y=R+B*d+q*c+W*(5*E)+K*(5*_)+H*(5*b);R=Y>>>13,Y&=8191,Y+=G*(5*y)+A*(5*g)+S*(5*m)+P*(5*p)+$*(5*f),R+=Y>>>13,Y&=8191;let Z=R+B*f+q*d+W*c+K*(5*E)+H*(5*_);R=Z>>>13,Z&=8191,Z+=G*(5*b)+A*(5*y)+S*(5*g)+P*(5*m)+$*(5*p),R+=Z>>>13,Z&=8191;let ie=R+B*p+q*f+W*d+K*c+H*(5*E);R=ie>>>13,ie&=8191,ie+=G*(5*_)+A*(5*b)+S*(5*y)+P*(5*g)+$*(5*m),R+=ie>>>13,ie&=8191;let ee=R+B*m+q*p+W*f+K*d+H*c;R=ee>>>13,ee&=8191,ee+=G*(5*E)+A*(5*_)+S*(5*b)+P*(5*y)+$*(5*g),R+=ee>>>13,ee&=8191;let se=R+B*g+q*m+W*p+K*f+H*d;R=se>>>13,se&=8191,se+=G*c+A*(5*E)+S*(5*_)+P*(5*b)+$*(5*y),R+=se>>>13,se&=8191;let Se=R+B*y+q*g+W*m+K*p+H*f;R=Se>>>13,Se&=8191,Se+=G*d+A*c+S*(5*E)+P*(5*_)+$*(5*b),R+=Se>>>13,Se&=8191;let Ie=R+B*b+q*y+W*g+K*m+H*p;R=Ie>>>13,Ie&=8191,Ie+=G*f+A*d+S*c+P*(5*E)+$*(5*_),R+=Ie>>>13,Ie&=8191;let $e=R+B*_+q*b+W*y+K*g+H*m;R=$e>>>13,$e&=8191,$e+=G*p+A*f+S*d+P*c+$*(5*E),R+=$e>>>13,$e&=8191;let xe=R+B*E+q*_+W*b+K*y+H*g;R=xe>>>13,xe&=8191,xe+=G*m+A*p+S*f+P*d+$*c,R+=xe>>>13,xe&=8191,R=(R<<2)+R|0,R=R+L|0,L=R&8191,R=R>>>13,Y+=R,s[0]=L,s[1]=Y,s[2]=Z,s[3]=ie,s[4]=ee,s[5]=se,s[6]=Se,s[7]=Ie,s[8]=$e,s[9]=xe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(i^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let l=e[0]+n[0];e[0]=l&65535;for(let c=1;c<8;c++)l=(e[c]+n[c]|0)+(l>>>16)|0,e[c]=l&65535;nh(r)}update(e){tD(this),e=NS(e),Ni(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const l=Math.min(r-this.pos,i-s);if(l===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){nh(this.h,this.r,this.buffer,this.pad)}digestInto(e){tD(this),moe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let l=0;l<8;l++)e[s++]=r[l]>>>0,e[s++]=r[l]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Doe(t){const e=(r,i)=>t(i).update(NS(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Noe=Doe(t=>new Roe(t));function Poe(t,e,n,r,i,s=20){let l=t[0],c=t[1],d=t[2],f=t[3],p=e[0],m=e[1],g=e[2],y=e[3],b=e[4],_=e[5],E=e[6],k=e[7],D=i,x=n[0],T=n[1],O=n[2],C=l,U=c,z=d,B=f,q=p,W=m,K=g,H=y,G=b,A=_,S=E,P=k,$=D,R=x,L=T,Y=O;for(let ie=0;ie<s;ie+=2)C=C+q|0,$=Ht($^C,16),G=G+$|0,q=Ht(q^G,12),C=C+q|0,$=Ht($^C,8),G=G+$|0,q=Ht(q^G,7),U=U+W|0,R=Ht(R^U,16),A=A+R|0,W=Ht(W^A,12),U=U+W|0,R=Ht(R^U,8),A=A+R|0,W=Ht(W^A,7),z=z+K|0,L=Ht(L^z,16),S=S+L|0,K=Ht(K^S,12),z=z+K|0,L=Ht(L^z,8),S=S+L|0,K=Ht(K^S,7),B=B+H|0,Y=Ht(Y^B,16),P=P+Y|0,H=Ht(H^P,12),B=B+H|0,Y=Ht(Y^B,8),P=P+Y|0,H=Ht(H^P,7),C=C+W|0,Y=Ht(Y^C,16),S=S+Y|0,W=Ht(W^S,12),C=C+W|0,Y=Ht(Y^C,8),S=S+Y|0,W=Ht(W^S,7),U=U+K|0,$=Ht($^U,16),P=P+$|0,K=Ht(K^P,12),U=U+K|0,$=Ht($^U,8),P=P+$|0,K=Ht(K^P,7),z=z+H|0,R=Ht(R^z,16),G=G+R|0,H=Ht(H^G,12),z=z+H|0,R=Ht(R^z,8),G=G+R|0,H=Ht(H^G,7),B=B+q|0,L=Ht(L^B,16),A=A+L|0,q=Ht(q^A,12),B=B+q|0,L=Ht(L^B,8),A=A+L|0,q=Ht(q^A,7);let Z=0;r[Z++]=l+C|0,r[Z++]=c+U|0,r[Z++]=d+z|0,r[Z++]=f+B|0,r[Z++]=p+q|0,r[Z++]=m+W|0,r[Z++]=g+K|0,r[Z++]=y+H|0,r[Z++]=b+G|0,r[Z++]=_+A|0,r[Z++]=E+S|0,r[Z++]=k+P|0,r[Z++]=D+$|0,r[Z++]=x+R|0,r[Z++]=T+L|0,r[Z++]=O+Y|0}const Uoe=koe(Poe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),$oe=new Uint8Array(16),sD=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update($oe.subarray(n))},Moe=new Uint8Array(32);function aD(t,e,n,r,i){const s=t(e,n,Moe),l=Noe.create(s);i&&sD(l,i),sD(l,r);const c=Eoe(r.length,i?i.length:0,!0);l.update(c);const d=l.digest();return nh(s,c),d}const Loe=t=>(e,n,r)=>({encrypt(i,s){const l=i.length;s=nD(l+16,s,!1),s.set(i);const c=s.subarray(0,-16);t(e,n,c,c,1);const d=aD(t,e,n,c,r);return s.set(d,l),nh(d),s},decrypt(i,s){s=nD(i.length-16,s,!1);const l=i.subarray(0,-16),c=i.subarray(-16),d=aD(t,e,n,l,r);if(!voe(c,d))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),nh(d),s}}),A$=_oe({blockSize:64,nonceLength:12,tagLength:16},Loe(Uoe));let T$=class extends Mb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$b(e);const r=aa(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=e.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),Ls(s)}update(e){return nc(this),this.iHash.update(e),this}digestInto(e){nc(this),la(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Bb=(t,e,n)=>new T$(t,e).update(n).digest();Bb.create=(t,e)=>new T$(t,e);function Boe(t,e,n){return $b(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Bb(t,aa(n),aa(e))}const k1=Uint8Array.from([0]),oD=Uint8Array.of();function joe(t,e,n,r=32){$b(t),zo(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=oD);const l=new Uint8Array(s*i),c=Bb.create(t,e),d=c._cloneInto(),f=new Uint8Array(c.outputLen);for(let p=0;p<s;p++)k1[0]=p+1,d.update(p===0?oD:f).update(n).update(k1).digestInto(f),l.set(f,i*p),c._cloneInto(d);return c.destroy(),d.destroy(),Ls(f,k1),l.slice(0,r)}const zoe=(t,e,n,r,i)=>joe(t,Boe(t,e,n),r,i),jb=Lb,X2=BigInt(0),$S=BigInt(1);function Rw(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Jc(t,e,n=""){const r=Ub(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const l=n&&`"${n}" `,c=s?` of length ${e}`:"",d=r?`length=${i}`:`type=${typeof t}`;throw new Error(l+"expected Uint8Array"+c+", got "+d)}return t}function ly(t){const e=t.toString(16);return e.length&1?"0"+e:e}function x$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?X2:BigInt("0x"+t)}function zb(t){return x$(Fd(t))}function Dw(t){return la(t),x$(Fd(Uint8Array.from(t).reverse()))}function J2(t,e){return Ow(t.toString(16).padStart(e*2,"0"))}function Q2(t,e){return J2(t,e).reverse()}function ii(t,e,n){let r;if(typeof e=="string")try{r=Ow(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Ub(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const R1=t=>typeof t=="bigint"&&X2<=t;function Foe(t,e,n){return R1(t)&&R1(e)&&R1(n)&&e<=t&&t<n}function MS(t,e,n,r){if(!Foe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function C$(t){let e;for(e=0;t>X2;t>>=$S,e+=1);return e}const um=t=>($S<<BigInt(t))-$S;function qoe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=g=>new Uint8Array(g),i=g=>Uint8Array.of(g);let s=r(t),l=r(t),c=0;const d=()=>{s.fill(1),l.fill(0),c=0},f=(...g)=>n(l,s,...g),p=(g=r(0))=>{l=f(i(0),g),s=f(),g.length!==0&&(l=f(i(1),g),s=f())},m=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){s=f();const b=s.slice();y.push(b),g+=s.length}return ql(...y)};return(g,y)=>{d(),p(g);let b;for(;!(b=y(m()));)p();return d(),b}}function Fb(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,l){const c=t[i];if(l&&c===void 0)return;const d=typeof c;if(d!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${d}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function lD(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const $i=BigInt(0),pi=BigInt(1),Qc=BigInt(2),I$=BigInt(3),O$=BigInt(4),k$=BigInt(5),Woe=BigInt(7),R$=BigInt(8),Hoe=BigInt(9),D$=BigInt(16);function ss(t,e){const n=t%e;return n>=$i?n:e+n}function Xs(t,e,n){let r=t;for(;e-- >$i;)r*=r,r%=n;return r}function cD(t,e){if(t===$i)throw new Error("invert: expected non-zero number");if(e<=$i)throw new Error("invert: expected positive modulus, got "+e);let n=ss(t,e),r=e,i=$i,s=pi;for(;n!==$i;){const l=r/n,c=r%n,d=i-s*l;r=n,n=c,i=s,s=d}if(r!==pi)throw new Error("invert: does not exist");return ss(i,e)}function eT(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function N$(t,e){const n=(t.ORDER+pi)/O$,r=t.pow(e,n);return eT(t,r,e),r}function Voe(t,e){const n=(t.ORDER-k$)/R$,r=t.mul(e,Qc),i=t.pow(r,n),s=t.mul(e,i),l=t.mul(t.mul(s,Qc),i),c=t.mul(s,t.sub(l,t.ONE));return eT(t,c,e),c}function Koe(t){const e=cc(t),n=P$(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),l=(t+Woe)/D$;return(c,d)=>{let f=c.pow(d,l),p=c.mul(f,r);const m=c.mul(f,i),g=c.mul(f,s),y=c.eql(c.sqr(p),d),b=c.eql(c.sqr(m),d);f=c.cmov(f,p,y),p=c.cmov(g,m,b);const _=c.eql(c.sqr(p),d),E=c.cmov(f,p,_);return eT(c,E,d),E}}function P$(t){if(t<I$)throw new Error("sqrt is not defined for small field");let e=t-pi,n=0;for(;e%Qc===$i;)e/=Qc,n++;let r=Qc;const i=cc(t);for(;uD(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return N$;let s=i.pow(r,e);const l=(e+pi)/Qc;return function(c,d){if(c.is0(d))return d;if(uD(c,d)!==1)throw new Error("Cannot find square root");let f=n,p=c.mul(c.ONE,s),m=c.pow(d,e),g=c.pow(d,l);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let y=1,b=c.sqr(m);for(;!c.eql(b,c.ONE);)if(y++,b=c.sqr(b),y===f)throw new Error("Cannot find square root");const _=pi<<BigInt(f-y-1),E=c.pow(p,_);f=y,p=c.sqr(E),m=c.mul(m,p),g=c.mul(g,E)}return g}}function Goe(t){return t%O$===I$?N$:t%R$===k$?Voe:t%D$===Hoe?Koe(t):P$(t)}const Yoe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zoe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Yoe.reduce((r,i)=>(r[i]="function",r),e);return Fb(t,n),t}function Xoe(t,e,n){if(n<$i)throw new Error("invalid exponent, negatives unsupported");if(n===$i)return t.ONE;if(n===pi)return e;let r=t.ONE,i=e;for(;n>$i;)n&pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pi;return r}function U$(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((l,c,d)=>t.is0(c)?l:(r[d]=l,t.mul(l,c)),t.ONE),s=t.inv(i);return e.reduceRight((l,c,d)=>t.is0(c)?l:(r[d]=t.mul(l,r[d]),t.mul(l,c)),s),r}function uD(t,e){const n=(t.ORDER-pi)/Qc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),l=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!l)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function $$(t,e){e!==void 0&&zo(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cc(t,e,n=!1,r={}){if(t<=$i)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,l=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const g=e;g.BITS&&(i=g.BITS),g.sqrt&&(s=g.sqrt),typeof g.isLE=="boolean"&&(n=g.isLE),typeof g.modFromBytes=="boolean"&&(l=g.modFromBytes),c=g.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:d,nByteLength:f}=$$(t,i);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const m=Object.freeze({ORDER:t,isLE:n,BITS:d,BYTES:f,MASK:um(d),ZERO:$i,ONE:pi,allowedLengths:c,create:g=>ss(g,t),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return $i<=g&&g<t},is0:g=>g===$i,isValidNot0:g=>!m.is0(g)&&m.isValid(g),isOdd:g=>(g&pi)===pi,neg:g=>ss(-g,t),eql:(g,y)=>g===y,sqr:g=>ss(g*g,t),add:(g,y)=>ss(g+y,t),sub:(g,y)=>ss(g-y,t),mul:(g,y)=>ss(g*y,t),pow:(g,y)=>Xoe(m,g,y),div:(g,y)=>ss(g*cD(y,t),t),sqrN:g=>g*g,addN:(g,y)=>g+y,subN:(g,y)=>g-y,mulN:(g,y)=>g*y,inv:g=>cD(g,t),sqrt:s||(g=>(p||(p=Goe(t)),p(m,g))),toBytes:g=>n?Q2(g,f):J2(g,f),fromBytes:(g,y=!0)=>{if(c){if(!c.includes(g.length)||g.length>f)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+g.length);const _=new Uint8Array(f);_.set(g,n?0:_.length-g.length),g=_}if(g.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+g.length);let b=n?Dw(g):zb(g);if(l&&(b=ss(b,t)),!y&&!m.isValid(b))throw new Error("invalid field element: outside of range 0..ORDER");return b},invertBatch:g=>U$(m,g),cmov:(g,y,b)=>b?y:g});return Object.freeze(m)}function M$(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function L$(t){const e=M$(t);return e+Math.ceil(e/2)}function Joe(t,e,n=!1){const r=t.length,i=M$(e),s=L$(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const l=n?Dw(t):zb(t),c=ss(l,e-pi)+pi;return n?Q2(c,i):J2(c,i)}const rh=BigInt(0),eu=BigInt(1);function Nw(t,e){const n=e.negate();return t?n:e}function D1(t,e){const n=U$(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function B$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function N1(t,e){B$(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=um(t),l=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:l}}function dD(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:l}=n;let c=Number(t&i),d=t>>l;c>r&&(c-=s,d+=eu);const f=e*r,p=f+Math.abs(c)-1,m=c===0,g=c<0,y=e%2!==0;return{nextN:d,offset:p,isZero:m,isNeg:g,isNegF:y,offsetF:f}}function Qoe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ele(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const P1=new WeakMap,j$=new WeakMap;function U1(t){return j$.get(t)||1}function hD(t){if(t!==rh)throw new Error("invalid wNAF")}class tle{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>rh;)n&eu&&(r=r.add(i)),i=i.double(),n>>=eu;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=N1(n,this.bits),s=[];let l=e,c=l;for(let d=0;d<r;d++){c=l,s.push(c);for(let f=1;f<i;f++)c=c.add(l),s.push(c);l=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const l=N1(e,this.bits);for(let c=0;c<l.windows;c++){const{nextN:d,offset:f,isZero:p,isNeg:m,isNegF:g,offsetF:y}=dD(r,c,l);r=d,p?s=s.add(Nw(g,n[y])):i=i.add(Nw(m,n[f]))}return hD(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=N1(e,this.bits);for(let l=0;l<s.windows&&r!==rh;l++){const{nextN:c,offset:d,isZero:f,isNeg:p}=dD(r,l,s);if(r=c,!f){const m=n[d];i=i.add(p?m.negate():m)}}return hD(r),i}getPrecomputes(e,n,r){let i=P1.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),P1.set(n,i))),i}cached(e,n,r){const i=U1(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=U1(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){B$(n,this.bits),j$.set(e,n),P1.delete(e)}hasCache(e){return U1(e)!==1}}function nle(t,e,n,r){let i=e,s=t.ZERO,l=t.ZERO;for(;n>rh||r>rh;)n&eu&&(s=s.add(i)),r&eu&&(l=l.add(i)),i=i.double(),n>>=eu,r>>=eu;return{p1:s,p2:l}}function rle(t,e,n,r){Qoe(n,t),ele(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,c=C$(BigInt(i));let d=1;c>12?d=c-3:c>4?d=c-2:c>0&&(d=2);const f=um(d),p=new Array(Number(f)+1).fill(l),m=Math.floor((e.BITS-1)/d)*d;let g=l;for(let y=m;y>=0;y-=d){p.fill(l);for(let _=0;_<s;_++){const E=r[_],k=Number(E>>BigInt(y)&f);p[k]=p[k].add(n[_])}let b=l;for(let _=p.length-1,E=l;_>0;_--)E=E.add(p[_]),b=b.add(E);if(g=g.add(b),y!==0)for(let _=0;_<d;_++)g=g.double()}return g}function fD(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Zoe(e),e}else return cc(t,{isLE:n})}function ile(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const d=e[c];if(!(typeof d=="bigint"&&d>rh))throw new Error(`CURVE.${c} must be positive bigint`)}const i=fD(e.p,n.Fp,r),s=fD(e.n,n.Fn,r),l=["Gx","Gy","a","b"];for(const c of l)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),u$("HashToScalar-");const Df=BigInt(0),vd=BigInt(1),cy=BigInt(2);function sle(t){return Fb(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function ale(t){const e=sle(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:l}=e,c=r==="x25519";if(!c&&r!=="x448")throw new Error("invalid type");const d=l||Eu,f=c?255:448,p=c?32:56,m=BigInt(c?9:5),g=BigInt(c?121665:39081),y=c?cy**BigInt(254):cy**BigInt(447),b=c?BigInt(8)*cy**BigInt(251)-vd:BigInt(4)*cy**BigInt(445)-vd,_=y+b+vd,E=K=>ss(K,n),k=D(m);function D(K){return Q2(E(K),p)}function x(K){const H=ii("u coordinate",K,p);return c&&(H[31]&=127),E(Dw(H))}function T(K){return Dw(i(ii("scalar",K,p)))}function O(K,H){const G=z(x(H),T(K));if(G===Df)throw new Error("invalid private or public key received");return D(G)}function C(K){return O(K,k)}function U(K,H,G){const A=E(K*(H-G));return H=E(H-A),G=E(G+A),{x_2:H,x_3:G}}function z(K,H){MS("u",K,Df,n),MS("scalar",H,y,_);const G=H,A=K;let S=vd,P=Df,$=K,R=vd,L=Df;for(let Z=BigInt(f-1);Z>=Df;Z--){const ie=G>>Z&vd;L^=ie,{x_2:S,x_3:$}=U(L,S,$),{x_2:P,x_3:R}=U(L,P,R),L=ie;const ee=S+P,se=E(ee*ee),Se=S-P,Ie=E(Se*Se),$e=se-Ie,xe=$+R,te=$-R,Ve=E(te*ee),rt=E(xe*Se),Le=Ve+rt,st=Ve-rt;$=E(Le*Le),R=E(A*E(st*st)),S=E(se*Ie),P=E($e*(se+E(g*$e)))}({x_2:S,x_3:$}=U(L,S,$)),{x_2:P,x_3:R}=U(L,P,R);const Y=s(P);return E(S*Y)}const B={secretKey:p,publicKey:p,seed:p},q=(K=d(p))=>(la(K,B.seed),K);function W(K){const H=q(K);return{secretKey:H,publicKey:C(H)}}return{keygen:W,getSharedSecret:(K,H)=>O(K,H),getPublicKey:K=>C(K),scalarMult:O,scalarMultBase:C,utils:{randomSecretKey:q,randomPrivateKey:q},GuBytes:k.slice(),lengths:B}}const ole=BigInt(1),pD=BigInt(2),lle=BigInt(3),cle=BigInt(5);BigInt(8);const z$=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ule={p:z$,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function dle(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=z$,l=t*t%s*t%s,c=Xs(l,pD,s)*l%s,d=Xs(c,ole,s)*t%s,f=Xs(d,cle,s)*d%s,p=Xs(f,e,s)*f%s,m=Xs(p,n,s)*p%s,g=Xs(m,r,s)*m%s,y=Xs(g,i,s)*g%s,b=Xs(y,i,s)*g%s,_=Xs(b,e,s)*f%s;return{pow_p_5_8:Xs(_,pD,s)*t%s,b2:l}}function hle(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const fle=cc(ule.p,{isLE:!0}),LS=(()=>{const t=fle.ORDER;return ale({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=dle(e);return ss(Xs(n,lle,t)*r,t)},adjustScalarBytes:hle})})(),mD=(t,e)=>(t+(t>=0?e:-e)/F$)/e;function ple(t,e,n){const[[r,i],[s,l]]=e,c=mD(l*t,n),d=mD(-i*t,n);let f=t-c*r-d*s,p=-c*i-d*l;const m=f<Do,g=p<Do;m&&(f=-f),g&&(p=-p);const y=um(Math.ceil(C$(n)/2))+qd;if(f<Do||f>=y||p<Do||p>=y)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:m,k1:f,k2neg:g,k2:p}}function BS(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function $1(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Rw(n.lowS,"lowS"),Rw(n.prehash,"prehash"),n.format!==void 0&&BS(n.format),n}class mle extends Error{constructor(e=""){super(e)}}const xo={Err:mle,_tlv:{encode:(t,e)=>{const{Err:n}=xo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ly(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?ly(i.length/2|128):"";return ly(t)+s+i+e},decode(t,e){const{Err:n}=xo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let l=0;if(!s)l=i;else{const d=i&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+d);if(f.length!==d)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of f)l=l<<8|p;if(r+=d,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=xo;if(t<Do)throw new e("integer: negative integers are not allowed");let n=ly(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=xo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zb(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=xo,i=ii("signature",t),{v:s,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:d}=r.decode(2,s),{v:f,l:p}=r.decode(2,d);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=xo,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Do=BigInt(0),qd=BigInt(1),F$=BigInt(2),uy=BigInt(3),gle=BigInt(4);function Nd(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=ii("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function yle(t,e={}){const n=ile("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:l,n:c}=s;Fb(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=e;if(d&&(!r.is0(s.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=W$(r,i);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(K,H,G){const{x:A,y:S}=H.toAffine(),P=r.toBytes(A);if(Rw(G,"isCompressed"),G){p();const $=!r.isOdd(S);return ql(q$($),P)}else return ql(Uint8Array.of(4),P,r.toBytes(S))}function g(K){Jc(K,void 0,"Point");const{publicKey:H,publicKeyUncompressed:G}=f,A=K.length,S=K[0],P=K.subarray(1);if(A===H&&(S===2||S===3)){const $=r.fromBytes(P);if(!r.isValid($))throw new Error("bad point: is not on curve, wrong x");const R=_($);let L;try{L=r.sqrt(R)}catch(Z){const ie=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}p();const Y=r.isOdd(L);return(S&1)===1!==Y&&(L=r.neg(L)),{x:$,y:L}}else if(A===G&&S===4){const $=r.BYTES,R=r.fromBytes(P.subarray(0,$)),L=r.fromBytes(P.subarray($,$*2));if(!E(R,L))throw new Error("bad point: is not on curve");return{x:R,y:L}}else throw new Error(`bad point: got length ${A}, expected compressed=${H} or uncompressed=${G}`)}const y=e.toBytes||m,b=e.fromBytes||g;function _(K){const H=r.sqr(K),G=r.mul(H,K);return r.add(r.add(G,r.mul(K,s.a)),s.b)}function E(K,H){const G=r.sqr(H),A=_(K);return r.eql(G,A)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const k=r.mul(r.pow(s.a,uy),gle),D=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(k,D)))throw new Error("bad curve params: a or b");function x(K,H,G=!1){if(!r.isValid(H)||G&&r.is0(H))throw new Error(`bad point coordinate ${K}`);return H}function T(K){if(!(K instanceof B))throw new Error("ProjectivePoint expected")}function O(K){if(!d||!d.basises)throw new Error("no endo");return ple(K,d.basises,i.ORDER)}const C=lD((K,H)=>{const{X:G,Y:A,Z:S}=K;if(r.eql(S,r.ONE))return{x:G,y:A};const P=K.is0();H==null&&(H=P?r.ONE:r.inv(S));const $=r.mul(G,H),R=r.mul(A,H),L=r.mul(S,H);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(L,r.ONE))throw new Error("invZ was invalid");return{x:$,y:R}}),U=lD(K=>{if(K.is0()){if(e.allowInfinityPoint&&!r.is0(K.Y))return;throw new Error("bad point: ZERO")}const{x:H,y:G}=K.toAffine();if(!r.isValid(H)||!r.isValid(G))throw new Error("bad point: x or y not field elements");if(!E(H,G))throw new Error("bad point: equation left != right");if(!K.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(K,H,G,A,S){return G=new B(r.mul(G.X,K),G.Y,G.Z),H=Nw(A,H),G=Nw(S,G),H.add(G)}class B{constructor(H,G,A){this.X=x("x",H),this.Y=x("y",G,!0),this.Z=x("z",A),Object.freeze(this)}static CURVE(){return s}static fromAffine(H){const{x:G,y:A}=H||{};if(!H||!r.isValid(G)||!r.isValid(A))throw new Error("invalid affine point");if(H instanceof B)throw new Error("projective point not allowed");return r.is0(G)&&r.is0(A)?B.ZERO:new B(G,A,r.ONE)}static fromBytes(H){const G=B.fromAffine(b(Jc(H,void 0,"point")));return G.assertValidity(),G}static fromHex(H){return B.fromBytes(ii("pointHex",H))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(H=8,G=!0){return W.createCache(this,H),G||this.multiply(uy),this}assertValidity(){U(this)}hasEvenY(){const{y:H}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(H)}equals(H){T(H);const{X:G,Y:A,Z:S}=this,{X:P,Y:$,Z:R}=H,L=r.eql(r.mul(G,R),r.mul(P,S)),Y=r.eql(r.mul(A,R),r.mul($,S));return L&&Y}negate(){return new B(this.X,r.neg(this.Y),this.Z)}double(){const{a:H,b:G}=s,A=r.mul(G,uy),{X:S,Y:P,Z:$}=this;let R=r.ZERO,L=r.ZERO,Y=r.ZERO,Z=r.mul(S,S),ie=r.mul(P,P),ee=r.mul($,$),se=r.mul(S,P);return se=r.add(se,se),Y=r.mul(S,$),Y=r.add(Y,Y),R=r.mul(H,Y),L=r.mul(A,ee),L=r.add(R,L),R=r.sub(ie,L),L=r.add(ie,L),L=r.mul(R,L),R=r.mul(se,R),Y=r.mul(A,Y),ee=r.mul(H,ee),se=r.sub(Z,ee),se=r.mul(H,se),se=r.add(se,Y),Y=r.add(Z,Z),Z=r.add(Y,Z),Z=r.add(Z,ee),Z=r.mul(Z,se),L=r.add(L,Z),ee=r.mul(P,$),ee=r.add(ee,ee),Z=r.mul(ee,se),R=r.sub(R,Z),Y=r.mul(ee,ie),Y=r.add(Y,Y),Y=r.add(Y,Y),new B(R,L,Y)}add(H){T(H);const{X:G,Y:A,Z:S}=this,{X:P,Y:$,Z:R}=H;let L=r.ZERO,Y=r.ZERO,Z=r.ZERO;const ie=s.a,ee=r.mul(s.b,uy);let se=r.mul(G,P),Se=r.mul(A,$),Ie=r.mul(S,R),$e=r.add(G,A),xe=r.add(P,$);$e=r.mul($e,xe),xe=r.add(se,Se),$e=r.sub($e,xe),xe=r.add(G,S);let te=r.add(P,R);return xe=r.mul(xe,te),te=r.add(se,Ie),xe=r.sub(xe,te),te=r.add(A,S),L=r.add($,R),te=r.mul(te,L),L=r.add(Se,Ie),te=r.sub(te,L),Z=r.mul(ie,xe),L=r.mul(ee,Ie),Z=r.add(L,Z),L=r.sub(Se,Z),Z=r.add(Se,Z),Y=r.mul(L,Z),Se=r.add(se,se),Se=r.add(Se,se),Ie=r.mul(ie,Ie),xe=r.mul(ee,xe),Se=r.add(Se,Ie),Ie=r.sub(se,Ie),Ie=r.mul(ie,Ie),xe=r.add(xe,Ie),se=r.mul(Se,xe),Y=r.add(Y,se),se=r.mul(te,xe),L=r.mul($e,L),L=r.sub(L,se),se=r.mul($e,Se),Z=r.mul(te,Z),Z=r.add(Z,se),new B(L,Y,Z)}subtract(H){return this.add(H.negate())}is0(){return this.equals(B.ZERO)}multiply(H){const{endo:G}=e;if(!i.isValidNot0(H))throw new Error("invalid scalar: out of range");let A,S;const P=$=>W.cached(this,$,R=>D1(B,R));if(G){const{k1neg:$,k1:R,k2neg:L,k2:Y}=O(H),{p:Z,f:ie}=P(R),{p:ee,f:se}=P(Y);S=ie.add(se),A=z(G.beta,Z,ee,$,L)}else{const{p:$,f:R}=P(H);A=$,S=R}return D1(B,[A,S])[0]}multiplyUnsafe(H){const{endo:G}=e,A=this;if(!i.isValid(H))throw new Error("invalid scalar: out of range");if(H===Do||A.is0())return B.ZERO;if(H===qd)return A;if(W.hasCache(this))return this.multiply(H);if(G){const{k1neg:S,k1:P,k2neg:$,k2:R}=O(H),{p1:L,p2:Y}=nle(B,A,P,R);return z(G.beta,L,Y,S,$)}else return W.unsafe(A,H)}multiplyAndAddUnsafe(H,G,A){const S=this.multiplyUnsafe(G).add(H.multiplyUnsafe(A));return S.is0()?void 0:S}toAffine(H){return C(this,H)}isTorsionFree(){const{isTorsionFree:H}=e;return l===qd?!0:H?H(B,this):W.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:H}=e;return l===qd?this:H?H(B,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(H=!0){return Rw(H,"isCompressed"),this.assertValidity(),y(B,this,H)}toHex(H=!0){return Fd(this.toBytes(H))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(H=!0){return this.toBytes(H)}_setWindowSize(H){this.precompute(H)}static normalizeZ(H){return D1(B,H)}static msm(H,G){return rle(B,i,H,G)}static fromPrivateKey(H){return B.BASE.multiply(Nd(i,H))}}B.BASE=new B(s.Gx,s.Gy,r.ONE),B.ZERO=new B(r.ZERO,r.ONE,r.ZERO),B.Fp=r,B.Fn=i;const q=i.BITS,W=new tle(B,e.endo?Math.ceil(q/2):q);return B.BASE.precompute(8),B}function q$(t){return Uint8Array.of(t?2:3)}function W$(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function wle(t,e={}){const{Fn:n}=t,r=e.randomBytes||Eu,i=Object.assign(W$(t.Fp,n),{seed:L$(n.ORDER)});function s(g){try{return!!Nd(n,g)}catch{return!1}}function l(g,y){const{publicKey:b,publicKeyUncompressed:_}=i;try{const E=g.length;return y===!0&&E!==b||y===!1&&E!==_?!1:!!t.fromBytes(g)}catch{return!1}}function c(g=r(i.seed)){return Joe(Jc(g,i.seed,"seed"),n.ORDER)}function d(g,y=!0){return t.BASE.multiply(Nd(n,g)).toBytes(y)}function f(g){const y=c(g);return{secretKey:y,publicKey:d(y)}}function p(g){if(typeof g=="bigint")return!1;if(g instanceof t)return!0;const{secretKey:y,publicKey:b,publicKeyUncompressed:_}=i;if(n.allowedLengths||y===b)return;const E=ii("key",g).length;return E===b||E===_}function m(g,y,b=!0){if(p(g)===!0)throw new Error("first arg must be private key");if(p(y)===!1)throw new Error("second arg must be public key");const _=Nd(n,g);return t.fromHex(y).multiply(_).toBytes(b)}return Object.freeze({getPublicKey:d,getSharedSecret:m,keygen:f,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:l,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:g=>Nd(n,g),precompute(g=8,y=t.BASE){return y.precompute(g,!1)}},lengths:i})}function ble(t,e,n={}){$b(e),Fb(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Eu,i=n.hmac||((G,...A)=>Bb(e,G,ql(...A))),{Fp:s,Fn:l}=t,{ORDER:c,BITS:d}=l,{keygen:f,getPublicKey:p,getSharedSecret:m,utils:g,lengths:y}=wle(t,n),b={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},_="compact";function E(G){const A=c>>qd;return G>A}function k(G,A){if(!l.isValidNot0(A))throw new Error(`invalid signature ${G}: out of range 1..Point.Fn.ORDER`);return A}function D(G,A){BS(A);const S=y.signature,P=A==="compact"?S:A==="recovered"?S+1:void 0;return Jc(G,P,`${A} signature`)}class x{constructor(A,S,P){this.r=k("r",A),this.s=k("s",S),P!=null&&(this.recovery=P),Object.freeze(this)}static fromBytes(A,S=_){D(A,S);let P;if(S==="der"){const{r:Y,s:Z}=xo.toSig(Jc(A));return new x(Y,Z)}S==="recovered"&&(P=A[0],S="compact",A=A.subarray(1));const $=l.BYTES,R=A.subarray(0,$),L=A.subarray($,$*2);return new x(l.fromBytes(R),l.fromBytes(L),P)}static fromHex(A,S){return this.fromBytes(Ow(A),S)}addRecoveryBit(A){return new x(this.r,this.s,A)}recoverPublicKey(A){const S=s.ORDER,{r:P,s:$,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(c*F$<S&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=R===2||R===3?P+c:P;if(!s.isValid(L))throw new Error("recovery id 2 or 3 invalid");const Y=s.toBytes(L),Z=t.fromBytes(ql(q$((R&1)===0),Y)),ie=l.inv(L),ee=O(ii("msgHash",A)),se=l.create(-ee*ie),Se=l.create($*ie),Ie=t.BASE.multiplyUnsafe(se).add(Z.multiplyUnsafe(Se));if(Ie.is0())throw new Error("point at infinify");return Ie.assertValidity(),Ie}hasHighS(){return E(this.s)}toBytes(A=_){if(BS(A),A==="der")return Ow(xo.hexFromSig(this));const S=l.toBytes(this.r),P=l.toBytes(this.s);if(A==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ql(Uint8Array.of(this.recovery),S,P)}return ql(S,P)}toHex(A){return Fd(this.toBytes(A))}assertValidity(){}static fromCompact(A){return x.fromBytes(ii("sig",A),"compact")}static fromDER(A){return x.fromBytes(ii("sig",A),"der")}normalizeS(){return this.hasHighS()?new x(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Fd(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Fd(this.toBytes("compact"))}}const T=n.bits2int||function(G){if(G.length>8192)throw new Error("input is too large");const A=zb(G),S=G.length*8-d;return S>0?A>>BigInt(S):A},O=n.bits2int_modN||function(G){return l.create(T(G))},C=um(d);function U(G){return MS("num < 2^"+d,G,Do,C),l.toBytes(G)}function z(G,A){return Jc(G,void 0,"message"),A?Jc(e(G),void 0,"prehashed message"):G}function B(G,A,S){if(["recovered","canonical"].some(Se=>Se in S))throw new Error("sign() legacy options not supported");const{lowS:P,prehash:$,extraEntropy:R}=$1(S,b);G=z(G,$);const L=O(G),Y=Nd(l,A),Z=[U(Y),U(L)];if(R!=null&&R!==!1){const Se=R===!0?r(y.secretKey):R;Z.push(ii("extraEntropy",Se))}const ie=ql(...Z),ee=L;function se(Se){const Ie=T(Se);if(!l.isValidNot0(Ie))return;const $e=l.inv(Ie),xe=t.BASE.multiply(Ie).toAffine(),te=l.create(xe.x);if(te===Do)return;const Ve=l.create($e*l.create(ee+te*Y));if(Ve===Do)return;let rt=(xe.x===te?0:2)|Number(xe.y&qd),Le=Ve;return P&&E(Ve)&&(Le=l.neg(Ve),rt^=1),new x(te,Le,rt)}return{seed:ie,k2sig:se}}function q(G,A,S={}){G=ii("message",G);const{seed:P,k2sig:$}=B(G,A,S);return qoe(e.outputLen,l.BYTES,i)(P,$)}function W(G){let A;const S=typeof G=="string"||Ub(G),P=!S&&G!==null&&typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint";if(!S&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(P)A=new x(G.r,G.s);else if(S){try{A=x.fromBytes(ii("sig",G),"der")}catch($){if(!($ instanceof xo.Err))throw $}if(!A)try{A=x.fromBytes(ii("sig",G),"compact")}catch{return!1}}return A||!1}function K(G,A,S,P={}){const{lowS:$,prehash:R,format:L}=$1(P,b);if(S=ii("publicKey",S),A=z(ii("message",A),R),"strict"in P)throw new Error("options.strict was renamed to lowS");const Y=L===void 0?W(G):x.fromBytes(ii("sig",G),L);if(Y===!1)return!1;try{const Z=t.fromBytes(S);if($&&Y.hasHighS())return!1;const{r:ie,s:ee}=Y,se=O(A),Se=l.inv(ee),Ie=l.create(se*Se),$e=l.create(ie*Se),xe=t.BASE.multiplyUnsafe(Ie).add(Z.multiplyUnsafe($e));return xe.is0()?!1:l.create(xe.x)===ie}catch{return!1}}function H(G,A,S={}){const{prehash:P}=$1(S,b);return A=z(A,P),x.fromBytes(G,"recovered").recoverPublicKey(A).toBytes()}return Object.freeze({keygen:f,getPublicKey:p,getSharedSecret:m,utils:g,lengths:y,Point:t,sign:q,verify:K,recoverPublicKey:H,Signature:x,hash:e})}function vle(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const i=cc(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function _le(t){const{CURVE:e,curveOpts:n}=vle(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function Ele(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,$$(n.Fn.ORDER,n.Fn.BITS))})}function Sle(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=_le(t),s=yle(e,n),l=ble(s,r,i);return Ele(t,l)}function jS(t,e){const n=r=>Sle({...t,hash:r});return{...n(e),create:n}}const H$={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},V$={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},K$={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Ale=cc(H$.p),Tle=cc(V$.p),xle=cc(K$.p),Cle=jS({...H$,Fp:Ale,lowS:!1},Lb);jS({...V$,Fp:Tle,lowS:!1},Pae),jS({...K$,Fp:xle,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Nae);const Ile=Cle,G$="base10",mi="base16",Pi="base64pad",Wl="base64url",dm="utf8",Y$=0,$o=1,hm=2,Ole=0,gD=1,wp=12,tT=32;function kle(){const t=LS.utils.randomPrivateKey(),e=LS.getPublicKey(t);return{privateKey:Li(t,mi),publicKey:Li(e,mi)}}function zS(){const t=Eu(tT);return Li(t,mi)}function Rle(t,e){const n=LS.getSharedSecret(Ps(t,mi),Ps(e,mi)),r=zoe(jb,n,void 0,void 0,tT);return Li(r,mi)}function By(t){const e=jb(Ps(t,mi));return Li(e,mi)}function Ds(t){const e=jb(Ps(t,dm));return Li(e,mi)}function Z$(t){return Ps(`${t}`,G$)}function lu(t){return Number(Li(t,G$))}function X$(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function J$(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Dle(t){const e=Z$(typeof t.type<"u"?t.type:Y$);if(lu(e)===$o&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ps(t.senderPublicKey,mi):void 0,r=typeof t.iv<"u"?Ps(t.iv,mi):Eu(wp),i=Ps(t.symKey,mi),s=A$(i,r).encrypt(Ps(t.message,dm)),l=Q$({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Wl?X$(l):l}function Nle(t){const e=Ps(t.symKey,mi),{sealed:n,iv:r}=Mp({encoded:t.encoded,encoding:t.encoding}),i=A$(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Li(i,dm)}function Ple(t,e){const n=Z$(hm),r=Eu(wp),i=Ps(t,dm),s=Q$({type:n,sealed:i,iv:r});return e===Wl?X$(s):s}function Ule(t,e){const{sealed:n}=Mp({encoded:t,encoding:e});return Li(n,dm)}function Q$(t){if(lu(t.type)===hm)return Li(yp([t.type,t.sealed]),Pi);if(lu(t.type)===$o){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Li(yp([t.type,t.senderPublicKey,t.iv,t.sealed]),Pi)}return Li(yp([t.type,t.iv,t.sealed]),Pi)}function Mp(t){const e=(t.encoding||Pi)===Wl?J$(t.encoded):t.encoded,n=Ps(e,Pi),r=n.slice(Ole,gD),i=gD;if(lu(r)===$o){const d=i+tT,f=d+wp,p=n.slice(i,d),m=n.slice(d,f),g=n.slice(f);return{type:r,sealed:g,iv:m,senderPublicKey:p}}if(lu(r)===hm){const d=n.slice(i),f=Eu(wp);return{type:r,sealed:d,iv:f}}const s=i+wp,l=n.slice(i,s),c=n.slice(s);return{type:r,sealed:c,iv:l}}function $le(t,e){const n=Mp({encoded:t,encoding:e?.encoding});return eM({type:lu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Li(n.senderPublicKey,mi):void 0,receiverPublicKey:e?.receiverPublicKey})}function eM(t){const e=t?.type||Y$;if(e===$o){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function yD(t){return t.type===$o&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function wD(t){return t.type===hm}function Mle(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return yp([new Uint8Array([4]),e,n])}function Lle(t,e){const[n,r,i]=t.split("."),s=Buffer.from(J$(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const l=s.slice(0,32),c=s.slice(32,64),d=`${n}.${r}`,f=jb(d),p=Mle(e);if(!Ile.verify(yp([l,c]),f,p))throw new Error("Invalid signature");return CS(t).payload}const Ble="irn";function Pw(t){return t?.relay||{protocol:Ble}}function Pd(t){const e=Yie[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var jle=Object.defineProperty,zle=Object.defineProperties,Fle=Object.getOwnPropertyDescriptors,bD=Object.getOwnPropertySymbols,qle=Object.prototype.hasOwnProperty,Wle=Object.prototype.propertyIsEnumerable,vD=(t,e,n)=>e in t?jle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M1=(t,e)=>{for(var n in e||(e={}))qle.call(e,n)&&vD(t,n,e[n]);if(bD)for(var n of bD(e))Wle.call(e,n)&&vD(t,n,e[n]);return t},Hle=(t,e)=>zle(t,Fle(e));function Vle(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),l=t[i];n[s]=l}}),n}function _D(t){if(!t.includes("wc:")){const f=i$(t);f!=null&&f.includes("wc:")&&(t=f)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",l=new URLSearchParams(s),c=Object.fromEntries(l.entries()),d=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:Kle(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:Vle(c),methods:d,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function Kle(t){return t.startsWith("//")?t.substring(2):t}function Gle(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,l=n+e+s;t[s]&&(r[l]=t[s])}),r}function ED(t){const e=new URLSearchParams,n=M1(M1(Hle(M1({},Gle(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function dy(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Yle=Object.defineProperty,Zle=Object.defineProperties,Xle=Object.getOwnPropertyDescriptors,SD=Object.getOwnPropertySymbols,Jle=Object.prototype.hasOwnProperty,Qle=Object.prototype.propertyIsEnumerable,AD=(t,e,n)=>e in t?Yle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ece=(t,e)=>{for(var n in e||(e={}))Jle.call(e,n)&&AD(t,n,e[n]);if(SD)for(var n of SD(e))Qle.call(e,n)&&AD(t,n,e[n]);return t},tce=(t,e)=>Zle(t,Xle(e));function bh(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function nce(t){const e=[];return Object.values(t).forEach(n=>{e.push(...bh(n.accounts))}),e}function rce(t,e){const n=[];return Object.values(t).forEach(r=>{bh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function ice(t,e){const n=[];return Object.values(t).forEach(r=>{bh(r.accounts).includes(e)&&n.push(...r.events)}),n}function qb(t){return t.includes(":")}function Ud(t){return qb(t)?t.split(":")[0]:t}function TD(t){var e,n,r;const i={};if(!Pa(t))return i;for(const[s,l]of Object.entries(t)){const c=qb(s)?[s]:l.chains,d=l.methods||[],f=l.events||[],p=Ud(s);i[p]=tce(ece({},i[p]),{chains:Na(c,(e=i[p])==null?void 0:e.chains),methods:Na(d,(n=i[p])==null?void 0:n.methods),events:Na(f,(r=i[p])==null?void 0:r.events)})}return i}function sce(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function xD(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=sce(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Na(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function ace(t,e){var n,r,i,s,l,c;const d=TD(t),f=TD(e),p={},m=Object.keys(d).concat(Object.keys(f));for(const g of m)p[g]={chains:Na((n=d[g])==null?void 0:n.chains,(r=f[g])==null?void 0:r.chains),methods:Na((i=d[g])==null?void 0:i.methods,(s=f[g])==null?void 0:s.methods),events:Na((l=d[g])==null?void 0:l.events,(c=f[g])==null?void 0:c.events)};return p}const oce={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},lce={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Pe(t,e){const{message:n,code:r}=lce[t];return{message:e?`${n} ${e}`:n,code:r}}function Cn(t,e){const{message:n,code:r}=oce[t];return{message:e?`${n} ${e}`:n,code:r}}function $s(t,e){return!!Array.isArray(t)}function Pa(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function br(t){return typeof t>"u"}function or(t,e){return e&&br(t)?!0:typeof t=="string"&&!!t.trim().length}function nT(t,e){return e&&br(t)?!0:typeof t=="number"&&!isNaN(t)}function cce(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Xc(i,r)?(r.forEach(l=>{const{accounts:c,methods:d,events:f}=t.namespaces[l],p=bh(c),m=n[l];(!Xc(QU(l,m),p)||!Xc(m.methods,d)||!Xc(m.events,f))&&(s=!1)}),s):!1}function Uw(t){return or(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function uce(t){if(or(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Uw(n)}}return!1}function dce(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(or(t,!1)){if(e(t))return!0;const n=i$(t);return e(n)}}catch{}return!1}function hce(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function fce(t){return t?.topic}function pce(t,e){let n=null;return or(t?.publicKey,!1)||(n=Pe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function CD(t){let e=!0;return $s(t)?t.length&&(e=t.every(n=>or(n,!1))):e=!1,e}function mce(t,e,n){let r=null;return $s(e)&&e.length?e.forEach(i=>{r||Uw(i)||(r=Cn("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Uw(t)||(r=Cn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function gce(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const l=mce(i,QU(i,s),`${e} ${n}`);l&&(r=l)}),r}function yce(t,e){let n=null;return $s(t)?t.forEach(r=>{n||uce(r)||(n=Cn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Cn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function wce(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=yce(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function bce(t,e){let n=null;return CD(t?.methods)?CD(t?.events)||(n=Cn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Cn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function tM(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=bce(r,`${e}, namespace`);i&&(n=i)}),n}function vce(t,e,n){let r=null;if(t&&Pa(t)){const i=tM(t,e);i&&(r=i);const s=gce(t,e,n);s&&(r=s)}else r=Pe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function L1(t,e){let n=null;if(t&&Pa(t)){const r=tM(t,e);r&&(n=r);const i=wce(t,e);i&&(n=i)}else n=Pe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function nM(t){return or(t.protocol,!0)}function _ce(t,e){let n=!1;return t?t&&$s(t)&&t.length&&t.forEach(r=>{n=nM(r)}):n=!0,n}function Ece(t){return typeof t=="number"}function ki(t){return typeof t<"u"&&typeof t!==null}function Sce(t){return!(!t||typeof t!="object"||!t.code||!nT(t.code,!1)||!t.message||!or(t.message,!1))}function Ace(t){return!(br(t)||!or(t.method,!1))}function Tce(t){return!(br(t)||br(t.result)&&br(t.error)||!nT(t.id,!1)||!or(t.jsonrpc,!1))}function xce(t){return!(br(t)||!or(t.name,!1))}function ID(t,e){return!(!Uw(e)||!nce(t).includes(e))}function Cce(t,e,n){return or(n,!1)?rce(t,e).includes(n):!1}function Ice(t,e,n){return or(n,!1)?ice(t,e).includes(n):!1}function OD(t,e,n){let r=null;const i=Oce(t),s=kce(e),l=Object.keys(i),c=Object.keys(s),d=kD(Object.keys(t)),f=kD(Object.keys(e)),p=d.filter(m=>!f.includes(m));return p.length&&(r=Pe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Xc(l,c)||(r=Pe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${l.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||r)return;const g=bh(e[m].accounts);g.includes(m)||(r=Pe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${g.toString()}`))}),l.forEach(m=>{r||(Xc(i[m].methods,s[m].methods)?Xc(i[m].events,s[m].events)||(r=Pe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${m}`)):r=Pe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${m}`))}),r}function Oce(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function kD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function kce(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:bh(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function Rce(t,e){return nT(t,!1)&&t<=e.max&&t>=e.min}function RD(){const t=lm();return new Promise(e=>{switch(t){case as.browser:e(Dce());break;case as.reactNative:e(Nce());break;case as.node:e(Pce());break;default:e(!0)}})}function Dce(){return wh()&&navigator?.onLine}async function Nce(){return lc()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Pce(){return!0}function Uce(t){switch(lm()){case as.browser:$ce(t);break;case as.reactNative:Mce(t);break}}function $ce(t){!lc()&&wh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Mce(t){lc()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Lce(){var t;return wh()&&Bo.getDocument()?((t=Bo.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const B1={};class Nf{static get(e){return B1[e]}static set(e,n){B1[e]=n}static delete(e){delete B1[e]}}function Bce(t){const e=sm.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function jce({publicKey:t,signature:e,payload:n}){var r;const i=FS(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),l=qce(n.address),c=n.era==="00"?new Uint8Array([0]):FS(n.era);if(c.length!==1&&c.length!==2)throw new Error("Invalid era length");const d=parseInt(n.nonce,16),f=new Uint8Array([d&255,d>>8&255]),p=BigInt(`0x${Fce(n.tip)}`),m=Hce(p),g=new Uint8Array([0,...t,l,...e,...c,...f,...m,...i]),y=Wce(g.length+1);return new Uint8Array([...y,s,...g])}function zce(t){const e=FS(t),n=Qie.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function FS(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Fce(t){return t.startsWith("0x")?t.slice(2):t}function qce(t){const e=sm.decode(t)[0];return e===42?0:e===60?2:1}function Wce(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Hce(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Vce(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Bce(t.transaction.address),r=jce({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return zce(i)}function rT({logger:t,name:e}){const n=typeof t=="string"?JU({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class Su{}let Kce=class extends Su{constructor(e){super()}};const DD=Ue.FIVE_SECONDS,Au={pulse:"heartbeat_pulse"};let Gce=class rM extends Kce{constructor(e){super(e),this.events=new ls.EventEmitter,this.interval=DD,this.interval=e?.interval||DD}static async init(e){const n=new rM(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ue.toMiliseconds(this.interval))}pulse(){this.events.emit(Au.pulse)}};function Yce(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Ir(t,...e){try{return Yce(t(...e))}catch(n){return Promise.reject(n)}}function Zce(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Xce(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function jy(t){if(Zce(t))return String(t);if(Xce(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return jy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const qS="base64:";function Jce(t){return typeof t=="string"?t:qS+tue(t)}function Qce(t){return typeof t!="string"||!t.startsWith(qS)?t:eue(t.slice(qS.length))}function eue(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function tue(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Oi(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function nue(...t){return Oi(t.join(":"))}function hy(t){return t=Oi(t),t?t+":":""}function rue(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function iue(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const sue="memory",aue=()=>{const t=new Map;return{name:sue,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function oue(t={}){const e={mounts:{"":t.driver||aue()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=f=>{for(const p of e.mountpoints)if(f.startsWith(p))return{base:p,relativeKey:f.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:f,driver:e.mounts[""]}},r=(f,p)=>e.mountpoints.filter(m=>m.startsWith(f)||p&&f.startsWith(m)).map(m=>({relativeBase:f.length>m.length?f.slice(m.length):void 0,mountpoint:m,driver:e.mounts[m]})),i=(f,p)=>{if(e.watching){p=Oi(p);for(const m of e.watchListeners)m(f,p)}},s=async()=>{if(!e.watching){e.watching=!0;for(const f in e.mounts)e.unwatch[f]=await ND(e.mounts[f],i,f)}},l=async()=>{if(e.watching){for(const f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},c=(f,p,m)=>{const g=new Map,y=b=>{let _=g.get(b.base);return _||(_={driver:b.driver,base:b.base,items:[]},g.set(b.base,_)),_};for(const b of f){const _=typeof b=="string",E=Oi(_?b:b.key),k=_?void 0:b.value,D=_||!b.options?p:{...p,...b.options},x=n(E);y(x).items.push({key:E,value:k,relativeKey:x.relativeKey,options:D})}return Promise.all([...g.values()].map(b=>m(b))).then(b=>b.flat())},d={hasItem(f,p={}){f=Oi(f);const{relativeKey:m,driver:g}=n(f);return Ir(g.hasItem,m,p)},getItem(f,p={}){f=Oi(f);const{relativeKey:m,driver:g}=n(f);return Ir(g.getItem,m,p).then(y=>Gf(y))},getItems(f,p={}){return c(f,p,m=>m.driver.getItems?Ir(m.driver.getItems,m.items.map(g=>({key:g.relativeKey,options:g.options})),p).then(g=>g.map(y=>({key:nue(m.base,y.key),value:Gf(y.value)}))):Promise.all(m.items.map(g=>Ir(m.driver.getItem,g.relativeKey,g.options).then(y=>({key:g.key,value:Gf(y)})))))},getItemRaw(f,p={}){f=Oi(f);const{relativeKey:m,driver:g}=n(f);return g.getItemRaw?Ir(g.getItemRaw,m,p):Ir(g.getItem,m,p).then(y=>Qce(y))},async setItem(f,p,m={}){if(p===void 0)return d.removeItem(f);f=Oi(f);const{relativeKey:g,driver:y}=n(f);y.setItem&&(await Ir(y.setItem,g,jy(p),m),y.watch||i("update",f))},async setItems(f,p){await c(f,p,async m=>{if(m.driver.setItems)return Ir(m.driver.setItems,m.items.map(g=>({key:g.relativeKey,value:jy(g.value),options:g.options})),p);m.driver.setItem&&await Promise.all(m.items.map(g=>Ir(m.driver.setItem,g.relativeKey,jy(g.value),g.options)))})},async setItemRaw(f,p,m={}){if(p===void 0)return d.removeItem(f,m);f=Oi(f);const{relativeKey:g,driver:y}=n(f);if(y.setItemRaw)await Ir(y.setItemRaw,g,p,m);else if(y.setItem)await Ir(y.setItem,g,Jce(p),m);else return;y.watch||i("update",f)},async removeItem(f,p={}){typeof p=="boolean"&&(p={removeMeta:p}),f=Oi(f);const{relativeKey:m,driver:g}=n(f);g.removeItem&&(await Ir(g.removeItem,m,p),(p.removeMeta||p.removeMata)&&await Ir(g.removeItem,m+"$",p),g.watch||i("remove",f))},async getMeta(f,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),f=Oi(f);const{relativeKey:m,driver:g}=n(f),y=Object.create(null);if(g.getMeta&&Object.assign(y,await Ir(g.getMeta,m,p)),!p.nativeOnly){const b=await Ir(g.getItem,m+"$",p).then(_=>Gf(_));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(y,b))}return y},setMeta(f,p,m={}){return this.setItem(f+"$",p,m)},removeMeta(f,p={}){return this.removeItem(f+"$",p)},async getKeys(f,p={}){f=hy(f);const m=r(f,!0);let g=[];const y=[];let b=!0;for(const E of m){E.driver.flags?.maxDepth||(b=!1);const k=await Ir(E.driver.getKeys,E.relativeBase,p);for(const D of k){const x=E.mountpoint+Oi(D);g.some(T=>x.startsWith(T))||y.push(x)}g=[E.mountpoint,...g.filter(D=>!D.startsWith(E.mountpoint))]}const _=p.maxDepth!==void 0&&!b;return y.filter(E=>(!_||rue(E,p.maxDepth))&&iue(E,f))},async clear(f,p={}){f=hy(f),await Promise.all(r(f,!1).map(async m=>{if(m.driver.clear)return Ir(m.driver.clear,m.relativeBase,p);if(m.driver.removeItem){const g=await m.driver.getKeys(m.relativeBase||"",p);return Promise.all(g.map(y=>m.driver.removeItem(y,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>PD(f)))},async watch(f){return await s(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==f),e.watchListeners.length===0&&await l()}},async unwatch(){e.watchListeners=[],await l()},mount(f,p){if(f=hy(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((m,g)=>g.length-m.length)),e.mounts[f]=p,e.watching&&Promise.resolve(ND(p,i,f)).then(m=>{e.unwatch[f]=m}).catch(console.error),d},async unmount(f,p=!0){f=hy(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&(e.unwatch[f]?.(),delete e.unwatch[f]),p&&await PD(e.mounts[f]),e.mountpoints=e.mountpoints.filter(m=>m!==f),delete e.mounts[f])},getMount(f=""){f=Oi(f)+":";const p=n(f);return{driver:p.driver,base:p.base}},getMounts(f="",p={}){return f=Oi(f),r(f,p.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(f,p={})=>d.getKeys(f,p),get:(f,p={})=>d.getItem(f,p),set:(f,p,m={})=>d.setItem(f,p,m),has:(f,p={})=>d.hasItem(f,p),del:(f,p={})=>d.removeItem(f,p),remove:(f,p={})=>d.removeItem(f,p)};return d}function ND(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function PD(t){typeof t.dispose=="function"&&await Ir(t.dispose)}function Tu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function iM(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=Tu(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(l=>s(l.transaction(e,i).objectStore(e)))}let j1;function fm(){return j1||(j1=iM("keyval-store","keyval")),j1}function UD(t,e=fm()){return e("readonly",n=>Tu(n.get(t)))}function lue(t,e,n=fm()){return n("readwrite",r=>(r.put(e,t),Tu(r.transaction)))}function cue(t,e=fm()){return e("readwrite",n=>(n.delete(t),Tu(n.transaction)))}function uue(t=fm()){return t("readwrite",e=>(e.clear(),Tu(e.transaction)))}function due(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Tu(t.transaction)}function hue(t=fm()){return t("readonly",e=>{if(e.getAllKeys)return Tu(e.getAllKeys());const n=[];return due(e,r=>n.push(r.key)).then(()=>n)})}const fue="idb-keyval";var pue=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=iM(t.dbName,t.storeName)),{name:fue,options:t,async hasItem(i){return!(typeof await UD(n(i),r)>"u")},async getItem(i){return await UD(n(i),r)??null},setItem(i,s){return lue(n(i),s,r)},removeItem(i){return cue(n(i),r)},getKeys(){return hue(r)},clear(){return uue(r)}}};const mue="WALLET_CONNECT_V2_INDEXED_DB",gue="keyvaluestorage";let yue=class{constructor(){this.indexedDb=oue({driver:pue({dbName:mue,storeName:gue})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,jo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zy={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof z1<"u"&&z1.localStorage?zy.exports=z1.localStorage:typeof window<"u"&&window.localStorage?zy.exports=window.localStorage:zy.exports=new e})();function wue(t){var e;return[t[0],au((e=t[1])!=null?e:"")]}let bue=class{constructor(){this.localStorage=zy.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(wue)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return au(n)}async setItem(e,n){this.localStorage.setItem(e,jo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const vue="wc_storage_version",$D=1,_ue=async(t,e,n)=>{const r=vue,i=await e.getItem(r);if(i&&i>=$D){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const l=[];for(;s.length;){const c=s.shift();if(!c)continue;const d=c.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){const f=await t.getItem(c);await e.setItem(c,f),l.push(c)}}await e.setItem(r,$D),n(e),Eue(t,l)},Eue=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Sue=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new bue;this.storage=e;try{const n=new yue;_ue(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Aue=Object.defineProperty,Tue=(t,e,n)=>e in t?Aue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MD=(t,e,n)=>Tue(t,typeof e!="symbol"?e+"":e,n);let xue=class extends Su{constructor(e){super(),this.opts=e,MD(this,"protocol","wc"),MD(this,"version",2)}};var Cue=Object.defineProperty,Iue=(t,e,n)=>e in t?Cue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oue=(t,e,n)=>Iue(t,e+"",n);let kue=class extends Su{constructor(e,n){super(),this.core=e,this.logger=n,Oue(this,"records",new Map)}},Rue=class{constructor(e,n){this.logger=e,this.core=n}},Due=class extends Su{constructor(e,n){super(),this.relayer=e,this.logger=n}},Nue=class extends Su{constructor(e){super()}},Pue=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},Uue=class extends Su{constructor(e,n){super(),this.relayer=e,this.logger=n}},$ue=class extends Su{constructor(e,n){super(),this.core=e,this.logger=n}},Mue=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Lue=class{constructor(e,n){this.projectId=e,this.logger=n}},Bue=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var jue=Object.defineProperty,zue=(t,e,n)=>e in t?jue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LD=(t,e,n)=>zue(t,typeof e!="symbol"?e+"":e,n);let Fue=class{constructor(e){this.opts=e,LD(this,"protocol","wc"),LD(this,"version",2)}},que=class{constructor(e){this.client=e}};const Wue="PARSE_ERROR",Hue="INVALID_REQUEST",Vue="METHOD_NOT_FOUND",Kue="INVALID_PARAMS",sM="INTERNAL_ERROR",iT="SERVER_ERROR",Gue=[-32700,-32600,-32601,-32602,-32603],bp={[Wue]:{code:-32700,message:"Parse error"},[Hue]:{code:-32600,message:"Invalid Request"},[Vue]:{code:-32601,message:"Method not found"},[Kue]:{code:-32602,message:"Invalid params"},[sM]:{code:-32603,message:"Internal error"},[iT]:{code:-32e3,message:"Server error"}},aM=iT;function Yue(t){return Gue.includes(t)}function BD(t){return Object.keys(bp).includes(t)?bp[t]:bp[aM]}function Zue(t){const e=Object.values(bp).find(n=>n.code===t);return e||bp[aM]}function oM(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var F1={};var WS=function(t,e){return WS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},WS(t,e)};function Xue(t,e){WS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var HS=function(){return HS=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HS.apply(this,arguments)};function Jue(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Que(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(s=(i<3?l(s):i>3?l(e,n,s):l(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ede(t,e){return function(n,r){e(n,r,t)}}function tde(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function nde(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?s(p.value):i(p.value).then(c,d)}f((r=r.apply(t,e||[])).next())})}function rde(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function ide(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function sde(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function VS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lM(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return s}function ade(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lM(arguments[e]));return t}function ode(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],l=0,c=s.length;l<c;l++,i++)r[i]=s[l];return r}function Lp(t){return this instanceof Lp?(this.v=t,this):new Lp(t)}function lde(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(g){r[g]&&(i[g]=function(y){return new Promise(function(b,_){s.push([g,y,b,_])>1||c(g,y)})})}function c(g,y){try{d(r[g](y))}catch(b){m(s[0][3],b)}}function d(g){g.value instanceof Lp?Promise.resolve(g.value.v).then(f,p):m(s[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function m(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function cde(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(l){return(n=!n)?{value:Lp(t[i](l)),done:i==="return"}:s?s(l):l}:s}}function ude(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VS=="function"?VS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(c,d){l=t[s](l),i(c,d,l.done,l.value)})}}function i(s,l,c,d){Promise.resolve(d).then(function(f){s({value:f,done:c})},l)}}function dde(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function fde(t){return t&&t.__esModule?t:{default:t}}function pde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function mde(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const gde=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return HS},__asyncDelegator:cde,__asyncGenerator:lde,__asyncValues:ude,__await:Lp,__awaiter:nde,__classPrivateFieldGet:pde,__classPrivateFieldSet:mde,__createBinding:ide,__decorate:Que,__exportStar:sde,__extends:Xue,__generator:rde,__importDefault:fde,__importStar:hde,__makeTemplateObject:dde,__metadata:tde,__param:ede,__read:lM,__rest:Jue,__spread:ade,__spreadArrays:ode,__values:VS},Symbol.toStringTag,{value:"Module"})),yde=y5(gde);var mo={},jD;function wde(){if(jD)return mo;jD=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.isBrowserCryptoAvailable=mo.getSubtleCrypto=mo.getBrowerCrypto=void 0;function t(){return(Ca===null||Ca===void 0?void 0:Ca.crypto)||(Ca===null||Ca===void 0?void 0:Ca.msCrypto)||{}}mo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}mo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return mo.isBrowserCryptoAvailable=n,mo}var go={},zD;function bde(){if(zD)return go;zD=1,Object.defineProperty(go,"__esModule",{value:!0}),go.isBrowser=go.isNode=go.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}go.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}go.isNode=e;function n(){return!t()&&!e()}return go.isBrowser=n,go}var FD;function vde(){return FD||(FD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=yde;e.__exportStar(wde(),t),e.__exportStar(bde(),t)})(F1)),F1}var _de=vde();function Ta(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Zl(t=6){return BigInt(Ta(t))}function ta(t,e,n){return{id:n||Ta(),jsonrpc:"2.0",method:t,params:e}}function Bp(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Wb(t,e,n){return{id:t,jsonrpc:"2.0",error:Ede(e)}}function Ede(t,e){return typeof t>"u"?BD(sM):(typeof t=="string"&&(t=Object.assign(Object.assign({},BD(iT)),{message:t})),Yue(t.code)&&(t=Zue(t.code)),t)}let Sde=class{};class Ade extends Sde{constructor(){super()}}class Tde extends Ade{constructor(e){super()}}const xde="^https?:",Cde="^wss?:";function Ide(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function cM(t,e){const n=Ide(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function qD(t){return cM(t,xde)}function WD(t){return cM(t,Cde)}function Ode(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function uM(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function sT(t){return uM(t)&&"method"in t}function Hb(t){return uM(t)&&(xa(t)||Ns(t))}function xa(t){return"result"in t}function Ns(t){return"error"in t}let aT=class extends Tde{constructor(e){super(e),this.events=new ls.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ta(e.method,e.params||[],e.id||Zl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ns(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Hb(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const kde=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Rde=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",HD=t=>t.split("?")[0],VD=10,Dde=kde();let Nde=class{constructor(e){if(this.url=e,this.events=new ls.EventEmitter,this.registering=!1,!WD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(jo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!WD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=_de.isReactNative()?void 0:{rejectUnauthorized:!Ode(e)},s=new Dde(e,[],i);Rde()?s.onerror=l=>{const c=l;r(this.emitError(c.error))}:s.on("error",l=>{r(this.emitError(l))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?au(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Wb(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return oM(e,HD(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>VD&&this.events.setMaxListeners(VD)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${HD(this.url)}`));return this.events.emit("register_error",n),n}};var Pde={};const dM="wc",hM=2,KS="core",Ba=`${dM}@2:${KS}:`,Ude={logger:"error"},$de={database:":memory:"},Mde="crypto",KD="client_ed25519_seed",Lde=Ue.ONE_DAY,Bde="keychain",jde="0.3",zde="messages",Fde="0.3",qde=Ue.SIX_HOURS,Wde="publisher",fM="irn",Hde="error",pM="wss://relay.walletconnect.org",Vde="relayer",Vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Kde="_subscription",Ts={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Gde=.1,GS="2.22.4",xn={link_mode:"link_mode",relay:"relay"},Fy={inbound:"inbound",outbound:"outbound"},Yde="0.3",Zde="WALLETCONNECT_CLIENT_ID",GD="WALLETCONNECT_LINK_MODE_APPS",ts={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Xde="subscription",Jde="0.3",Qde="pairing",ehe="0.3",Pf={wc_pairingDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:0}}},Vc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ks={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},the="history",nhe="0.3",rhe="expirer",Os={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ihe="0.3",she="verify-api",ahe="https://verify.walletconnect.com",mM="https://verify.walletconnect.org",vp=mM,ohe=`${vp}/v3`,lhe=[ahe,mM],che="echo",uhe="https://echo.walletconnect.com",Aa={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},wo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Gs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Nc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Pc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Uf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},dhe=.1,hhe="event-client",fhe=86400,phe="https://pulse.walletconnect.org/batch";function mhe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),l=s.charCodeAt(0);if(n[l]!==255)throw new TypeError(s+" is ambiguous");n[l]=i}var c=t.length,d=t.charAt(0),f=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function m(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var _=0,E=0,k=0,D=b.length;k!==D&&b[k]===0;)k++,_++;for(var x=(D-k)*p+1>>>0,T=new Uint8Array(x);k!==D;){for(var O=b[k],C=0,U=x-1;(O!==0||C<E)&&U!==-1;U--,C++)O+=256*T[U]>>>0,T[U]=O%c>>>0,O=O/c>>>0;if(O!==0)throw new Error("Non-zero carry");E=C,k++}for(var z=x-E;z!==x&&T[z]===0;)z++;for(var B=d.repeat(_);z<x;++z)B+=t.charAt(T[z]);return B}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var _=0;if(b[_]!==" "){for(var E=0,k=0;b[_]===d;)E++,_++;for(var D=(b.length-_)*f+1>>>0,x=new Uint8Array(D);b[_];){var T=n[b.charCodeAt(_)];if(T===255)return;for(var O=0,C=D-1;(T!==0||O<k)&&C!==-1;C--,O++)T+=c*x[C]>>>0,x[C]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");k=O,_++}if(b[_]!==" "){for(var U=D-k;U!==D&&x[U]===0;)U++;for(var z=new Uint8Array(E+(D-U)),B=E;U!==D;)z[B++]=x[U++];return z}}}function y(b){var _=g(b);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:g,decode:y}}var ghe=mhe,yhe=ghe;const gM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},whe=t=>new TextEncoder().encode(t),bhe=t=>new TextDecoder().decode(t);class vhe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class _he{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yM(this,e)}}class Ehe{constructor(e){this.decoders=e}or(e){return yM(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yM=(t,e)=>new Ehe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class She{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new vhe(e,n,r),this.decoder=new _he(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Vb=({name:t,prefix:e,encode:n,decode:r})=>new She(t,e,n,r),pm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=yhe(n,e);return Vb({prefix:t,name:e,encode:r,decode:s=>gM(i(s))})},Ahe=(t,e,n,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=t.length;for(;t[s-1]==="=";)--s;const l=new Uint8Array(s*n/8|0);let c=0,d=0,f=0;for(let p=0;p<s;++p){const m=i[t[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|m,c+=n,c>=8&&(c-=8,l[f++]=255&d>>c)}if(c>=n||255&d<<8-c)throw new SyntaxError("Unexpected end of data");return l},The=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",l=0,c=0;for(let d=0;d<t.length;++d)for(c=c<<8|t[d],l+=8;l>n;)l-=n,s+=e[i&c>>l];if(l&&(s+=e[i&c<<n-l]),r)for(;s.length*n&7;)s+="=";return s},Xr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Vb({prefix:e,name:t,encode(i){return The(i,r,n)},decode(i){return Ahe(i,r,n,t)}}),xhe=Vb({prefix:"\0",name:"identity",encode:t=>bhe(t),decode:t=>whe(t)});var Che=Object.freeze({__proto__:null,identity:xhe});const Ihe=Xr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ohe=Object.freeze({__proto__:null,base2:Ihe});const khe=Xr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Rhe=Object.freeze({__proto__:null,base8:khe});const Dhe=pm({prefix:"9",name:"base10",alphabet:"0123456789"});var Nhe=Object.freeze({__proto__:null,base10:Dhe});const Phe=Xr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Uhe=Xr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $he=Object.freeze({__proto__:null,base16:Phe,base16upper:Uhe});const Mhe=Xr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lhe=Xr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bhe=Xr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jhe=Xr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zhe=Xr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fhe=Xr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qhe=Xr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Whe=Xr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hhe=Xr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Vhe=Object.freeze({__proto__:null,base32:Mhe,base32upper:Lhe,base32pad:Bhe,base32padupper:jhe,base32hex:zhe,base32hexupper:Fhe,base32hexpad:qhe,base32hexpadupper:Whe,base32z:Hhe});const Khe=pm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ghe=pm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yhe=Object.freeze({__proto__:null,base36:Khe,base36upper:Ghe});const Zhe=pm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xhe=pm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jhe=Object.freeze({__proto__:null,base58btc:Zhe,base58flickr:Xhe});const Qhe=Xr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),efe=Xr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tfe=Xr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nfe=Xr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rfe=Object.freeze({__proto__:null,base64:Qhe,base64pad:efe,base64url:tfe,base64urlpad:nfe});const wM=Array.from(""),ife=wM.reduce((t,e,n)=>(t[n]=e,t),[]),sfe=wM.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function afe(t){return t.reduce((e,n)=>(e+=ife[n],e),"")}function ofe(t){const e=[];for(const n of t){const r=sfe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const lfe=Vb({prefix:"",name:"base256emoji",encode:afe,decode:ofe});var cfe=Object.freeze({__proto__:null,base256emoji:lfe}),ufe=bM,YD=128,dfe=-128,hfe=Math.pow(2,31);function bM(t,e,n){e=e||[],n=n||0;for(var r=n;t>=hfe;)e[n++]=t&255|YD,t/=128;for(;t&dfe;)e[n++]=t&255|YD,t>>>=7;return e[n]=t|0,bM.bytes=n-r+1,e}var ffe=YS,pfe=128,ZD=127;function YS(t,r){var n=0,r=r||0,i=0,s=r,l,c=t.length;do{if(s>=c)throw YS.bytes=0,new RangeError("Could not decode varint");l=t[s++],n+=i<28?(l&ZD)<<i:(l&ZD)*Math.pow(2,i),i+=7}while(l>=pfe);return YS.bytes=s-r,n}var mfe=Math.pow(2,7),gfe=Math.pow(2,14),yfe=Math.pow(2,21),wfe=Math.pow(2,28),bfe=Math.pow(2,35),vfe=Math.pow(2,42),_fe=Math.pow(2,49),Efe=Math.pow(2,56),Sfe=Math.pow(2,63),Afe=function(t){return t<mfe?1:t<gfe?2:t<yfe?3:t<wfe?4:t<bfe?5:t<vfe?6:t<_fe?7:t<Efe?8:t<Sfe?9:10},Tfe={encode:ufe,decode:ffe,encodingLength:Afe},vM=Tfe;const XD=(t,e,n=0)=>(vM.encode(t,e,n),e),JD=t=>vM.encodingLength(t),ZS=(t,e)=>{const n=e.byteLength,r=JD(t),i=r+JD(n),s=new Uint8Array(i+n);return XD(t,s,0),XD(n,s,r),s.set(e,i),new xfe(t,n,e,s)};class xfe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const _M=({name:t,code:e,encode:n})=>new Cfe(t,e,n);class Cfe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?ZS(this.code,n):n.then(r=>ZS(this.code,r))}else throw Error("Unknown type, must be binary type")}}const EM=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ife=_M({name:"sha2-256",code:18,encode:EM("SHA-256")}),Ofe=_M({name:"sha2-512",code:19,encode:EM("SHA-512")});var kfe=Object.freeze({__proto__:null,sha256:Ife,sha512:Ofe});const SM=0,Rfe="identity",AM=gM,Dfe=t=>ZS(SM,AM(t)),Nfe={code:SM,name:Rfe,encode:AM,digest:Dfe};var Pfe=Object.freeze({__proto__:null,identity:Nfe});new TextEncoder,new TextDecoder;const QD={...Che,...Ohe,...Rhe,...Nhe,...$he,...Vhe,...Yhe,...Jhe,...rfe,...cfe};({...kfe,...Pfe});function TM(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ufe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?TM(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function xM(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const e8=xM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),q1=xM("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Ufe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),$fe={utf8:e8,"utf-8":e8,hex:QD.base16,latin1:q1,ascii:q1,binary:q1,...QD};function Mfe(t,e="utf8"){const n=$fe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?TM(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var Lfe=Object.defineProperty,Bfe=(t,e,n)=>e in t?Lfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ba=(t,e,n)=>Bfe(t,typeof e!="symbol"?e+"":e,n);let jfe=class{constructor(e,n){this.core=e,this.logger=n,ba(this,"keychain",new Map),ba(this,"name",Bde),ba(this,"version",jde),ba(this,"initialized",!1),ba(this,"storagePrefix",Ba),ba(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ba(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ba(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),ba(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Pe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),ba(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=cs(n,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,OS(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kS(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var zfe=Object.defineProperty,Ffe=(t,e,n)=>e in t?zfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xr=(t,e,n)=>Ffe(t,typeof e!="symbol"?e+"":e,n);let qfe=class{constructor(e,n,r){this.core=e,this.logger=n,xr(this,"name",Mde),xr(this,"keychain"),xr(this,"randomSessionIdentifier",zS()),xr(this,"initialized",!1),xr(this,"clientId"),xr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),xr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),xr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=SR(i),l=qU(s.publicKey);return this.clientId=l,l}),xr(this,"generateKeyPair",()=>{this.isInitialized();const i=kle();return this.setPrivateKey(i.publicKey,i.privateKey)}),xr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),l=SR(s),c=this.randomSessionIdentifier;return await Jre(c,i,Lde,l)}),xr(this,"generateSharedKey",(i,s,l)=>{this.isInitialized();const c=this.getPrivateKey(i),d=Rle(c,s);return this.setSymKey(d,l)}),xr(this,"setSymKey",async(i,s)=>{this.isInitialized();const l=s||By(i);return await this.keychain.set(l,i),l}),xr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),xr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),xr(this,"encode",async(i,s,l)=>{this.isInitialized();const c=eM(l),d=jo(s);if(wD(c))return Ple(d,l?.encoding);if(yD(c)){const g=c.senderPublicKey,y=c.receiverPublicKey;i=await this.generateSharedKey(g,y)}const f=this.getSymKey(i),{type:p,senderPublicKey:m}=c;return Dle({type:p,symKey:f,message:d,senderPublicKey:m,encoding:l?.encoding})}),xr(this,"decode",async(i,s,l)=>{this.isInitialized();const c=$le(s,l);if(wD(c)){const d=Ule(s,l?.encoding);return au(d)}if(yD(c)){const d=c.receiverPublicKey,f=c.senderPublicKey;i=await this.generateSharedKey(d,f)}try{const d=this.getSymKey(i),f=Nle({symKey:d,encoded:s,encoding:l?.encoding});return au(f)}catch(d){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(d)}}),xr(this,"getPayloadType",(i,s=Pi)=>{const l=Mp({encoded:i,encoding:s});return lu(l.type)}),xr(this,"getPayloadSenderPublicKey",(i,s=Pi)=>{const l=Mp({encoded:i,encoding:s});return l.senderPublicKey?Li(l.senderPublicKey,mi):void 0}),this.core=e,this.logger=cs(n,this.name),this.keychain=r||new jfe(this.core,this.logger)}get context(){return ji(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(KD)}catch{e=zS(),await this.keychain.set(KD,e)}return Mfe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Wfe=Object.defineProperty,Hfe=Object.defineProperties,Vfe=Object.getOwnPropertyDescriptors,t8=Object.getOwnPropertySymbols,Kfe=Object.prototype.hasOwnProperty,Gfe=Object.prototype.propertyIsEnumerable,XS=(t,e,n)=>e in t?Wfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yfe=(t,e)=>{for(var n in e||(e={}))Kfe.call(e,n)&&XS(t,n,e[n]);if(t8)for(var n of t8(e))Gfe.call(e,n)&&XS(t,n,e[n]);return t},Zfe=(t,e)=>Hfe(t,Vfe(e)),Ji=(t,e,n)=>XS(t,typeof e!="symbol"?e+"":e,n);let Xfe=class extends Rue{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ji(this,"messages",new Map),Ji(this,"messagesWithoutClientAck",new Map),Ji(this,"name",zde),Ji(this,"version",Fde),Ji(this,"initialized",!1),Ji(this,"storagePrefix",Ba),Ji(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ji(this,"set",async(r,i,s)=>{this.isInitialized();const l=Ds(i);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[l]<"u")return l;if(c[l]=i,this.messages.set(r,c),s===Fy.inbound){const d=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Zfe(Yfe({},d),{[l]:i}))}return await this.persist(),l}),Ji(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ji(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const l=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(l)}return i}),Ji(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),l=Ds(i);return typeof s[l]<"u"}),Ji(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const l=Ds(i);delete s[l],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Ji(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=cs(e,this.name),this.core=n}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,OS(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,OS(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kS(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?kS(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Jfe=Object.defineProperty,Qfe=Object.defineProperties,epe=Object.getOwnPropertyDescriptors,n8=Object.getOwnPropertySymbols,tpe=Object.prototype.hasOwnProperty,npe=Object.prototype.propertyIsEnumerable,JS=(t,e,n)=>e in t?Jfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_d=(t,e)=>{for(var n in e||(e={}))tpe.call(e,n)&&JS(t,n,e[n]);if(n8)for(var n of n8(e))npe.call(e,n)&&JS(t,n,e[n]);return t},r8=(t,e)=>Qfe(t,epe(e)),xs=(t,e,n)=>JS(t,typeof e!="symbol"?e+"":e,n);class rpe extends Due{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,xs(this,"events",new ls.EventEmitter),xs(this,"name",Wde),xs(this,"queue",new Map),xs(this,"publishTimeout",Ue.toMiliseconds(Ue.ONE_MINUTE)),xs(this,"initialPublishTimeout",Ue.toMiliseconds(Ue.ONE_SECOND*15)),xs(this,"needsTransportRestart",!1),xs(this,"publish",async(r,i,s)=>{var l,c,d,f,p;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const m=s?.ttl||qde,g=s?.prompt||!1,y=s?.tag||0,b=s?.id||Zl().toString(),_=Pd(Pw().protocol),E={id:b,method:s?.publishMethod||_.publish,params:_d({topic:r,message:i,ttl:m,prompt:g,tag:y,attestation:s?.attestation},s?.tvf)},k=`Failed to publish payload, please try again. id:${b} tag:${y}`;try{br((l=E.params)==null?void 0:l.prompt)&&((c=E.params)==null||delete c.prompt),br((d=E.params)==null?void 0:d.tag)&&((f=E.params)==null||delete f.tag);const D=new Promise(async x=>{const T=({id:C})=>{var U;((U=E.id)==null?void 0:U.toString())===C.toString()&&(this.removeRequestFromQueue(C),this.relayer.events.removeListener(Vn.publish,T),x())};this.relayer.events.on(Vn.publish,T);const O=Oa(new Promise((C,U)=>{this.rpcPublish(E,s).then(C).catch(z=>{this.logger.warn(z,z?.message),U(z)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${y}`);try{await O,this.events.removeListener(Vn.publish,T)}catch(C){this.queue.set(b,{request:E,opts:s,attempt:1}),this.logger.warn(C,C?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:r,message:i,opts:s}}),await Oa(D,this.publishTimeout,k)}catch(D){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(D),(p=s?.internal)!=null&&p.throwOnFailedPublish)throw D}finally{this.queue.delete(b)}}),xs(this,"publishCustom",async r=>{var i,s,l,c,d;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:f,opts:p={}}=r,{attestation:m,tvf:g,publishMethod:y,prompt:b,tag:_,ttl:E=Ue.FIVE_MINUTES}=p,k=p.id||Zl().toString(),D=Pd(Pw().protocol),x=y||D.publish,T={id:k,method:x,params:_d(r8(_d({},f),{ttl:E,prompt:b,tag:_,attestation:m}),g)},O=`Failed to publish custom payload, please try again. id:${k} tag:${_}`;try{br((i=T.params)==null?void 0:i.prompt)&&((s=T.params)==null||delete s.prompt),br((l=T.params)==null?void 0:l.tag)&&((c=T.params)==null||delete c.tag);const C=new Promise(async U=>{const z=({id:q})=>{var W;((W=T.id)==null?void 0:W.toString())===q.toString()&&(this.removeRequestFromQueue(q),this.relayer.events.removeListener(Vn.publish,z),U())};this.relayer.events.on(Vn.publish,z);const B=Oa(new Promise((q,W)=>{this.rpcPublish(T,p).then(q).catch(K=>{this.logger.warn(K,K?.message),W(K)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${x} id:${k} tag:${_}`);try{await B,this.events.removeListener(Vn.publish,z)}catch(q){this.queue.set(k,{request:T,opts:p,attempt:1}),this.logger.warn(q,q?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:k,payload:f,opts:p}}),await Oa(C,this.publishTimeout,O)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(d=p?.internal)!=null&&d.throwOnFailedPublish)throw C}finally{this.queue.delete(k)}}),xs(this,"on",(r,i)=>{this.events.on(r,i)}),xs(this,"once",(r,i)=>{this.events.once(r,i)}),xs(this,"off",(r,i)=>{this.events.off(r,i)}),xs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=cs(n,this.name),this.registerEventListeners()}get context(){return ji(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Vn.publish,_d(_d({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,r8(_d({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Au.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var ipe=Object.defineProperty,spe=(t,e,n)=>e in t?ipe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ed=(t,e,n)=>spe(t,typeof e!="symbol"?e+"":e,n);class ape{constructor(){Ed(this,"map",new Map),Ed(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Ed(this,"get",e=>this.map.get(e)||[]),Ed(this,"exists",(e,n)=>this.get(e).includes(n)),Ed(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Ed(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var ope=Object.defineProperty,lpe=Object.defineProperties,cpe=Object.getOwnPropertyDescriptors,i8=Object.getOwnPropertySymbols,upe=Object.prototype.hasOwnProperty,dpe=Object.prototype.propertyIsEnumerable,QS=(t,e,n)=>e in t?ope(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$f=(t,e)=>{for(var n in e||(e={}))upe.call(e,n)&&QS(t,n,e[n]);if(i8)for(var n of i8(e))dpe.call(e,n)&&QS(t,n,e[n]);return t},W1=(t,e)=>lpe(t,cpe(e)),pn=(t,e,n)=>QS(t,typeof e!="symbol"?e+"":e,n);let hpe=class extends Uue{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,pn(this,"subscriptions",new Map),pn(this,"topicMap",new ape),pn(this,"events",new ls.EventEmitter),pn(this,"name",Xde),pn(this,"version",Jde),pn(this,"pending",new Map),pn(this,"cached",[]),pn(this,"initialized",!1),pn(this,"storagePrefix",Ba),pn(this,"subscribeTimeout",Ue.toMiliseconds(Ue.ONE_MINUTE)),pn(this,"initialSubscribeTimeout",Ue.toMiliseconds(Ue.ONE_SECOND*15)),pn(this,"clientId"),pn(this,"batchSubscribeTopicsLimit",500),pn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),pn(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const l=Pw(i),c={topic:r,relay:l,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,c);const d=await this.rpcSubscribe(r,l,i);return typeof d=="string"&&(this.onSubscribe(d,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),d}catch(l){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(l),l}}),pn(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),pn(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),pn(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),pn(this,"on",(r,i)=>{this.events.on(r,i)}),pn(this,"once",(r,i)=>{this.events.once(r,i)}),pn(this,"off",(r,i)=>{this.events.off(r,i)}),pn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),pn(this,"start",async()=>{await this.onConnect()}),pn(this,"stop",async()=>{await this.onDisconnect()}),pn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),pn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),pn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Au.pulse,async()=>{await this.checkPending()}),this.events.on(ts.created,async r=>{const i=ts.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(ts.deleted,async r=>{const i=ts.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=cs(n,this.name),this.clientId=""}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=Pw(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Cn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const l=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return l;(!r||r?.transportType===xn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const c={method:Pd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});const d=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===xn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(c).catch(m=>this.logger.warn(m))},Ue.toMiliseconds(Ue.ONE_SECOND)),l;const f=new Promise(async m=>{const g=y=>{y.topic===e&&(this.events.removeListener(ts.created,g),m(y.id))};this.events.on(ts.created,g);try{const y=await Oa(new Promise((b,_)=>{this.relayer.request(c).catch(E=>{this.logger.warn(E,E?.message),_(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ts.created,g),m(y)}catch{}}),p=await Oa(f,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!p&&d)throw new Error(`Subscribing to ${e} failed, please try again`);return p?l:null}catch(f){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Vn.connection_stalled),d)throw f}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Pd(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Oa(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Pd(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Oa(new Promise((s,l)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),l(c)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Vn.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Pd(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,W1($f({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,$f({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,$f({},n)),this.topicMap.set(n.topic,e),this.events.emit(ts.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ts.deleted,W1($f({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ts.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ts.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>W1($f({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Jse(Ue.toMiliseconds(Ue.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ds(e+await this.getClientId())}};var fpe=Object.defineProperty,s8=Object.getOwnPropertySymbols,ppe=Object.prototype.hasOwnProperty,mpe=Object.prototype.propertyIsEnumerable,eA=(t,e,n)=>e in t?fpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a8=(t,e)=>{for(var n in e||(e={}))ppe.call(e,n)&&eA(t,n,e[n]);if(s8)for(var n of s8(e))mpe.call(e,n)&&eA(t,n,e[n]);return t},Vt=(t,e,n)=>eA(t,typeof e!="symbol"?e+"":e,n);let gpe=class extends Nue{constructor(e){var n;super(e),Vt(this,"protocol","wc"),Vt(this,"version",2),Vt(this,"core"),Vt(this,"logger"),Vt(this,"events",new ls.EventEmitter),Vt(this,"provider"),Vt(this,"messages"),Vt(this,"subscriber"),Vt(this,"publisher"),Vt(this,"name",Vde),Vt(this,"transportExplicitlyClosed",!1),Vt(this,"initialized",!1),Vt(this,"connectionAttemptInProgress",!1),Vt(this,"relayUrl"),Vt(this,"projectId"),Vt(this,"packageName"),Vt(this,"bundleId"),Vt(this,"hasExperiencedNetworkDisruption",!1),Vt(this,"pingTimeout"),Vt(this,"heartBeatTimeout",Ue.toMiliseconds(Ue.THIRTY_SECONDS+Ue.FIVE_SECONDS)),Vt(this,"reconnectTimeout"),Vt(this,"connectPromise"),Vt(this,"reconnectInProgress",!1),Vt(this,"requestsInFlight",[]),Vt(this,"connectTimeout",Ue.toMiliseconds(Ue.ONE_SECOND*15)),Vt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const l=r.id||Zl().toString();await this.toEstablishConnection();try{this.logger.trace({id:l,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const c=`${l}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const d=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(f=>f!==c),d}catch(c){throw this.logger.debug(`Failed to Publish Request: ${l}`),c}}),Vt(this,"resetPingTimeout",()=>{Iw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,l;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(l=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||l.call(s)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),Vt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Vt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Vn.connect)}),Vt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Vt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Vn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Vt(this,"registerProviderListeners",()=>{this.provider.on(Ts.payload,this.onPayloadHandler),this.provider.on(Ts.connect,this.onConnectHandler),this.provider.on(Ts.disconnect,this.onDisconnectHandler),this.provider.on(Ts.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=rT({logger:(n=e.logger)!=null?n:Hde,name:this.name}),this.messages=new Xfe(this.logger,e.core),this.subscriber=new hpe(this,this.logger),this.publisher=new rpe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||pM,$se()?this.packageName=BR():Mse()&&(this.bundleId=BR()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ji(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:xn.relay},Fy.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const l=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let c=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",d;const f=p=>{p.topic===e&&(this.subscriber.off(ts.created,f),d())};return await Promise.all([new Promise(p=>{d=p,this.subscriber.on(ts.created,f)}),new Promise(async(p,m)=>{c=await this.subscriber.subscribe(e,a8({internal:{throwOnFailedPublish:l}},n)).catch(g=>{l&&m(g)})||c,p()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Oa(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await RD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=rr(Ue.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Vn.message,e),await this.recordMessageEvent(e,Fy.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ts.disconnect,s),await Oa(new Promise((l,c)=>{this.provider.connect().then(l).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(l=>{i(l)}).finally(()=>{this.provider.off(Ts.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(l,c)=>{const d=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ts.disconnect,d),await this.subscriber.start().then(l).catch(c).finally(()=>{this.provider.off(Ts.disconnect,d)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Ue.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Iw())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(l){this.logger.warn(l,l?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new aT(new Nde(Fse({sdkVersion:GS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sT(e)){if(!e.method.endsWith(Kde))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:l}=n.data,c={topic:r,message:i,publishedAt:s,transportType:xn.relay,attestation:l};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(a8({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else Hb(e)&&this.events.emit(Vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Fy.inbound),this.events.emit(Vn.message,e))}async acknowledgePayload(e){const n=Bp(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ts.payload,this.onPayloadHandler),this.provider.off(Ts.connect,this.onConnectHandler),this.provider.off(Ts.disconnect,this.onDisconnectHandler),this.provider.off(Ts.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await RD();Uce(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Au.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Lce())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ue.toMiliseconds(Gde)))))}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function ype(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function o8(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function l8(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const wpe="[object RegExp]",bpe="[object String]",vpe="[object Number]",_pe="[object Boolean]",c8="[object Arguments]",Epe="[object Symbol]",Spe="[object Date]",Ape="[object Map]",Tpe="[object Set]",xpe="[object Array]",Cpe="[object Function]",Ipe="[object ArrayBuffer]",H1="[object Object]",Ope="[object Error]",kpe="[object DataView]",Rpe="[object Uint8Array]",Dpe="[object Uint8ClampedArray]",Npe="[object Uint16Array]",Ppe="[object Uint32Array]",Upe="[object BigUint64Array]",$pe="[object Int8Array]",Mpe="[object Int16Array]",Lpe="[object Int32Array]",Bpe="[object BigInt64Array]",jpe="[object Float32Array]",zpe="[object Float64Array]";function Fpe(){}function u8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function qpe(t,e,n){return rp(t,e,void 0,void 0,void 0,void 0,n)}function rp(t,e,n,r,i,s,l){const c=l(t,e,n,r,i,s);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return _p(t,e,s,l)}return _p(t,e,s,l)}function _p(t,e,n,r){if(Object.is(t,e))return!0;let i=l8(t),s=l8(e);if(i===c8&&(i=H1),s===c8&&(s=H1),i!==s)return!1;switch(i){case bpe:return t.toString()===e.toString();case vpe:{const d=t.valueOf(),f=e.valueOf();return ype(d,f)}case _pe:case Spe:case Epe:return Object.is(t.valueOf(),e.valueOf());case wpe:return t.source===e.source&&t.flags===e.flags;case Cpe:return t===e}n=n??new Map;const l=n.get(t),c=n.get(e);if(l!=null&&c!=null)return l===e;n.set(t,e),n.set(e,t);try{switch(i){case Ape:{if(t.size!==e.size)return!1;for(const[d,f]of t.entries())if(!e.has(d)||!rp(f,e.get(d),d,t,e,n,r))return!1;return!0}case Tpe:{if(t.size!==e.size)return!1;const d=Array.from(t.values()),f=Array.from(e.values());for(let p=0;p<d.length;p++){const m=d[p],g=f.findIndex(y=>rp(m,y,void 0,t,e,n,r));if(g===-1)return!1;f.splice(g,1)}return!0}case xpe:case Rpe:case Dpe:case Npe:case Ppe:case Upe:case $pe:case Mpe:case Lpe:case Bpe:case jpe:case zpe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let d=0;d<t.length;d++)if(!rp(t[d],e[d],d,t,e,n,r))return!1;return!0}case Ipe:return t.byteLength!==e.byteLength?!1:_p(new Uint8Array(t),new Uint8Array(e),n,r);case kpe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:_p(new Uint8Array(t),new Uint8Array(e),n,r);case Ope:return t.name===e.name&&t.message===e.message;case H1:{if(!(_p(t.constructor,e.constructor,n,r)||u8(t)&&u8(e)))return!1;const d=[...Object.keys(t),...o8(t)],f=[...Object.keys(e),...o8(e)];if(d.length!==f.length)return!1;for(let p=0;p<d.length;p++){const m=d[p],g=t[m];if(!Object.hasOwn(e,m))return!1;const y=e[m];if(!rp(g,y,m,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function Wpe(t,e){return qpe(t,e,Fpe)}var Hpe=Object.defineProperty,d8=Object.getOwnPropertySymbols,Vpe=Object.prototype.hasOwnProperty,Kpe=Object.prototype.propertyIsEnumerable,tA=(t,e,n)=>e in t?Hpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h8=(t,e)=>{for(var n in e||(e={}))Vpe.call(e,n)&&tA(t,n,e[n]);if(d8)for(var n of d8(e))Kpe.call(e,n)&&tA(t,n,e[n]);return t},Ii=(t,e,n)=>tA(t,typeof e!="symbol"?e+"":e,n);let xu=class extends Pue{constructor(e,n,r,i=Ba,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Ii(this,"map",new Map),Ii(this,"version",Yde),Ii(this,"cached",[]),Ii(this,"initialized",!1),Ii(this,"getKey"),Ii(this,"storagePrefix",Ba),Ii(this,"recentlyDeleted",[]),Ii(this,"recentlyDeletedLimit",200),Ii(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(l=>{this.getKey&&l!==null&&!br(l)?this.map.set(this.getKey(l),l):hce(l)?this.map.set(l.id,l):fce(l)&&this.map.set(l.topic,l)}),this.cached=[],this.initialized=!0)}),Ii(this,"set",async(l,c)=>{this.isInitialized(),this.map.has(l)?await this.update(l,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:l,value:c}),this.map.set(l,c),await this.persist())}),Ii(this,"get",l=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:l}),this.getData(l))),Ii(this,"getAll",l=>(this.isInitialized(),l?this.values.filter(c=>Object.keys(l).every(d=>Wpe(c[d],l[d]))):this.values)),Ii(this,"update",async(l,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:l,update:c});const d=h8(h8({},this.getData(l)),c);this.map.set(l,d),await this.persist()}),Ii(this,"delete",async(l,c)=>{this.isInitialized(),this.map.has(l)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:l,reason:c}),this.map.delete(l),this.addToRecentlyDeleted(l),await this.persist())}),this.logger=cs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Pe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Gpe=Object.defineProperty,Ype=(t,e,n)=>e in t?Gpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ut=(t,e,n)=>Ype(t,typeof e!="symbol"?e+"":e,n);let Zpe=class{constructor(e,n){this.core=e,this.logger=n,Ut(this,"name",Qde),Ut(this,"version",ehe),Ut(this,"events",new C2),Ut(this,"pairings"),Ut(this,"initialized",!1),Ut(this,"storagePrefix",Ba),Ut(this,"ignoredPayloadTypes",[$o]),Ut(this,"registeredMethods",[]),Ut(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ut(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ut(this,"create",async r=>{this.isInitialized();const i=zS(),s=await this.core.crypto.setSymKey(i),l=rr(Ue.FIVE_MINUTES),c={protocol:fM},d={topic:s,expiry:l,relay:c,active:!1,methods:r?.methods},f=ED({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:c,expiryTimestamp:l,methods:r?.methods});return this.events.emit(Vc.create,d),this.core.expirer.set(s,l),await this.pairings.set(s,d),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:f}}),Ut(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Aa.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:l,relay:c,expiryTimestamp:d,methods:f}=_D(r.uri);i.props.properties.topic=s,i.addTrace(Aa.pairing_uri_validation_success),i.addTrace(Aa.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(s)){if(p=this.pairings.get(s),i.addTrace(Aa.existing_pairing),p.active)throw i.setError(wo.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Aa.pairing_not_expired)}const m=d||rr(Ue.FIVE_MINUTES),g={topic:s,relay:c,expiry:m,active:!1,methods:f};this.core.expirer.set(s,m),await this.pairings.set(s,g),i.addTrace(Aa.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Vc.create,g),i.addTrace(Aa.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(l,s),i.addTrace(Aa.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(wo.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:c})}catch(y){throw i.setError(wo.subscribe_pairing_topic_failure),y}return i.addTrace(Aa.subscribe_pairing_topic_success),g}),Ut(this,"activate",async({topic:r})=>{this.isInitialized();const i=rr(Ue.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ut(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:l,resolve:c,reject:d}=Lc();this.events.once(en("pairing_ping",s),({error:f})=>{f?d(f):c()}),await l()}}),Ut(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ut(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ut(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ut(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Cn("USER_DISCONNECTED")),await this.deletePairing(i))}),Ut(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:l,methods:c}=r,d=this.core.crypto.keychain.get(i);return ED({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:d,relay:s,expiryTimestamp:l,methods:c})}),Ut(this,"sendRequest",async(r,i,s)=>{const l=ta(i,s),c=await this.core.crypto.encode(r,l),d=Pf[i].req;return this.core.history.set(r,l),this.core.relayer.publish(r,c,d),l.id}),Ut(this,"sendResult",async(r,i,s)=>{const l=Bp(r,s),c=await this.core.crypto.encode(i,l),d=(await this.core.history.get(i,r)).request.method,f=Pf[d].res;await this.core.relayer.publish(i,c,f),await this.core.history.resolve(l)}),Ut(this,"sendError",async(r,i,s)=>{const l=Wb(r,s),c=await this.core.crypto.encode(i,l),d=(await this.core.history.get(i,r)).request.method,f=Pf[d]?Pf[d].res:Pf.unregistered_method.res;await this.core.relayer.publish(i,c,f),await this.core.history.resolve(l)}),Ut(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Cn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ut(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ia(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ut(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ut(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,l=(await this.core.history.get(i,s.id)).request.method;return l==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(l)}),Ut(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Vc.ping,{id:s,topic:r})}catch(l){await this.sendError(s,r,l),this.logger.error(l)}}),Ut(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{xa(i)?this.events.emit(en("pairing_ping",s),{}):Ns(i)&&this.events.emit(en("pairing_ping",s),{error:i.error})},500)}),Ut(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Vc.delete,{id:s,topic:r})}catch(l){await this.sendError(s,r,l),this.logger.error(l)}}),Ut(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:l}=i;try{if(this.registeredMethods.includes(l))return;const c=Cn("WC_METHOD_UNSUPPORTED",l);await this.sendError(s,r,c),this.logger.error(c)}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),Ut(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Cn("WC_METHOD_UNSUPPORTED",r))}),Ut(this,"isValidPair",(r,i)=>{var s;if(!ki(r)){const{message:c}=Pe("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(wo.malformed_pairing_uri),new Error(c)}if(!dce(r.uri)){const{message:c}=Pe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(wo.malformed_pairing_uri),new Error(c)}const l=_D(r?.uri);if(!((s=l?.relay)!=null&&s.protocol)){const{message:c}=Pe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(wo.malformed_pairing_uri),new Error(c)}if(!(l!=null&&l.symKey)){const{message:c}=Pe("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(wo.malformed_pairing_uri),new Error(c)}if(l!=null&&l.expiryTimestamp&&Ue.toMiliseconds(l?.expiryTimestamp)<Date.now()){i.setError(wo.pairing_expired);const{message:c}=Pe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),Ut(this,"isValidPing",async r=>{if(!ki(r)){const{message:s}=Pe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ut(this,"isValidDisconnect",async r=>{if(!ki(r)){const{message:s}=Pe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ut(this,"isValidPairingTopic",async r=>{if(!or(r,!1)){const{message:i}=Pe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ia(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Pe("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=cs(n,this.name),this.pairings=new xu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ji(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Vn.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==xn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);sT(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):Hb(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Os.expired,async e=>{const{topic:n}=r$(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Vc.expire,{topic:n}))})}};var Xpe=Object.defineProperty,Jpe=(t,e,n)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zr=(t,e,n)=>Jpe(t,typeof e!="symbol"?e+"":e,n);let Qpe=class extends kue{constructor(e,n){super(e,n),this.core=e,this.logger=n,zr(this,"records",new Map),zr(this,"events",new ls.EventEmitter),zr(this,"name",the),zr(this,"version",nhe),zr(this,"cached",[]),zr(this,"initialized",!1),zr(this,"storagePrefix",Ba),zr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),zr(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const l={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:rr(Ue.THIRTY_DAYS)};this.records.set(l.id,l),this.persist(),this.events.emit(Ks.created,l)}),zr(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ns(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ks.updated,i))}),zr(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),zr(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ks.deleted,s)}}),this.persist()}),zr(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),zr(this,"on",(r,i)=>{this.events.on(r,i)}),zr(this,"once",(r,i)=>{this.events.once(r,i)}),zr(this,"off",(r,i)=>{this.events.off(r,i)}),zr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=cs(n,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:ta(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ks.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ks.created,e=>{const n=Ks.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ks.updated,e=>{const n=Ks.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ks.deleted,e=>{const n=Ks.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Au.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Ue.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ks.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var eme=Object.defineProperty,tme=(t,e,n)=>e in t?eme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ni=(t,e,n)=>tme(t,typeof e!="symbol"?e+"":e,n);let nme=class extends $ue{constructor(e,n){super(e,n),this.core=e,this.logger=n,ni(this,"expirations",new Map),ni(this,"events",new ls.EventEmitter),ni(this,"name",rhe),ni(this,"version",ihe),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",Ba),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ni(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),l={target:s,expiry:i};this.expirations.set(s,l),this.checkExpiry(s,l),this.events.emit(Os.created,{target:s,expiration:l})}),ni(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),ni(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Os.deleted,{target:i,expiration:s})}}),ni(this,"on",(r,i)=>{this.events.on(r,i)}),ni(this,"once",(r,i)=>{this.events.once(r,i)}),ni(this,"off",(r,i)=>{this.events.off(r,i)}),ni(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=cs(n,this.name)}get context(){return ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return qse(e);if(typeof e=="number")return Wse(e);const{message:n}=Pe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Os.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Ue.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Os.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Au.pulse,()=>this.checkExpirations()),this.events.on(Os.created,e=>{const n=Os.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Os.expired,e=>{const n=Os.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Os.deleted,e=>{const n=Os.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}};var rme=Object.defineProperty,ime=(t,e,n)=>e in t?rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tr=(t,e,n)=>ime(t,typeof e!="symbol"?e+"":e,n);let sme=class extends Mue{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,tr(this,"name",she),tr(this,"abortController"),tr(this,"isDevEnv"),tr(this,"verifyUrlV3",ohe),tr(this,"storagePrefix",Ba),tr(this,"version",hM),tr(this,"publicKey"),tr(this,"fetchPromise"),tr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ue.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),tr(this,"register",async i=>{if(!wh()||this.isDevEnv)return;const s=window.location.origin,{id:l,decryptedId:c}=i,d=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${l}&decryptedId=${c}`;try{const f=Bo.getDocument(),p=this.startAbortTimer(Ue.ONE_SECOND*5),m=await new Promise((g,y)=>{const b=()=>{window.removeEventListener("message",E),f.body.removeChild(_),y("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const _=f.createElement("iframe");_.src=d,_.style.display="none",_.addEventListener("error",b,{signal:this.abortController.signal});const E=k=>{if(k.data&&typeof k.data=="string")try{const D=JSON.parse(k.data);if(D.type==="verify_attestation"){if(CS(D.attestation).payload.id!==l)return;clearInterval(p),f.body.removeChild(_),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",E),g(D.attestation===null?"":D.attestation)}}catch(D){this.logger.warn(D)}};f.body.appendChild(_),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug(m,"jwt attestation"),m}catch(f){this.logger.warn(f)}return""}),tr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:l,encryptedId:c}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(CS(s).payload.id!==c)return;const f=await this.isValidJwtAttestation(s);if(f){if(!f.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return f}}if(!l)return;const d=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(l,d)}),tr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const l=this.startAbortTimer(Ue.ONE_SECOND*5),c=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(l),c.status===200?await c.json():void 0}),tr(this,"getVerifyUrl",i=>{let s=i||vp;return lhe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${vp}`),s=vp),s}),tr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ue.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),tr(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),tr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),tr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const l=await this.fetchAndPersistPublicKey();try{if(l)return this.validateAttestation(i,l)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),tr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),tr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const l=await this.fetchPublicKey();l&&(await this.persistPublicKey(l),s(l))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),tr(this,"validateAttestation",(i,s)=>{const l=Lle(i,s.publicKey),c={hasExpired:Ue.toMiliseconds(l.exp)<Date.now(),payload:l};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=cs(n,this.name),this.abortController=new AbortController,this.isDevEnv=H2(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ji(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ue.toMiliseconds(e))}};var ame=Object.defineProperty,ome=(t,e,n)=>e in t?ame(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f8=(t,e,n)=>ome(t,typeof e!="symbol"?e+"":e,n);let lme=class extends Lue{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,f8(this,"context",che),f8(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:l,enableEncrypted:c=!1}=r,d=`${uhe}/${this.projectId}/clients`;await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:l,token:s,always_raw:c})})}),this.logger=cs(n,this.context)}};var cme=Object.defineProperty,p8=Object.getOwnPropertySymbols,ume=Object.prototype.hasOwnProperty,dme=Object.prototype.propertyIsEnumerable,nA=(t,e,n)=>e in t?cme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mf=(t,e)=>{for(var n in e||(e={}))ume.call(e,n)&&nA(t,n,e[n]);if(p8)for(var n of p8(e))dme.call(e,n)&&nA(t,n,e[n]);return t},Cr=(t,e,n)=>nA(t,typeof e!="symbol"?e+"":e,n);let hme=class extends Bue{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Cr(this,"context",hhe),Cr(this,"storagePrefix",Ba),Cr(this,"storageVersion",dhe),Cr(this,"events",new Map),Cr(this,"shouldPersist",!1),Cr(this,"init",async()=>{if(!H2())try{const i={eventId:zR(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:t$(this.core.relayer.protocol,this.core.relayer.version,GS)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Cr(this,"createEvent",i=>{const{event:s="ERROR",type:l="",properties:{topic:c,trace:d}}=i,f=zR(),p=this.core.projectId||"",m=Date.now(),g=Mf({eventId:f,timestamp:m,props:{event:s,type:l,properties:{topic:c,trace:d}},bundleId:p,domain:this.getAppDomain()},this.setMethods(f));return this.telemetryEnabled&&(this.events.set(f,g),this.shouldPersist=!0),g}),Cr(this,"getEvent",i=>{const{eventId:s,topic:l}=i;if(s)return this.events.get(s);const c=Array.from(this.events.values()).find(d=>d.props.properties.topic===l);if(c)return Mf(Mf({},c),this.setMethods(c.eventId))}),Cr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Cr(this,"setEventListeners",()=>{this.core.heartbeat.on(Au.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ue.fromMiliseconds(Date.now())-Ue.fromMiliseconds(i.timestamp)>fhe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Cr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Cr(this,"addTrace",(i,s)=>{const l=this.events.get(i);l&&(l.props.properties.trace.push(s),this.events.set(i,l),this.shouldPersist=!0)}),Cr(this,"setError",(i,s)=>{const l=this.events.get(i);l&&(l.props.type=s,l.timestamp=Date.now(),this.events.set(i,l),this.shouldPersist=!0)}),Cr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Cr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Mf(Mf({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Cr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,l]of this.events)l.props.type&&i.push(l);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Cr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${phe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${GS}${s}`,{method:"POST",body:JSON.stringify(i)})}),Cr(this,"getAppDomain",()=>e$().url),this.logger=cs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var fme=Object.defineProperty,m8=Object.getOwnPropertySymbols,pme=Object.prototype.hasOwnProperty,mme=Object.prototype.propertyIsEnumerable,rA=(t,e,n)=>e in t?fme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g8=(t,e)=>{for(var n in e||(e={}))pme.call(e,n)&&rA(t,n,e[n]);if(m8)for(var n of m8(e))mme.call(e,n)&&rA(t,n,e[n]);return t},yn=(t,e,n)=>rA(t,typeof e!="symbol"?e+"":e,n);let gme=class CM extends xue{constructor(e){var n;super(e),yn(this,"protocol",dM),yn(this,"version",hM),yn(this,"name",KS),yn(this,"relayUrl"),yn(this,"projectId"),yn(this,"customStoragePrefix"),yn(this,"events",new ls.EventEmitter),yn(this,"logger"),yn(this,"heartbeat"),yn(this,"relayer"),yn(this,"crypto"),yn(this,"storage"),yn(this,"history"),yn(this,"expirer"),yn(this,"pairing"),yn(this,"verify"),yn(this,"echoClient"),yn(this,"linkModeSupportedApps"),yn(this,"eventClient"),yn(this,"initialized",!1),yn(this,"logChunkController"),yn(this,"on",(c,d)=>this.events.on(c,d)),yn(this,"once",(c,d)=>this.events.once(c,d)),yn(this,"off",(c,d)=>this.events.off(c,d)),yn(this,"removeListener",(c,d)=>this.events.removeListener(c,d)),yn(this,"dispatchEnvelope",({topic:c,message:d,sessionExists:f})=>{if(!c||!d)return;const p={topic:c,message:d,publishedAt:Date.now(),transportType:xn.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:f})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||pM,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=_se({level:typeof e?.logger=="string"&&e.logger?e.logger:Ude.logger,name:KS}),{logger:s,chunkLoggerController:l}=JU({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=l,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,d;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((d=this.logChunkController)==null||d.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=cs(s,this.name),this.heartbeat=new Gce,this.crypto=new qfe(this,this.logger,e?.keychain),this.history=new Qpe(this,this.logger),this.expirer=new nme(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Sue(g8(g8({},$de),e?.storageOptions)),this.relayer=new gpe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Zpe(this,this.logger),this.verify=new sme(this,this.logger,this.storage),this.echoClient=new lme(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new hme(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new CM(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Zde,r),n}get context(){return ji(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(GD,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(GD)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Pde.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const yme=gme,IM="wc",OM=2,kM="client",oT=`${IM}@${OM}:${kM}:`,V1={name:kM,logger:"error"},y8="WALLETCONNECT_DEEPLINK_CHOICE",wme="proposal",w8="Proposal expired",bme="session",Sd=Ue.SEVEN_DAYS,vme="engine",Fr={wc_sessionPropose:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ue.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ue.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1119}}},K1={min:Ue.FIVE_MINUTES,max:Ue.SEVEN_DAYS},va={idle:"IDLE",active:"ACTIVE"},_me={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Eme="request",Sme=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ame="wc",Tme="auth",xme="authKeys",Cme="pairingTopics",Ime="requests",Kb=`${Ame}@${1.5}:${Tme}:`,qy=`${Kb}:PUB_KEY`;var Ome=Object.defineProperty,kme=Object.defineProperties,Rme=Object.getOwnPropertyDescriptors,b8=Object.getOwnPropertySymbols,Dme=Object.prototype.hasOwnProperty,Nme=Object.prototype.propertyIsEnumerable,iA=(t,e,n)=>e in t?Ome(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rn=(t,e)=>{for(var n in e||(e={}))Dme.call(e,n)&&iA(t,n,e[n]);if(b8)for(var n of b8(e))Nme.call(e,n)&&iA(t,n,e[n]);return t},ri=(t,e)=>kme(t,Rme(e)),Te=(t,e,n)=>iA(t,typeof e!="symbol"?e+"":e,n);let Pme=class extends que{constructor(e){super(e),Te(this,"name",vme),Te(this,"events",new C2),Te(this,"initialized",!1),Te(this,"requestQueue",{state:va.idle,queue:[]}),Te(this,"sessionRequestQueue",{state:va.idle,queue:[]}),Te(this,"emittedSessionRequests",new Qse({limit:500})),Te(this,"requestQueueDelay",Ue.ONE_SECOND),Te(this,"expectedPairingMethodMap",new Map),Te(this,"recentlyDeletedMap",new Map),Te(this,"recentlyDeletedLimit",200),Te(this,"relayMessageCache",[]),Te(this,"pendingSessions",new Map),Te(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Fr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ue.toMiliseconds(this.requestQueueDelay)))}),Te(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ri(rn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=ace(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:l,sessionProperties:c,scopedProperties:d,relays:f}=r;let p=i,m,g=!1;try{if(p){const C=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=C.active}}catch(C){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),C}if(!p||!g){const{topic:C,uri:U}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=C,m=U}if(!p){const{message:C}=Pe("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(C)}const y=await this.client.core.crypto.generateKeyPair(),b=Fr.wc_sessionPropose.req.ttl||Ue.FIVE_MINUTES,_=rr(b),E=ri(rn(rn({requiredNamespaces:s,optionalNamespaces:l,relays:f??[{protocol:fM}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:_,pairingTopic:p},c&&{sessionProperties:c}),d&&{scopedProperties:d}),{id:Ta()}),k=en("session_connect",E.id),{reject:D,resolve:x,done:T}=Lc(b,w8),O=({id:C})=>{C===E.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(E.id),this.events.emit(k,{error:{message:w8,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(k,({error:C,session:U})=>{this.client.events.off("proposal_expire",O),C?D(C):U&&x(U)}),await this.sendProposeSession({proposal:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:E.id}}}),await this.setProposal(E.id,E),{uri:m,approval:T}}),Te(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Te(this,"approve",async n=>{var r,i,s;const l=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Gs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(B){throw l.setError(Nc.no_internet_connection),B}try{await this.isValidProposalId(n?.id)}catch(B){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),l.setError(Nc.proposal_not_found),B}try{await this.isValidApprove(n)}catch(B){throw this.client.logger.error("approve() -> isValidApprove() failed"),l.setError(Nc.session_approve_namespace_validation_failure),B}const{id:c,relayProtocol:d,namespaces:f,sessionProperties:p,scopedProperties:m,sessionConfig:g}=n,y=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:l.eventId});const{pairingTopic:b,proposer:_,requiredNamespaces:E,optionalNamespaces:k}=y;let D=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});D||(D=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Gs.session_approve_started,properties:{topic:b,trace:[Gs.session_approve_started,Gs.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),T=_.publicKey,O=await this.client.core.crypto.generateSharedKey(x,T),C=rn(rn(rn({relay:{protocol:d??"irn"},namespaces:f,controller:{publicKey:x,metadata:this.client.metadata},expiry:rr(Sd)},p&&{sessionProperties:p}),m&&{scopedProperties:m}),g&&{sessionConfig:g}),U=xn.relay;D.addTrace(Gs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:U,internal:{skipSubscribe:!0}})}catch(B){throw D.setError(Nc.subscribe_session_topic_failure),B}D.addTrace(Gs.subscribe_session_topic_success);const z=ri(rn({},C),{topic:O,requiredNamespaces:E,optionalNamespaces:k,pairingTopic:b,acknowledged:!1,self:C.controller,peer:{publicKey:_.publicKey,metadata:_.metadata},controller:x,transportType:xn.relay});await this.client.session.set(O,z),D.addTrace(Gs.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:y,pairingProposalResponse:{relay:{protocol:d??"irn"},responderPublicKey:x},sessionSettleRequest:C,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:c}}}),D.addTrace(Gs.session_approve_publish_success)}catch(B){throw this.client.logger.error(B),this.client.session.delete(O,Cn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),B}return this.client.core.eventClient.deleteEvent({eventId:D.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:_.metadata}),await this.deleteProposal(c),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(O,rr(Sd)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),Te(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(l){throw this.client.logger.error("reject() -> isValidReject() failed"),l}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(l){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),l}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Fr.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Te(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(m){throw this.client.logger.error("update() -> isValidUpdate() failed"),m}const{topic:r,namespaces:i}=n,{done:s,resolve:l,reject:c}=Lc(),d=Ta(),f=Zl().toString(),p=this.client.session.get(r).namespaces;return this.events.once(en("session_update",d),({error:m})=>{m?c(m):l()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:d,relayRpcId:f}).catch(m=>{this.client.logger.error(m),this.client.session.update(r,{namespaces:p}),c(m)}),{acknowledged:s}}),Te(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(d){throw this.client.logger.error("extend() -> isValidExtend() failed"),d}const{topic:r}=n,i=Ta(),{done:s,resolve:l,reject:c}=Lc();return this.events.once(en("session_extend",i),({error:d})=>{d?c(d):l()}),await this.setExpiry(r,rr(Sd)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(d=>{c(d)}),{acknowledged:s}}),Te(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:s,expiry:l=Fr.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(s);c?.transportType===xn.relay&&await this.confirmOnlineStateOrThrow();const d=Ta(),f=Zl().toString(),{done:p,resolve:m,reject:g}=Lc(l,"Request expired. Please try again.");this.events.once(en("session_request",d),({error:E,result:k})=>{E?g(E):m(k)});const y="wc_sessionRequest",b=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(b)return await this.sendRequest({clientRpcId:d,relayRpcId:f,topic:s,method:y,params:{request:ri(rn({},i),{expiryTimestamp:rr(l)}),chainId:r},expiry:l,throwOnFailedPublish:!0,appLink:b}).catch(E=>g(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:d}),await p();const _={request:ri(rn({},i),{expiryTimestamp:rr(l)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:d,relayRpcId:f,topic:s,method:y,params:_,expiry:l,throwOnFailedPublish:!0,tvf:this.getTVFParams(d,_)}).catch(k=>g(k)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:d}),E()}),new Promise(async E=>{var k;if(!((k=c.sessionConfig)!=null&&k.disableDeepLink)){const D=await Gse(this.client.core.storage,y8);await Hse({id:d,topic:s,wcDeepLink:D})}E()}),p()]).then(E=>E[2])}),Te(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Gs.session_request_response_started]}});try{await this.isValidRespond(n)}catch(m){throw s.addTrace(m?.message),s.setError(Nc.session_request_response_validation_failure),m}s.addTrace(Gs.session_request_response_validation_success);const{topic:l,response:c}=n,{id:d}=c,f=this.client.session.get(l);f.transportType===xn.relay&&await this.confirmOnlineStateOrThrow();const p=this.getAppLinkIfEnabled(f.peer.metadata,f.transportType);try{s.addTrace(Gs.session_request_response_publish_started),xa(c)?await this.sendResult({id:d,topic:l,result:c.result,throwOnFailedPublish:!0,appLink:p}):Ns(c)&&await this.sendError({id:d,topic:l,error:c.error,appLink:p}),this.cleanupAfterResponse(n)}catch(m){throw s.addTrace(m?.message),s.setError(Nc.session_request_response_publish_failure),m}}),Te(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Ta(),s=Zl().toString(),{done:l,resolve:c,reject:d}=Lc();this.events.once(en("session_ping",i),({error:f})=>{f?d(f):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),l()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Te(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,l=Zl().toString(),c=Ta();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:l,clientRpcId:c})}),Te(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Cn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Pe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Te(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>cce(r,n)))),Te(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Te(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),l=s?xn.link_mode:xn.relay;l===xn.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:d="",uri:f,domain:p,nonce:m,type:g,exp:y,nbf:b,methods:_=[],expiry:E}=n,k=[...n.resources||[]],{topic:D,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:l});this.client.logger.info({message:"Generated new pairing",pairing:{topic:D,uri:x}});const T=await this.client.core.crypto.generateKeyPair(),O=By(T);if(await Promise.all([this.client.auth.authKeys.set(qy,{responseTopic:O,publicKey:T}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:D})]),await this.client.core.relayer.subscribe(O,{transportType:l}),this.client.logger.info(`sending request to new pairing topic: ${D}`),_.length>0){const{namespace:R}=Uo(c[0]);let L=uoe(R,"request",_);Ly(k)&&(L=hoe(L,k.pop())),k.push(L)}const C=E&&E>Fr.wc_sessionAuthenticate.req.ttl?E:Fr.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:g??"caip122",chains:c,statement:d,aud:f,domain:p,version:"1",nonce:m,iat:new Date().toISOString(),exp:y,nbf:b,resources:k},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:rr(C)},z={eip155:{chains:c,methods:[...new Set(["personal_sign",..._])],events:["chainChanged","accountsChanged"]}},B={requiredNamespaces:{},optionalNamespaces:z,relays:[{protocol:"irn"}],pairingTopic:D,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:rr(Fr.wc_sessionPropose.req.ttl),id:Ta()},{done:q,resolve:W,reject:K}=Lc(C,"Request expired"),H=Ta(),G=en("session_connect",B.id),A=en("session_request",H),S=async({error:R,session:L})=>{this.events.off(A,P),R?K(R):L&&W({session:L})},P=async R=>{var L,Y,Z;if(await this.deletePendingAuthRequest(H,{message:"fulfilled",code:0}),R.error){const xe=Cn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===xe.code?void 0:(this.events.off(G,S),K(R.error.message))}await this.deleteProposal(B.id),this.events.off(G,S);const{cacaos:ie,responder:ee}=R.result,se=[],Se=[];for(const xe of ie){await JR({cacao:xe,projectId:this.client.core.projectId})||(this.client.logger.error(xe,"Signature verification failed"),K(Cn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:te}=xe,Ve=Ly(te.resources),rt=[RS(te.iss)],Le=kw(te.iss);if(Ve){const st=QR(Ve),De=eD(Ve);se.push(...st),rt.push(...De)}for(const st of rt)Se.push(`${st}:${Le}`)}const Ie=await this.client.core.crypto.generateSharedKey(T,ee.publicKey);let $e;se.length>0&&($e={topic:Ie,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:rr(Sd),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:D,namespaces:xD([...new Set(se)],[...new Set(Se)]),transportType:l},await this.client.core.relayer.subscribe(Ie,{transportType:l}),await this.client.session.set(Ie,$e),D&&await this.client.core.pairing.updateMetadata({topic:D,metadata:ee.metadata}),$e=this.client.session.get(Ie)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(Y=ee.metadata.redirect)!=null&&Y.linkMode&&(Z=ee.metadata.redirect)!=null&&Z.universal&&r&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(Ie,{transportType:xn.link_mode})),W({auths:ie,session:$e})};this.events.once(G,S),this.events.once(A,P);let $;try{if(s){const R=ta("wc_sessionAuthenticate",U,H);this.client.core.history.set(D,R);const L=await this.client.core.crypto.encode("",R,{type:hm,encoding:Wl});$=dy(r,D,L)}else await Promise.all([this.sendRequest({topic:D,method:"wc_sessionAuthenticate",params:U,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:H}),this.sendRequest({topic:D,method:"wc_sessionPropose",params:B,expiry:Fr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:B.id})])}catch(R){throw this.events.off(G,S),this.events.off(A,P),R}return await this.setProposal(B.id,B),await this.setAuthRequest(H,{request:ri(rn({},U),{verifyContext:{}}),pairingTopic:D,transportType:l}),{uri:$??x,response:q}}),Te(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Pc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(Uf.no_internet_connection),E}const l=this.getPendingAuthRequest(r);if(!l)throw s.setError(Uf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=l.transportType||xn.relay;c===xn.relay&&await this.confirmOnlineStateOrThrow();const d=l.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=By(d),m={type:$o,receiverPublicKey:d,senderPublicKey:f},g=[],y=[];for(const E of i){if(!await JR({cacao:E,projectId:this.client.core.projectId})){s.setError(Uf.invalid_cacao);const O=Cn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:O,encodeOpts:m}),new Error(O.message)}s.addTrace(Pc.cacaos_verified);const{p:k}=E,D=Ly(k.resources),x=[RS(k.iss)],T=kw(k.iss);if(D){const O=QR(D),C=eD(D);g.push(...O),x.push(...C)}for(const O of x)y.push(`${O}:${T}`)}const b=await this.client.core.crypto.generateSharedKey(f,d);s.addTrace(Pc.create_authenticated_session_topic);let _;if(g?.length>0){_={topic:b,acknowledged:!0,self:{publicKey:f,metadata:this.client.metadata},peer:{publicKey:d,metadata:l.requester.metadata},controller:d,expiry:rr(Sd),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:l.pairingTopic,namespaces:xD([...new Set(g)],[...new Set(y)]),transportType:c},s.addTrace(Pc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:c})}catch(E){throw s.setError(Uf.subscribe_authenticated_session_topic_failure),E}s.addTrace(Pc.subscribe_authenticated_session_topic_success),await this.client.session.set(b,_),s.addTrace(Pc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:l.pairingTopic,metadata:l.requester.metadata})}s.addTrace(Pc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:i,responder:{publicKey:f,metadata:this.client.metadata}},encodeOpts:m,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(l.requester.metadata,c)})}catch(E){throw s.setError(Uf.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:l.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:_}}),Te(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===xn.relay&&await this.confirmOnlineStateOrThrow();const l=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),d=By(l),f={type:$o,receiverPublicKey:l,senderPublicKey:c};await this.sendError({id:r,topic:d,error:i,encodeOpts:f,rpcOpts:Fr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Te(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return b$(r,i)}),Te(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Te(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var l,c;return((l=s.peerMetadata)==null?void 0:l.url)&&((c=s.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Te(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:l=!0,id:c=0}=n,{self:d}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Cn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(d.publicKey)&&await this.client.core.crypto.deleteKeyPair(d.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(y8).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===i&&this.deletePendingSessionRequest(f.id,Cn("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=va.idle),l&&this.client.events.emit("session_delete",{id:c,topic:i})}),Te(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Nc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Cn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Te(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=va.idle,this.client.events.emit("session_request_expire",{id:n}))}),Te(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Te(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Te(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,rr(Fr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Te(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:l=xn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:l})}),Te(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:l}=n,c=s.request.expiryTimestamp||rr(Fr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:l})}),Te(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:l,relayRpcId:c,clientRpcId:d,throwOnFailedPublish:f,appLink:p,tvf:m,publishOpts:g={}}=n,y=ta(i,s,d);let b;const _=!!p;try{const D=_?Wl:Pi;b=await this.client.core.crypto.encode(r,y,{encoding:D})}catch(D){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),D}let E;if(Sme.includes(i)){const D=Ds(JSON.stringify(y)),x=Ds(b);E=await this.client.core.verify.register({id:x,decryptedId:D})}const k=rn(rn({},Fr[i].req),g);if(k.attestation=E,l&&(k.ttl=l),c&&(k.id=c),this.client.core.history.set(r,y),_){const D=dy(p,r,b);await global.Linking.openURL(D,this.client.name)}else k.tvf=ri(rn({},m),{correlationId:y.id}),f?(k.internal=ri(rn({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,k)):this.client.core.relayer.publish(r,b,k).catch(D=>this.client.logger.error(D));return y.id}),Te(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=ta("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const l=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Pi}),c=Ds(JSON.stringify(s)),d=Ds(l),f=await this.client.core.verify.register({id:d,decryptedId:c});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:l},opts:ri(rn({},i),{publishMethod:"wc_proposeSession",attestation:f})})}),Te(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:l,publishOpts:c}=n,d=Bp(s.id,i),f=await this.client.core.crypto.encode(s.pairingTopic,d,{encoding:Pi}),p=ta("wc_sessionSettle",l,c?.id),m=await this.client.core.crypto.encode(r,p,{encoding:Pi});this.client.core.history.set(r,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:f,sessionSettlementRequest:m},opts:ri(rn({},c),{publishMethod:"wc_approveSession"})})}),Te(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:l,encodeOpts:c,appLink:d}=n,f=Bp(r,s);let p;const m=d&&typeof(global==null?void 0:global.Linking)<"u";try{const b=m?Wl:Pi;p=await this.client.core.crypto.encode(i,f,ri(rn({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let g,y;try{g=await this.client.core.history.get(i,r);const b=g.request;try{y=this.getTVFParams(r,b.params,s)}catch(_){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${_?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(m){const b=dy(d,i,p);await global.Linking.openURL(b,this.client.name)}else{const b=g.request.method,_=Fr[b].res;_.tvf=ri(rn({},y),{correlationId:r}),l?(_.internal=ri(rn({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,p,_)):this.client.core.relayer.publish(i,p,_).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(f)}),Te(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:l,rpcOpts:c,appLink:d}=n,f=Wb(r,s);let p;const m=d&&typeof(global==null?void 0:global.Linking)<"u";try{const y=m?Wl:Pi;p=await this.client.core.crypto.encode(i,f,ri(rn({},l||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),y}let g;try{g=await this.client.core.history.get(i,r)}catch(y){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),y}if(m){const y=dy(d,i,p);await global.Linking.openURL(y,this.client.name)}else{const y=g.request.method,b=c||Fr[y].res;this.client.core.relayer.publish(i,p,b)}await this.client.core.history.resolve(f)}),Te(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ia(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ia(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Te(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Te(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Te(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===va.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=va.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=va.idle}),Te(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:l,encryptedId:c}=n,d=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:d}))switch(d){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:l});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:l});default:return this.client.logger.info(`Unsupported request method ${d}`)}}),Te(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,l=(await this.client.core.history.get(r,i.id)).request.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${l}`)}}),Te(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Pe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Te(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Te(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:l}=n,{params:c,id:d}=i;try{const f=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),f?.setError(wo.proposal_listener_not_found)),this.isValidConnect(rn({},i.params));const p=c.expiryTimestamp||rr(Fr.wc_sessionPropose.req.ttl),m=rn({id:d,pairingTopic:r,expiryTimestamp:p,attestation:s,encryptedId:l},c);await this.setProposal(d,m);const g=await this.getVerifyContext({attestationId:s,hash:Ds(JSON.stringify(i)),encryptedId:l,metadata:m.proposer.metadata});f?.addTrace(Aa.emit_session_proposal),this.client.events.emit("session_proposal",{id:d,params:m,verifyContext:g})}catch(f){await this.sendError({id:d,topic:r,error:f,rpcOpts:Fr.wc_sessionPropose.autoReject}),this.client.logger.error(f)}}),Te(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(xa(r)){const{result:l}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:l});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const d=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const f=l.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const p=await this.client.core.crypto.generateSharedKey(d,f);this.pendingSessions.set(s,{sessionTopic:p,pairingTopic:n,proposalId:s,publicKey:d});const m=await this.client.core.relayer.subscribe(p,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:n})}else if(Ns(r)){await this.deleteProposal(s);const l=en("session_connect",s);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners, 954`);this.events.emit(l,{error:r.error})}}),Te(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:l,controller:c,expiry:d,namespaces:f,sessionProperties:p,scopedProperties:m,sessionConfig:g}=r.params,y=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!y)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(y.proposalId),_=ri(rn(rn(rn({topic:n,relay:l,expiry:d,namespaces:f,acknowledged:!0,pairingTopic:y.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:c.publicKey,self:{publicKey:y.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},p&&{sessionProperties:p}),m&&{scopedProperties:m}),g&&{sessionConfig:g}),{transportType:xn.relay});await this.client.session.set(_.topic,_),await this.setExpiry(_.topic,_.expiry),await this.client.core.pairing.updateMetadata({topic:y.pairingTopic,metadata:_.peer.metadata}),this.client.events.emit("session_connect",{session:_}),this.events.emit(en("session_connect",y.proposalId),{session:_}),this.pendingSessions.delete(y.proposalId),this.deleteProposal(y.proposalId,!1),this.cleanupDuplicatePairings(_),await this.sendResult({id:r.id,topic:n,result:!0})}catch(l){await this.sendError({id:i,topic:n,error:l}),this.client.logger.error(l)}}),Te(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;xa(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(en("session_approve",i),{})):Ns(r)&&(await this.client.session.delete(n,Cn("USER_DISCONNECTED")),this.events.emit(en("session_approve",i),{error:r.error}))}),Te(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const l=`${n}_session_update`,c=Nf.get(l);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Cn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(rn({topic:n},i));try{Nf.set(l,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(d){throw Nf.delete(l),d}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(l){await this.sendError({id:s,topic:n,error:l}),this.client.logger.error(l)}}),Te(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Te(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=en("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);xa(r)?this.events.emit(en("session_update",i),{}):Ns(r)&&this.events.emit(en("session_update",i),{error:r.error})}),Te(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,rr(Sd)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Te(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=en("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);xa(r)?this.events.emit(en("session_extend",i),{}):Ns(r)&&this.events.emit(en("session_extend",i),{error:r.error})}),Te(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Te(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=en("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);xa(r)?this.events.emit(en("session_ping",i),{}):Ns(r)&&this.events.emit(en("session_ping",i),{error:r.error})},500)}),Te(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Vn.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Cn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Te(this,"onSessionRequest",async n=>{var r,i,s;const{topic:l,payload:c,attestation:d,encryptedId:f,transportType:p}=n,{id:m,params:g}=c;try{await this.isValidRequest(rn({topic:l},g));const y=this.client.session.get(l),b=await this.getVerifyContext({attestationId:d,hash:Ds(JSON.stringify(ta("wc_sessionRequest",g,m))),encryptedId:f,metadata:y.peer.metadata,transportType:p}),_={id:m,topic:l,params:g,verifyContext:b};await this.setPendingSessionRequest(_),p===xn.link_mode&&(r=y.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=y.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(_):(this.addSessionRequestToSessionRequestQueue(_),this.processSessionRequestQueue())}catch(y){await this.sendError({id:m,topic:l,error:y}),this.client.logger.error(y)}}),Te(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=en("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);xa(r)?this.events.emit(en("session_request",i),{result:r.result}):Ns(r)&&this.events.emit(en("session_request",i),{error:r.error})}),Te(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const l=`${n}_session_event_${s.event.name}`,c=Nf.get(l);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(rn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Nf.set(l,i)}catch(l){await this.sendError({id:i,topic:n,error:l}),this.client.logger.error(l)}}),Te(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),xa(r)?this.events.emit(en("session_request",i),{result:r.result}):Ns(r)&&this.events.emit(en("session_request",i),{error:r.error})}),Te(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:l,encryptedId:c,transportType:d}=n;try{const{requester:f,authPayload:p,expiryTimestamp:m}=s.params,g=await this.getVerifyContext({attestationId:l,hash:Ds(JSON.stringify(s)),encryptedId:c,metadata:f.metadata,transportType:d}),y={requester:f,pairingTopic:i,id:s.id,authPayload:p,verifyContext:g,expiryTimestamp:m};await this.setAuthRequest(s.id,{request:y,pairingTopic:i,transportType:d}),d===xn.link_mode&&(r=f.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(f.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:g})}catch(f){this.client.logger.error(f);const p=s.params.requester.publicKey,m=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(s.params.requester.metadata,d),y={type:$o,receiverPublicKey:p,senderPublicKey:m};await this.sendError({id:s.id,topic:i,error:f,encodeOpts:y,rpcOpts:Fr.wc_sessionAuthenticate.autoReject,appLink:g})}}),Te(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Te(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=va.idle,this.processSessionRequestQueue()},Ue.toMiliseconds(this.requestQueueDelay))}),Te(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const l=s.request.id,c=en("session_request",l);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(en("session_request",s.request.id),{error:r})})}),Te(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===va.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Te(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=va.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Te(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ta("wc_sessionPropose",ri(rn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Te(this,"isValidConnect",async n=>{if(!ki(n)){const{message:f}=Pe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(f)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:l,scopedProperties:c,relays:d}=n;if(br(r)||await this.isValidPairingTopic(r),!_ce(d)){const{message:f}=Pe("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(f)}if(i&&!br(i)&&Pa(i)!==0){const f="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(f):this.client.logger.warn(f),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!br(s)&&Pa(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),l&&!br(l)&&this.validateSessionProps(l,"sessionProperties"),c&&!br(c)){this.validateSessionProps(c,"scopedProperties");const f=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(c).every(p=>f.includes(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(f)}`)}}),Te(this,"validateNamespaces",(n,r)=>{const i=vce(n,"connect()",r);if(i)throw new Error(i.message)}),Te(this,"isValidApprove",async n=>{if(!ki(n))throw new Error(Pe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:l,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const d=this.client.proposal.get(r),f=L1(i,"approve()");if(f)throw new Error(f.message);const p=OD(d.requiredNamespaces,i,"approve()");if(p)throw new Error(p.message);if(!or(s,!0)){const{message:m}=Pe("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(m)}if(l&&!br(l)&&this.validateSessionProps(l,"sessionProperties"),c&&!br(c)){this.validateSessionProps(c,"scopedProperties");const m=new Set(Object.keys(i));if(!Object.keys(c).every(g=>m.has(g.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(m).join(", ")}`)}}),Te(this,"isValidReject",async n=>{if(!ki(n)){const{message:s}=Pe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Sce(i)){const{message:s}=Pe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Te(this,"isValidSessionSettleRequest",n=>{if(!ki(n)){const{message:f}=Pe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(f)}const{relay:r,controller:i,namespaces:s,expiry:l}=n;if(!nM(r)){const{message:f}=Pe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const c=pce(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);const d=L1(s,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(Ia(l)){const{message:f}=Pe("EXPIRED","onSessionSettleRequest()");throw new Error(f)}}),Te(this,"isValidUpdate",async n=>{if(!ki(n)){const{message:d}=Pe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(d)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),l=L1(i,"update()");if(l)throw new Error(l.message);const c=OD(s.requiredNamespaces,i,"update()");if(c)throw new Error(c.message)}),Te(this,"isValidExtend",async n=>{if(!ki(n)){const{message:i}=Pe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Te(this,"isValidRequest",async n=>{if(!ki(n)){const{message:d}=Pe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(d)}const{topic:r,request:i,chainId:s,expiry:l}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!ID(c,s)){const{message:d}=Pe("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(d)}if(!Ace(i)){const{message:d}=Pe("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(d)}if(!Cce(c,s,i.method)){const{message:d}=Pe("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(d)}if(l&&!Rce(l,K1)){const{message:d}=Pe("MISSING_OR_INVALID",`request() expiry: ${l}. Expiry must be a number (in seconds) between ${K1.min} and ${K1.max}`);throw new Error(d)}}),Te(this,"isValidRespond",async n=>{var r;if(!ki(n)){const{message:c}=Pe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!Tce(s)){const{message:c}=Pe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(c)}const l=this.client.pendingRequest.get(s.id);if(l.topic!==i){const{message:c}=Pe("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${l.topic}, received topic: ${i}`);throw new Error(c)}}),Te(this,"isValidPing",async n=>{if(!ki(n)){const{message:i}=Pe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Te(this,"isValidEmit",async n=>{if(!ki(n)){const{message:c}=Pe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!ID(l,s)){const{message:c}=Pe("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!xce(i)){const{message:c}=Pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}if(!Ice(l,s,i.name)){const{message:c}=Pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}}),Te(this,"isValidDisconnect",async n=>{if(!ki(n)){const{message:i}=Pe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Te(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:l}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!or(i,!1))throw new Error("uri is required parameter");if(!or(s,!1))throw new Error("domain is required parameter");if(!or(l,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(d=>Uo(d).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=Uo(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Te(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:l,transportType:c}=n,d={verified:{verifyUrl:l.verifyUrl||vp,validation:"UNKNOWN",origin:l.url||""}};try{if(c===xn.link_mode){const p=this.getAppLinkIfEnabled(l,c);return d.verified.validation=p&&new URL(p).origin===new URL(l.url).origin?"VALID":"INVALID",d}const f=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:l.verifyUrl});f&&(d.verified.origin=f.origin,d.verified.isScam=f.isScam,d.verified.validation=f.origin===new URL(l.url).origin?"VALID":"INVALID")}catch(f){this.client.logger.warn(f)}return this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`),d}),Te(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:l}=Pe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(l)}})}),Te(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Te(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const l of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(l)}}}),Te(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Pe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Te(this,"isLinkModeEnabled",(n,r)=>{var i,s,l,c,d,f,p,m,g;return!n||r!==xn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==void 0&&((f=(d=this.client.metadata)==null?void 0:d.redirect)==null?void 0:f.universal)!==""&&((p=n?.redirect)==null?void 0:p.universal)!==void 0&&((m=n?.redirect)==null?void 0:m.universal)!==""&&((g=n?.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Te(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),Te(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=jR(n,"topic")||"",i=decodeURIComponent(jR(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:xn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Te(this,"registerLinkModeListeners",async()=>{var n;if(H2()||lc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Te(this,"getTVFParams",(n,r,i)=>{var s,l,c;if(!((s=r.request)!=null&&s.method))return{};const d={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const f=this.extractTxHashesFromResult(r.request,i);d.txHashes=f,d.contractAddresses=this.isValidContractData(r.request.params)?[(c=(l=r.request.params)==null?void 0:l[0])==null?void 0:c.to]:[]}catch(f){this.client.logger.warn(f,"Error getting TVF params")}return d}),Te(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Te(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,l=_me[s];if(s==="sui_signTransaction")return[Kae(r.transactionBytes)];if(s==="near_signTransaction")return[GR(r)];if(s==="near_signTransactions")return r.map(d=>GR(d));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Vce({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return $s(r)?r.map(d=>YR(d)):[YR(r)];if(s==="cosmos_signDirect")return[Yae(r)];if(s==="wallet_sendCalls")return Zae(r);if(typeof r=="string")return[r];const c=r[l.key];if($s(c))return s==="solana_signAllTransactions"?c.map(d=>Vae(d)):c;if(typeof c=="string")return[c]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:l}=this.client.auth.authKeys.keys.includes(qy)?this.client.auth.authKeys.get(qy):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:l,encoding:s===xn.link_mode?Wl:Pi});sT(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:s,encryptedId:Ds(r)})):Hb(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:s}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Os.expired,async e=>{const{topic:n,id:r}=r$(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Pe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Pe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Vc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Vc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!or(e,!1)){const{message:n}=Pe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ia(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Pe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!or(e,!1)){const{message:n}=Pe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Pe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ia(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Pe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Pe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(or(e,!1)){const{message:n}=Pe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Pe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Ece(e)){const{message:n}=Pe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Pe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ia(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Pe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},Ume=class extends xu{constructor(e,n){super(e,n,wme,oT),this.core=e,this.logger=n}},$me=class extends xu{constructor(e,n){super(e,n,bme,oT),this.core=e,this.logger=n}};class Mme extends xu{constructor(e,n){super(e,n,Eme,oT,r=>r.id),this.core=e,this.logger=n}}let Lme=class extends xu{constructor(e,n){super(e,n,xme,Kb,()=>qy),this.core=e,this.logger=n}};class Bme extends xu{constructor(e,n){super(e,n,Cme,Kb),this.core=e,this.logger=n}}let jme=class extends xu{constructor(e,n){super(e,n,Ime,Kb,r=>r.id),this.core=e,this.logger=n}};var zme=Object.defineProperty,Fme=(t,e,n)=>e in t?zme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G1=(t,e,n)=>Fme(t,typeof e!="symbol"?e+"":e,n);let qme=class{constructor(e,n){this.core=e,this.logger=n,G1(this,"authKeys"),G1(this,"pairingTopics"),G1(this,"requests"),this.authKeys=new Lme(this.core,this.logger),this.pairingTopics=new Bme(this.core,this.logger),this.requests=new jme(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var Wme=Object.defineProperty,Hme=(t,e,n)=>e in t?Wme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$t=(t,e,n)=>Hme(t,typeof e!="symbol"?e+"":e,n);let Vme=class RM extends Fue{constructor(e){super(e),$t(this,"protocol",IM),$t(this,"version",OM),$t(this,"name",V1.name),$t(this,"metadata"),$t(this,"core"),$t(this,"logger"),$t(this,"events",new ls.EventEmitter),$t(this,"engine"),$t(this,"session"),$t(this,"proposal"),$t(this,"pendingRequest"),$t(this,"auth"),$t(this,"signConfig"),$t(this,"on",(r,i)=>this.events.on(r,i)),$t(this,"once",(r,i)=>this.events.once(r,i)),$t(this,"off",(r,i)=>this.events.off(r,i)),$t(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),$t(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),$t(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),$t(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),$t(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),$t(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||V1.name,this.metadata=Bse(e?.metadata),this.signConfig=e?.signConfig;const n=rT({logger:e?.logger||V1.logger,name:this.name});this.logger=n,this.core=e?.core||new yme(e),this.session=new $me(this.core,this.logger),this.proposal=new Ume(this.core,this.logger),this.pendingRequest=new Mme(this.core,this.logger),this.engine=new Pme(this),this.auth=new qme(this.core,this.logger)}static async init(e){const n=new RM(e);return await n.initialize(),n}get context(){return ji(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const Kme=Vme;var fy={exports:{}},v8;function Gme(){return v8||(v8=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ca<"u"&&Ca,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(l){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ca<"u"&&Ca||{},d={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function f(A){return A&&DataView.prototype.isPrototypeOf(A)}if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(A){return A&&p.indexOf(Object.prototype.toString.call(A))>-1};function g(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function y(A){return typeof A!="string"&&(A=String(A)),A}function b(A){var S={next:function(){var P=A.shift();return{done:P===void 0,value:P}}};return d.iterable&&(S[Symbol.iterator]=function(){return S}),S}function _(A){this.map={},A instanceof _?A.forEach(function(S,P){this.append(P,S)},this):Array.isArray(A)?A.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(S){this.append(S,A[S])},this)}_.prototype.append=function(A,S){A=g(A),S=y(S);var P=this.map[A];this.map[A]=P?P+", "+S:S},_.prototype.delete=function(A){delete this.map[g(A)]},_.prototype.get=function(A){return A=g(A),this.has(A)?this.map[A]:null},_.prototype.has=function(A){return this.map.hasOwnProperty(g(A))},_.prototype.set=function(A,S){this.map[g(A)]=y(S)},_.prototype.forEach=function(A,S){for(var P in this.map)this.map.hasOwnProperty(P)&&A.call(S,this.map[P],P,this)},_.prototype.keys=function(){var A=[];return this.forEach(function(S,P){A.push(P)}),b(A)},_.prototype.values=function(){var A=[];return this.forEach(function(S){A.push(S)}),b(A)},_.prototype.entries=function(){var A=[];return this.forEach(function(S,P){A.push([P,S])}),b(A)},d.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function E(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function k(A){return new Promise(function(S,P){A.onload=function(){S(A.result)},A.onerror=function(){P(A.error)}})}function D(A){var S=new FileReader,P=k(S);return S.readAsArrayBuffer(A),P}function x(A){var S=new FileReader,P=k(S),$=/charset=([A-Za-z0-9_-]+)/.exec(A.type),R=$?$[1]:"utf-8";return S.readAsText(A,R),P}function T(A){for(var S=new Uint8Array(A),P=new Array(S.length),$=0;$<S.length;$++)P[$]=String.fromCharCode(S[$]);return P.join("")}function O(A){if(A.slice)return A.slice(0);var S=new Uint8Array(A.byteLength);return S.set(new Uint8Array(A)),S.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:d.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:d.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():d.arrayBuffer&&d.blob&&f(A)?(this._bodyArrayBuffer=O(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||m(A))?this._bodyArrayBuffer=O(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var A=E(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=E(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(D);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=E(this);if(A)return A;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(A){var S=A.toUpperCase();return U.indexOf(S)>-1?S:A}function B(A,S){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var P=S.body;if(A instanceof B){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,S.headers||(this.headers=new _(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!P&&A._bodyInit!=null&&(P=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new _(S.headers)),this.method=z(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||(function(){if("AbortController"in c){var L=new AbortController;return L.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function q(A){var S=new FormData;return A.trim().split("&").forEach(function(P){if(P){var $=P.split("="),R=$.shift().replace(/\+/g," "),L=$.join("=").replace(/\+/g," ");S.append(decodeURIComponent(R),decodeURIComponent(L))}}),S}function W(A){var S=new _,P=A.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var R=$.split(":"),L=R.shift().trim();if(L){var Y=R.join(":").trim();try{S.append(L,Y)}catch(Z){console.warn("Response "+Z.message)}}}),S}C.call(B.prototype);function K(A,S){if(!(this instanceof K))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new _(S.headers),this.url=S.url||"",this._initBody(A)}C.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},K.error=function(){var A=new K(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var H=[301,302,303,307,308];K.redirect=function(A,S){if(H.indexOf(S)===-1)throw new RangeError("Invalid status code");return new K(null,{status:S,headers:{location:A}})},l.DOMException=c.DOMException;try{new l.DOMException}catch{l.DOMException=function(S,P){this.message=S,this.name=P;var $=Error(S);this.stack=$.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function G(A,S){return new Promise(function(P,$){var R=new B(A,S);if(R.signal&&R.signal.aborted)return $(new l.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function Y(){L.abort()}L.onload=function(){var ee={statusText:L.statusText,headers:W(L.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(L.status<200||L.status>599)?ee.status=200:ee.status=L.status,ee.url="responseURL"in L?L.responseURL:ee.headers.get("X-Request-URL");var se="response"in L?L.response:L.responseText;setTimeout(function(){P(new K(se,ee))},0)},L.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){$(new l.DOMException("Aborted","AbortError"))},0)};function Z(ee){try{return ee===""&&c.location.href?c.location.href:ee}catch{return ee}}if(L.open(R.method,Z(R.url),!0),R.credentials==="include"?L.withCredentials=!0:R.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(d.blob?L.responseType="blob":d.arrayBuffer&&(L.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof _||c.Headers&&S.headers instanceof c.Headers)){var ie=[];Object.getOwnPropertyNames(S.headers).forEach(function(ee){ie.push(g(ee)),L.setRequestHeader(ee,y(S.headers[ee]))}),R.headers.forEach(function(ee,se){ie.indexOf(se)===-1&&L.setRequestHeader(se,ee)})}else R.headers.forEach(function(ee,se){L.setRequestHeader(se,ee)});R.signal&&(R.signal.addEventListener("abort",Y),L.onreadystatechange=function(){L.readyState===4&&R.signal.removeEventListener("abort",Y)}),L.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return G.polyfill=!0,c.fetch||(c.fetch=G,c.Headers=_,c.Request=B,c.Response=K),l.Headers=_,l.Request=B,l.Response=K,l.fetch=G,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(fy,fy.exports)),fy.exports}var Yme=Gme();const _8=hh(Yme);var Zme=Object.defineProperty,Xme=Object.defineProperties,Jme=Object.getOwnPropertyDescriptors,E8=Object.getOwnPropertySymbols,Qme=Object.prototype.hasOwnProperty,ege=Object.prototype.propertyIsEnumerable,S8=(t,e,n)=>e in t?Zme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A8=(t,e)=>{for(var n in e||(e={}))Qme.call(e,n)&&S8(t,n,e[n]);if(E8)for(var n of E8(e))ege.call(e,n)&&S8(t,n,e[n]);return t},T8=(t,e)=>Xme(t,Jme(e));const tge={Accept:"application/json","Content-Type":"application/json"},nge="POST",x8={headers:tge,method:nge},C8=10;let DM=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ls.EventEmitter,this.isAvailable=!1,this.registering=!1,!qD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=jo(e),r=await(await _8(this.url,T8(A8({},x8),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!qD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=jo({id:1,jsonrpc:"2.0",method:"test",params:[]});await _8(e,T8(A8({},x8),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?au(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Wb(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return oM(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>C8&&this.events.setMaxListeners(C8)}};function lT(t){return t==null||typeof t!="object"&&typeof t!="function"}function NM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function PM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const rge="[object RegExp]",UM="[object String]",$M="[object Number]",MM="[object Boolean]",LM="[object Arguments]",ige="[object Symbol]",sge="[object Date]",age="[object Map]",oge="[object Set]",lge="[object Array]",cge="[object ArrayBuffer]",uge="[object Object]",dge="[object DataView]",hge="[object Uint8Array]",fge="[object Uint8ClampedArray]",pge="[object Uint16Array]",mge="[object Uint32Array]",gge="[object Int8Array]",yge="[object Int16Array]",wge="[object Int32Array]",bge="[object Float32Array]",vge="[object Float64Array]";function cT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ge(t,e){return $d(t,void 0,t,new Map,e)}function $d(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(lT(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const l=new Array(t.length);r.set(t,l);for(let c=0;c<t.length;c++)l[c]=$d(t[c],c,n,r,i);return Object.hasOwn(t,"index")&&(l.index=t.index),Object.hasOwn(t,"input")&&(l.input=t.input),l}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const l=new RegExp(t.source,t.flags);return l.lastIndex=t.lastIndex,l}if(t instanceof Map){const l=new Map;r.set(t,l);for(const[c,d]of t)l.set(c,$d(d,c,n,r,i));return l}if(t instanceof Set){const l=new Set;r.set(t,l);for(const c of t)l.add($d(c,void 0,n,r,i));return l}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(cT(t)){const l=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,l);for(let c=0;c<t.length;c++)l[c]=$d(t[c],c,n,r,i);return l}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const l=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,l),Kc(l,t,n,r,i),l}if(typeof File<"u"&&t instanceof File){const l=new File([t],t.name,{type:t.type});return r.set(t,l),Kc(l,t,n,r,i),l}if(t instanceof Blob){const l=new Blob([t],{type:t.type});return r.set(t,l),Kc(l,t,n,r,i),l}if(t instanceof Error){const l=new t.constructor;return r.set(t,l),l.message=t.message,l.name=t.name,l.stack=t.stack,l.cause=t.cause,Kc(l,t,n,r,i),l}if(typeof t=="object"&&Ege(t)){const l=Object.create(Object.getPrototypeOf(t));return r.set(t,l),Kc(l,t,n,r,i),l}return t}function Kc(t,e,n=t,r,i){const s=[...Object.keys(e),...NM(e)];for(let l=0;l<s.length;l++){const c=s[l],d=Object.getOwnPropertyDescriptor(t,c);(d==null||d.writable)&&(t[c]=$d(e[c],c,n,r,i))}}function Ege(t){switch(PM(t)){case LM:case lge:case cge:case dge:case MM:case sge:case bge:case vge:case gge:case yge:case wge:case age:case $M:case uge:case rge:case oge:case UM:case ige:case hge:case fge:case pge:case mge:return!0;default:return!1}}function Sge(t,e){return _ge(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case $M:case UM:case MM:{const l=new t.constructor(t?.valueOf());return Kc(l,t),l}case LM:{const l={};return Kc(l,t),l.length=t.length,l[Symbol.iterator]=t[Symbol.iterator],l}default:return}})}function I8(t){return Sge(t)}function O8(t){return t!==null&&typeof t=="object"&&PM(t)==="[object Arguments]"}function k8(t){return typeof t=="object"&&t!==null}function Age(){}function Tge(t){return cT(t)}function xge(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Cge(t){if(lT(t))return t;if(Array.isArray(t)||cT(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Ige(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const l=n[s];i=sA(i,l,r,new Map)}return i}function sA(t,e,n,r){if(lT(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Cge(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...NM(e)];for(let s=0;s<i.length;s++){const l=i[s];let c=e[l],d=t[l];if(O8(c)&&(c={...c}),O8(d)&&(d={...d}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=I8(c)),Array.isArray(c))if(typeof d=="object"&&d!=null){const p=[],m=Reflect.ownKeys(d);for(let g=0;g<m.length;g++){const y=m[g];p[y]=d[y]}d=p}else d=[];const f=n(d,c,l,t,e,r);f!=null?t[l]=f:Array.isArray(c)||k8(d)&&k8(c)?t[l]=sA(d,c,n,r):d==null&&xge(c)?t[l]=sA({},c,n,r):d==null&&Tge(c)?t[l]=I8(c):(d===void 0||c!==void 0)&&(t[l]=c)}return t}function Oge(t,...e){return Ige(t,...e,Age)}const R8="error",kge="wss://relay.walletconnect.org",Rge="wc",BM="universal_provider",py=`${Rge}@2:${BM}:`,jM="https://rpc.walletconnect.org/v1/",zM="generic",Dge=`${jM}bundler`,Wd="call_status",Nge=86400,uT={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Pge=Object.defineProperty,Uge=Object.defineProperties,$ge=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,Mge=Object.prototype.hasOwnProperty,Lge=Object.prototype.propertyIsEnumerable,N8=(t,e,n)=>e in t?Pge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,my=(t,e)=>{for(var n in e||(e={}))Mge.call(e,n)&&N8(t,n,e[n]);if(D8)for(var n of D8(e))Lge.call(e,n)&&N8(t,n,e[n]);return t},Bge=(t,e)=>Uge(t,$ge(e));function FM(t,e,n){var r;const i=Uo(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${jM}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function jge(t){return t.includes(":")?t.split(":")[1]:t}function qM(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function zge(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function P8(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function gy(t={},e={}){const n=P8(U8(t)),r=P8(U8(e));return Oge(n,r)}function U8(t){var e,n,r,i,s;const l={};if(!Pa(t))return l;for(const[c,d]of Object.entries(t)){const f=qb(c)?[c]:d.chains,p=d.methods||[],m=d.events||[],g=d.rpcMap||{},y=Ud(c);l[y]=Bge(my(my({},l[y]),d),{chains:Na(f,(e=l[y])==null?void 0:e.chains),methods:Na(p,(n=l[y])==null?void 0:n.methods),events:Na(m,(r=l[y])==null?void 0:r.events)}),(Pa(g)||Pa(((i=l[y])==null?void 0:i.rpcMap)||{}))&&(l[y].rpcMap=my(my({},g),(s=l[y])==null?void 0:s.rpcMap))}return l}function $8(t){return t.includes(":")?t.split(":")[2]:t}function M8(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],l=r.accounts||[],c=qb(n)?[n]:r.chains?r.chains:qM(r.accounts);e[n]={chains:c,methods:i,events:s,accounts:l}}return e}function Y1(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function Fge(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const WM={},Hd=t=>WM[t],Z1=(t,e)=>{WM[t]=e};var qge=Object.defineProperty,L8=Object.getOwnPropertySymbols,Wge=Object.prototype.hasOwnProperty,Hge=Object.prototype.propertyIsEnumerable,B8=(t,e,n)=>e in t?qge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j8=(t,e)=>{for(var n in e||(e={}))Wge.call(e,n)&&B8(t,n,e[n]);if(L8)for(var n of L8(e))Hge.call(e,n)&&B8(t,n,e[n]);return t};const z8="eip155",Vge=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Kge=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,X1=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,F8=t=>Object.keys(t).filter(e=>Vge.includes(e)).reduce((e,n)=>(e[n]=Gge(t[n]),e),{}),Gge=t=>typeof t=="string"&&Fge(t)?JSON.parse(t):t,Yge=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Pa(i)&&!Pa(r))return;const l=F8(r);for(const c of n){const d=Kge(c);if(!d)continue;s[X1(d)]=l;const f=i?.[`${z8}:${d}`];if(f){const p=f?.[`${z8}:${d}:${e}`];s[X1(d)]=j8(j8({},s[X1(d)]),F8(p||f))}}for(const[c,d]of Object.entries(s))Object.keys(d).length===0&&delete s[c];return Object.keys(s).length>0?s:void 0};var Zge=Object.defineProperty,Xge=(t,e,n)=>e in t?Zge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jge=(t,e,n)=>Xge(t,e+"",n);let J1,Qge=class HM{constructor(e){Jge(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return J1||(J1=new HM(e)),J1}};var eye=Object.defineProperty,tye=Object.defineProperties,nye=Object.getOwnPropertyDescriptors,q8=Object.getOwnPropertySymbols,rye=Object.prototype.hasOwnProperty,iye=Object.prototype.propertyIsEnumerable,W8=(t,e,n)=>e in t?eye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sye=(t,e)=>{for(var n in e||(e={}))rye.call(e,n)&&W8(t,n,e[n]);if(q8)for(var n of q8(e))iye.call(e,n)&&W8(t,n,e[n]);return t},aye=(t,e)=>tye(t,nye(e));async function oye(t,e){const n=Uo(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(m=>lye(n.reference,m,e))),s=i.filter(m=>m.status==="fulfilled").map(m=>m.value).filter(m=>m);i.filter(m=>m.status==="rejected").forEach(m=>console.warn("Failed to fetch transaction receipt:",m.reason));const l=!s.length||s.some(m=>!m),c=s.every(m=>m?.status==="0x1"),d=s.every(m=>m?.status==="0x0"),f=s.some(m=>m?.status==="0x0");let p;return l?p=100:c?p=200:d?p=500:f&&(p=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:p}}async function lye(t,e,n){return await n(parseInt(t)).request(ta("eth_getTransactionReceipt",[e]))}async function cye({sendCalls:t,storage:e}){const n=await e.getItem(Wd);await e.setItem(Wd,aye(sye({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:rr(Nge)}}))}async function uye({resultId:t,storage:e}){const n=await e.getItem(Wd);if(n){delete n[t],await e.setItem(Wd,n);for(const r in n)Ia(n[r].expiry)&&delete n[r];await e.setItem(Wd,n)}}async function dye({resultId:t,storage:e}){const n=await e.getItem(Wd),r=n?.[t];if(r&&!Ia(r.expiry))return r;await uye({resultId:t,storage:e})}var hye=Object.defineProperty,fye=Object.defineProperties,pye=Object.getOwnPropertyDescriptors,H8=Object.getOwnPropertySymbols,mye=Object.prototype.hasOwnProperty,gye=Object.prototype.propertyIsEnumerable,aA=(t,e,n)=>e in t?hye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q1=(t,e)=>{for(var n in e||(e={}))mye.call(e,n)&&aA(t,n,e[n]);if(H8)for(var n of H8(e))gye.call(e,n)&&aA(t,n,e[n]);return t},eE=(t,e)=>fye(t,pye(e)),Uc=(t,e,n)=>aA(t,typeof e!="symbol"?e+"":e,n);class yye{constructor(e){Uc(this,"name","eip155"),Uc(this,"client"),Uc(this,"chainId"),Uc(this,"namespace"),Uc(this,"httpProviders"),Uc(this,"events"),Uc(this,"storage"),this.namespace=e.namespace,this.events=Hd("events"),this.client=Hd("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=Qge.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(uT.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||FM(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new aT(new DM(r,Hd("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(jge(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=eE(Q1({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,l;const c=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],d=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!c)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const f=this.client.session.get(e.topic),p=((l=f?.sessionProperties)==null?void 0:l.capabilities)||{},m=`${c}${d.join(",")}`,g=p?.[m];if(g)return g;let y;try{y=Yge(f,c,d)}catch(_){console.warn("Failed to extract capabilities from session",_)}if(y)return y;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:eE(Q1({},f.sessionProperties||{}),{capabilities:eE(Q1({},p||{}),{[m]:b})})})}catch(_){console.warn("Failed to update session with capabilities",_)}return b}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),l=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(l){const f=this.getBundlerUrl(e.chainId,l);try{return await this.getUserOperationReceipt(f,e)}catch(p){console.warn("Failed to fetch call status from bundler",p,f)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(f){console.warn("Failed to fetch call status from custom bundler",f,c)}const d=await dye({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(d)try{return await oye(d,this.getHttpProvider.bind(this))}catch(f){console.warn("Failed to fetch call status from stored send calls",f,d)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ta("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${Dge}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),l=(n=e.request.params)==null?void 0:n[0],c=s?.id,d=s?.capabilities||{},f=(r=d?.caip345)==null?void 0:r.caip2,p=(i=d?.caip345)==null?void 0:i.transactionHashes;return!c||!f||!(p!=null&&p.length)||await cye({sendCalls:{request:l,result:s},storage:this.storage}),s}}var wye=Object.defineProperty,bye=(t,e,n)=>e in t?wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ad=(t,e,n)=>bye(t,typeof e!="symbol"?e+"":e,n);class vye{constructor(e){Ad(this,"name",zM),Ad(this,"client"),Ad(this,"httpProviders"),Ad(this,"events"),Ad(this,"namespace"),Ad(this,"chainId"),this.namespace=e.namespace,this.events=Hd("events"),this.client=Hd("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(uT.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Uo(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,l;const c=Uo(i),d=(l=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:l[`${c.namespace}:${c.reference}`];r[c.reference]=this.createHttpProvider(i,d)}),r}getHttpProvider(e){const n=Uo(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||FM(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new aT(new DM(r,Hd("disableProviderPing")))}}var _ye=Object.defineProperty,Eye=Object.defineProperties,Sye=Object.getOwnPropertyDescriptors,V8=Object.getOwnPropertySymbols,Aye=Object.prototype.hasOwnProperty,Tye=Object.prototype.propertyIsEnumerable,oA=(t,e,n)=>e in t?_ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lf=(t,e)=>{for(var n in e||(e={}))Aye.call(e,n)&&oA(t,n,e[n]);if(V8)for(var n of V8(e))Tye.call(e,n)&&oA(t,n,e[n]);return t},yy=(t,e)=>Eye(t,Sye(e)),Cs=(t,e,n)=>oA(t,typeof e!="symbol"?e+"":e,n);class dT{constructor(e){Cs(this,"client"),Cs(this,"namespaces"),Cs(this,"optionalNamespaces"),Cs(this,"sessionProperties"),Cs(this,"scopedProperties"),Cs(this,"events",new C2),Cs(this,"rpcProviders",{}),Cs(this,"session"),Cs(this,"providerOpts"),Cs(this,"logger"),Cs(this,"uri"),Cs(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=rT({logger:(n=e.logger)!=null?n:R8,name:(r=this.providerOpts.name)!=null?r:BM}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new dT(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Lf({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(l=>n(null,Bp(s,l))).catch(l=>n(l,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Cn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const l=M8(this.session.namespaces);this.namespaces=gy(this.namespaces,l),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=M8(i.namespaces);return this.namespaces=gy(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!$s(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Kme.init({core:this.providerOpts.core,logger:this.providerOpts.logger||R8,relayUrl:this.providerOpts.relayUrl||kge,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Ud(n)))];Z1("client",this.client),Z1("events",this.events),Z1("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=zge(n,this.session);if(r?.length===0)return;const i=qM(r),s=gy(this.namespaces,this.optionalNamespaces),l=yy(Lf({},s[n]),{accounts:r,chains:i});n==="eip155"?this.rpcProviders[n]=new yye({namespace:l}):this.rpcProviders[n]=new vye({namespace:l})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const l=s.data;l&&$s(l)&&this.events.emit("accountsChanged",l.map($8))}else if(s.name==="chainChanged"){const l=r.chainId,c=r.event.data,d=Ud(l),f=Y1(l)!==Y1(c)?`${d}:${Y1(c)}`:l;this.onChainChanged({currentCaipChainId:f})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,l=(i=this.client)==null?void 0:i.session.get(e);this.session=yy(Lf({},l),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",yy(Lf({},Cn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(uT.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(yy(Lf({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[zM]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=gy(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(l=>Ud(l)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Ud(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const l=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!l)return;const c=l.filter(d=>d.includes(`${n}:`)).map($8);if(!$s(c))return;this.events.emit("accountsChanged",c)}catch(l){this.logger.warn(l,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${py}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${py}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${py}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(py)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const xye=dT,Cye="wc",Iye="ethereum_provider",Oye=`${Cye}@2:${Iye}:`,kye="https://rpc.walletconnect.org/v1/",lA=["eth_sendTransaction","personal_sign"],VM=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],cA=["chainChanged","accountsChanged"],KM=["chainChanged","accountsChanged","message","disconnect","connect"],Rye=async()=>{const{createAppKit:t}=await Me(()=>import("./core-DhOUFPfj.js").then(e=>e.a0),__vite__mapDeps([0,1,2]));return t};var Dye=Object.defineProperty,Nye=Object.defineProperties,Pye=Object.getOwnPropertyDescriptors,K8=Object.getOwnPropertySymbols,Uye=Object.prototype.hasOwnProperty,$ye=Object.prototype.propertyIsEnumerable,uA=(t,e,n)=>e in t?Dye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bc=(t,e)=>{for(var n in e||(e={}))Uye.call(e,n)&&uA(t,n,e[n]);if(K8)for(var n of K8(e))$ye.call(e,n)&&uA(t,n,e[n]);return t},Bf=(t,e)=>Nye(t,Pye(e)),Qi=(t,e,n)=>uA(t,typeof e!="symbol"?e+"":e,n);function $w(t){return Number(t[0].split(":")[1])}function wy(t){return`0x${t.toString(16)}`}function Mye(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:l,rpcMap:c}=t;if(!$s(e))throw new Error("Invalid chains");const d={chains:e,methods:r||lA,events:s||cA,rpcMap:Bc({},e.length?{[$w(e)]:c[$w(e)]}:{})},f=s?.filter(y=>!cA.includes(y)),p=r?.filter(y=>!lA.includes(y));if(!n&&!l&&!i&&!(f!=null&&f.length)&&!(p!=null&&p.length))return{required:e.length?d:void 0};const m=f?.length&&p?.length||!n,g={chains:[...new Set(m?d.chains.concat(n||[]):n)],methods:[...new Set(d.methods.concat(i!=null&&i.length?i:VM))],events:[...new Set(d.events.concat(l!=null&&l.length?l:KM))],rpcMap:c};return{required:e.length?d:void 0,optional:n.length?g:void 0}}class hT{constructor(){Qi(this,"events",new ls.EventEmitter),Qi(this,"namespace","eip155"),Qi(this,"accounts",[]),Qi(this,"signer"),Qi(this,"chainId",1),Qi(this,"modal"),Qi(this,"rpc"),Qi(this,"STORAGE_KEY",Oye),Qi(this,"on",(e,n)=>(this.events.on(e,n),this)),Qi(this,"once",(e,n)=>(this.events.once(e,n),this)),Qi(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Qi(this,"off",(e,n)=>(this.events.off(e,n),this)),Qi(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new hT;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Mye(this.rpc);try{const s=await new Promise(async(c,d)=>{var f,p;this.rpc.showQrModal&&((f=this.modal)==null||f.open(),(p=this.modal)==null||p.subscribeState(g=>{!g.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),d(new Error("Connection request reset. Please try again.")))}));const m=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Bf(Bc({namespaces:Bc({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:m})).then(g=>{c(g)}).catch(g=>{var y;(y=this.modal)==null||y.showErrorMessage("Unable to connect"),d(new Error(g.message))})});if(!s)return;const l=UR(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:l),this.setAccounts(l),this.events.emit("connect",{chainId:wy(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(l,c)=>{var d,f;this.rpc.showQrModal&&((d=this.modal)==null||d.open(),(f=this.modal)==null||f.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Bf(Bc({},e),{chains:this.rpc.chains}),n).then(p=>{l(p)}).catch(p=>{var m;(m=this.modal)==null||m.showErrorMessage("Unable to connect"),c(new Error(p.message))})}),s=i.session;if(s){const l=UR(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:l),this.setAccounts(l),this.events.emit("connect",{chainId:wy(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",wy(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Bf(Bc({},Cn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",wy(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],l=i.concat(s);if(!l.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=i.length?e?.methods||lA:[],d=i.length?e?.events||cA:[],f=e?.optionalMethods||[],p=e?.optionalEvents||[],m=e?.rpcMap||this.buildRpcMap(l,e.projectId),g=e?.qrModalOptions||void 0;return{chains:i?.map(y=>this.formatChainId(y)),optionalChains:s.map(y=>this.formatChainId(y)),methods:c,events:d,optionalMethods:f,optionalEvents:p,rpcMap:m,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:g,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?$w(this.rpc.chains):$w(this.rpc.optionalChains),this.signer=await xye.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await Rye(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return Gye}),l=s(Bf(Bc({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!l.networks.length)throw new Error("No networks found for WalletConnect");r=i(Bf(Bc({},l),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&$s(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&$s(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${kye}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const Lye=hT;var Bye=Object.defineProperty,jye=Object.defineProperties,zye=Object.getOwnPropertyDescriptors,G8=Object.getOwnPropertySymbols,Fye=Object.prototype.hasOwnProperty,qye=Object.prototype.propertyIsEnumerable,Y8=(t,e,n)=>e in t?Bye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GM=(t,e)=>{for(var n in e||(e={}))Fye.call(e,n)&&Y8(t,n,e[n]);if(G8)for(var n of G8(e))qye.call(e,n)&&Y8(t,n,e[n]);return t},Wye=(t,e)=>jye(t,zye(e));function Hye(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Vye=t=>{const[e,n]=t.split(":");return YM({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Kye(t){var e,n,r,i,s,l,c;const d=(e=t.chains)==null?void 0:e.map(Vye).filter(Boolean);if(d.length===0)throw new Error("At least one chain must be specified");const f=d.find(m=>{var g;return m.id===((g=t.defaultChain)==null?void 0:g.id)}),p={projectId:t.projectId,networks:d,themeMode:t.themeMode,themeVariables:Hye(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:f,metadata:Wye(GM({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((l=t.mobileWallets)!=null&&l.length||(c=t.desktopWallets)!=null&&c.length){const m=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],g=[...p.featuredWalletIds||[],...p.excludeWalletIds||[]],y=m.filter(b=>!g.includes(b.id));y.length&&(p.customWallets=y)}return p}function YM(t){return GM({formatters:void 0,fees:void 0,serializers:void 0},t)}var Gye=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Kye,defineChain:YM});const Yye=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[l,c]of Object.entries(n))c!==void 0&&i.searchParams.set(l,c);let s=Object.entries(r);if(s.length>0){let l=new URLSearchParams;for(let[c,d]of s)d!==void 0&&l.append(c,d);i.hash=l.toString()}return i.href},ZM=F.createContext({plugins:{current:{}}}),Zye=({children:t,configPlugins:e})=>{let n=F.useRef({});return F.useEffect((()=>{if(e&&e.length!==0){for(let r of e)n.current[r.id]=r;return()=>{for(let r of e)delete n.current[r.id]}}}),[e]),ae.jsx(ZM.Provider,{value:{plugins:n},children:t})},Xye=()=>{let{plugins:t}=F.useContext(ZM);return F.useCallback((e=>t.current[e]),[t])},Z8=Symbol("data-suffix-plugin");var Jye=Object.defineProperty,fT=(t,e)=>{for(var n in e)Jye(t,n,{get:e[n],enumerable:!0})},Qye={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},ewe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}],Ft;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const l of i)s[l]=l;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of s)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.push(l);return s},t.find=(i,s)=>{for(const l of i)if(s(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ft||(Ft={}));var X8;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(X8||(X8={}));const He=Ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$l=t=>{switch(typeof t){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(t)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(t)?He.array:t===null?He.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?He.promise:typeof Map<"u"&&t instanceof Map?He.map:typeof Set<"u"&&t instanceof Set?He.set:typeof Date<"u"&&t instanceof Date?He.date:He.object;default:return He.unknown}},ke=Ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return i(this),r}static assert(e){if(!(e instanceof Fo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fo.create=t=>new Fo(t);const dA=(t,e)=>{let n;switch(t.code){case ke.invalid_type:t.received===He.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ke.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ft.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ft.joinValues(t.keys,", ")}`;break;case ke.invalid_union:n="Invalid input";break;case ke.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ft.joinValues(t.options)}`;break;case ke.invalid_enum_value:n=`Invalid enum value. Expected ${Ft.joinValues(t.options)}, received '${t.received}'`;break;case ke.invalid_arguments:n="Invalid function arguments";break;case ke.invalid_return_type:n="Invalid function return type";break;case ke.invalid_date:n="Invalid date";break;case ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ke.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ke.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ke.custom:n="Invalid input";break;case ke.invalid_intersection_types:n="Intersection results could not be merged";break;case ke.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ke.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ft.assertNever(t)}return{message:n}};let twe=dA;function nwe(){return twe}const rwe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],l={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)c=f(l,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function je(t,e){const n=nwe(),r=rwe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dA?void 0:dA].filter(i=>!!i)});t.common.issues.push(r)}class gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ct;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,l=await i.value;r.push({key:s,value:l})}return gi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:l}=i;if(s.status==="aborted"||l.status==="aborted")return ct;s.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[s.value]=l.value)}return{status:e.value,value:r}}}const ct=Object.freeze({status:"aborted"}),ip=t=>({status:"dirty",value:t}),js=t=>({status:"valid",value:t}),J8=t=>t.status==="aborted",Q8=t=>t.status==="dirty",ih=t=>t.status==="valid",Mw=t=>typeof Promise<"u"&&t instanceof Promise;var Je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Je||(Je={}));class ja{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eN=(t,e)=>{if(ih(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fo(t.common.issues);return this._error=n,this._error}}};function Et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:i}}class Dt{get description(){return this._def.description}_getType(e){return $l(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:$l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gi,ctx:{common:e.parent.common,data:e.data,parsedType:$l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Mw(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)},i=this._parseSync({data:e,path:r.path,parent:r});return eN(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return ih(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>ih(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$l(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Mw(i)?i:Promise.resolve(i));return eN(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const l=e(i),c=()=>s.addIssue({code:ke.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new fu({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mo.create(this,this._def)}nullable(){return pu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ua.create(this)}promise(){return qw.create(this,this._def)}or(e){return Bw.create([this,e],this._def)}and(e){return jw.create(this,e,this._def)}transform(e){return new fu({...Et(this._def),schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ww({...Et(this._def),innerType:this,defaultValue:n,typeName:ut.ZodDefault})}brand(){return new eL({typeName:ut.ZodBranded,type:this,...Et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hw({...Et(this._def),innerType:this,catchValue:n,typeName:ut.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mT.create(this,e)}readonly(){return Vw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iwe=/^c[^\s-]{8,}$/i,swe=/^[0-9a-z]+$/,awe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,owe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lwe=/^[a-z0-9_-]{21}$/i,cwe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uwe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tE;const fwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ywe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bwe=new RegExp(`^${XM}$`);function JM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function vwe(t){return new RegExp(`^${JM(t)}$`)}function _we(t){let e=`${XM}T${JM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ewe(t,e){return!!((e==="v4"||!e)&&fwe.test(t)||(e==="v6"||!e)&&mwe.test(t))}function Swe(t,e){if(!cwe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Awe(t,e){return!!((e==="v4"||!e)&&pwe.test(t)||(e==="v6"||!e)&&gwe.test(t))}class ka extends Dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==He.string){const s=this._getOrReturnCtx(e);return je(s,{code:ke.invalid_type,expected:He.string,received:s.parsedType}),ct}const r=new gi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=e.data.length>s.value,c=e.data.length<s.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?je(i,{code:ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&je(i,{code:ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"email",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")tE||(tE=new RegExp(hwe,"u")),tE.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"emoji",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")owe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"uuid",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")lwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"nanoid",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")iwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")swe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid2",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")awe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ulid",code:ke.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),je(i,{validation:"url",code:ke.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"regex",code:ke.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_we(s).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?bwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?vwe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:ke.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?uwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"duration",code:ke.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Ewe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ip",code:ke.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Swe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"jwt",code:ke.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Awe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cidr",code:ke.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?ywe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64",code:ke.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?wwe.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64url",code:ke.invalid_string,message:s.message}),r.dirty()):Ft.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ke.invalid_string,...Je.errToObj(r)})}_addCheck(e){return new ka({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Je.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Je.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Je.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Je.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Je.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Je.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Je.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Je.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Je.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Je.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Je.errToObj(n)})}nonempty(e){return this.min(1,Je.errToObj(e))}trim(){return new ka({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ka({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ka({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ka.create=t=>new ka({checks:[],typeName:ut.ZodString,coerce:t?.coerce??!1,...Et(t)});function Twe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return s%l/10**i}class cu extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==He.number){const s=this._getOrReturnCtx(e);return je(s,{code:ke.invalid_type,expected:He.number,received:s.parsedType}),ct}let r;const i=new gi;for(const s of this._def.checks)s.kind==="int"?Ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:ke.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Twe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:ke.not_finite,message:s.message}),i.dirty()):Ft.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new cu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new cu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}cu.create=t=>new cu({checks:[],typeName:ut.ZodNumber,coerce:t?.coerce||!1,...Et(t)});class uu extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==He.bigint)return this._getInvalidInput(e);let r;const i=new gi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),je(r,{code:ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ft.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return je(n,{code:ke.invalid_type,expected:He.bigint,received:n.parsedType}),ct}gte(e,n){return this.setLimit("min",e,!0,Je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Je.toString(n))}setLimit(e,n,r,i){return new uu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(e){return new uu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}uu.create=t=>new uu({checks:[],typeName:ut.ZodBigInt,coerce:t?.coerce??!1,...Et(t)});class Lw extends Dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.boolean,received:r.parsedType}),ct}return js(e.data)}}Lw.create=t=>new Lw({typeName:ut.ZodBoolean,coerce:t?.coerce||!1,...Et(t)});class sh extends Dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==He.date){const s=this._getOrReturnCtx(e);return je(s,{code:ke.invalid_type,expected:He.date,received:s.parsedType}),ct}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return je(s,{code:ke.invalid_date}),ct}const r=new gi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:ke.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:ke.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ft.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Je.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Je.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}sh.create=t=>new sh({checks:[],coerce:t?.coerce||!1,typeName:ut.ZodDate,...Et(t)});class tN extends Dt{_parse(e){if(this._getType(e)!==He.symbol){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.symbol,received:r.parsedType}),ct}return js(e.data)}}tN.create=t=>new tN({typeName:ut.ZodSymbol,...Et(t)});class hA extends Dt{_parse(e){if(this._getType(e)!==He.undefined){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.undefined,received:r.parsedType}),ct}return js(e.data)}}hA.create=t=>new hA({typeName:ut.ZodUndefined,...Et(t)});class fA extends Dt{_parse(e){if(this._getType(e)!==He.null){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.null,received:r.parsedType}),ct}return js(e.data)}}fA.create=t=>new fA({typeName:ut.ZodNull,...Et(t)});class pA extends Dt{constructor(){super(...arguments),this._any=!0}_parse(e){return js(e.data)}}pA.create=t=>new pA({typeName:ut.ZodAny,...Et(t)});class nN extends Dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return js(e.data)}}nN.create=t=>new nN({typeName:ut.ZodUnknown,...Et(t)});class rc extends Dt{_parse(e){const n=this._getOrReturnCtx(e);return je(n,{code:ke.invalid_type,expected:He.never,received:n.parsedType}),ct}}rc.create=t=>new rc({typeName:ut.ZodNever,...Et(t)});class rN extends Dt{_parse(e){if(this._getType(e)!==He.undefined){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.void,received:r.parsedType}),ct}return js(e.data)}}rN.create=t=>new rN({typeName:ut.ZodVoid,...Et(t)});class Ua extends Dt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==He.array)return je(n,{code:ke.invalid_type,expected:He.array,received:n.parsedType}),ct;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(je(n,{code:l?ke.too_big:ke.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(je(n,{code:ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(je(n,{code:ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new ja(n,l,n.path,c)))).then(l=>gi.mergeArray(r,l));const s=[...n.data].map((l,c)=>i.type._parseSync(new ja(n,l,n.path,c)));return gi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Ua({...this._def,minLength:{value:e,message:Je.toString(n)}})}max(e,n){return new Ua({...this._def,maxLength:{value:e,message:Je.toString(n)}})}length(e,n){return new Ua({...this._def,exactLength:{value:e,message:Je.toString(n)}})}nonempty(e){return this.min(1,e)}}Ua.create=(t,e)=>new Ua({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ut.ZodArray,...Et(e)});function Rd(t){if(t instanceof ar){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mo.create(Rd(r))}return new ar({...t._def,shape:()=>e})}else return t instanceof Ua?new Ua({...t._def,type:Rd(t.element)}):t instanceof Mo?Mo.create(Rd(t.unwrap())):t instanceof pu?pu.create(Rd(t.unwrap())):t instanceof du?du.create(t.items.map(e=>Rd(e))):t}class ar extends Dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==He.object){const f=this._getOrReturnCtx(e);return je(f,{code:ke.invalid_type,expected:He.object,received:f.parsedType}),ct}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof rc&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||c.push(f);const d=[];for(const f of l){const p=s[f],m=i.data[f];d.push({key:{status:"valid",value:f},value:p._parse(new ja(i,m,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof rc){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of c)d.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(f==="strict")c.length>0&&(je(i,{code:ke.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of c){const m=i.data[p];d.push({key:{status:"valid",value:p},value:f._parse(new ja(i,m,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of d){const m=await p.key,g=await p.value;f.push({key:m,value:g,alwaysSet:p.alwaysSet})}return f}).then(f=>gi.mergeObjectSync(r,f)):gi.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Je.errToObj,new ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Je.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ut.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ar({...this._def,catchall:e})}pick(e){const n={};for(const r of Ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ar({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ar({...this._def,shape:()=>n})}deepPartial(){return Rd(this)}partial(e){const n={};for(const r of Ft.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ar({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Mo;)s=s._def.innerType;n[r]=s}return new ar({...this._def,shape:()=>n})}keyof(){return QM(Ft.objectKeys(this.shape))}}ar.create=(t,e)=>new ar({shape:()=>t,unknownKeys:"strip",catchall:rc.create(),typeName:ut.ZodObject,...Et(e)});ar.strictCreate=(t,e)=>new ar({shape:()=>t,unknownKeys:"strict",catchall:rc.create(),typeName:ut.ZodObject,...Et(e)});ar.lazycreate=(t,e)=>new ar({shape:t,unknownKeys:"strip",catchall:rc.create(),typeName:ut.ZodObject,...Et(e)});class Bw extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=s.map(c=>new Fo(c.ctx.common.issues));return je(n,{code:ke.invalid_union,unionErrors:l}),ct}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let s;const l=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=d._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=l.map(d=>new Fo(d));return je(n,{code:ke.invalid_union,unionErrors:c}),ct}}get options(){return this._def.options}}Bw.create=(t,e)=>new Bw({options:t,typeName:ut.ZodUnion,...Et(e)});const bo=t=>t instanceof gA?bo(t.schema):t instanceof fu?bo(t.innerType()):t instanceof Fw?[t.value]:t instanceof hu?t.options:t instanceof yA?Ft.objectValues(t.enum):t instanceof Ww?bo(t._def.innerType):t instanceof hA?[void 0]:t instanceof fA?[null]:t instanceof Mo?[void 0,...bo(t.unwrap())]:t instanceof pu?[null,...bo(t.unwrap())]:t instanceof eL||t instanceof Vw?bo(t.unwrap()):t instanceof Hw?bo(t._def.innerType):[];class pT extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==He.object)return je(n,{code:ke.invalid_type,expected:He.object,received:n.parsedType}),ct;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(je(n,{code:ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const l=bo(s.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,s)}}return new pT({typeName:ut.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Et(r)})}}function mA(t,e){const n=$l(t),r=$l(e);if(t===e)return{valid:!0,data:t};if(n===He.object&&r===He.object){const i=Ft.objectKeys(e),s=Ft.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of s){const d=mA(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===He.array&&r===He.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const l=t[s],c=e[s],d=mA(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===He.date&&r===He.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class jw extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,l)=>{if(J8(s)||J8(l))return ct;const c=mA(s.value,l.value);return c.valid?((Q8(s)||Q8(l))&&n.dirty(),{status:n.value,value:c.data}):(je(r,{code:ke.invalid_intersection_types}),ct)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>i(s,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jw.create=(t,e,n)=>new jw({left:t,right:e,typeName:ut.ZodIntersection,...Et(n)});class du extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.array)return je(r,{code:ke.invalid_type,expected:He.array,received:r.parsedType}),ct;if(r.data.length<this._def.items.length)return je(r,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&r.data.length>this._def.items.length&&(je(r,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new ja(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>gi.mergeArray(n,l)):gi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new du({...this._def,rest:e})}}du.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new du({items:t,typeName:ut.ZodTuple,rest:null,...Et(e)})};class zw extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.object)return je(r,{code:ke.invalid_type,expected:He.object,received:r.parsedType}),ct;const i=[],s=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new ja(r,c,r.path,c)),value:l._parse(new ja(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?gi.mergeObjectAsync(n,i):gi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Dt?new zw({keyType:e,valueType:n,typeName:ut.ZodRecord,...Et(r)}):new zw({keyType:ka.create(),valueType:e,typeName:ut.ZodRecord,...Et(n)})}}class iN extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.map)return je(r,{code:ke.invalid_type,expected:He.map,received:r.parsedType}),ct;const i=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([c,d],f)=>({key:i._parse(new ja(r,c,r.path,[f,"key"])),value:s._parse(new ja(r,d,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,p=await d.value;if(f.status==="aborted"||p.status==="aborted")return ct;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const f=d.key,p=d.value;if(f.status==="aborted"||p.status==="aborted")return ct;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(f.value,p.value)}return{status:n.value,value:c}}}}iN.create=(t,e,n)=>new iN({valueType:e,keyType:t,typeName:ut.ZodMap,...Et(n)});class jp extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.set)return je(r,{code:ke.invalid_type,expected:He.set,received:r.parsedType}),ct;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(je(r,{code:ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(je(r,{code:ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function l(d){const f=new Set;for(const p of d){if(p.status==="aborted")return ct;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((d,f)=>s._parse(new ja(r,d,r.path,f)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new jp({...this._def,minSize:{value:e,message:Je.toString(n)}})}max(e,n){return new jp({...this._def,maxSize:{value:e,message:Je.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}jp.create=(t,e)=>new jp({valueType:t,minSize:null,maxSize:null,typeName:ut.ZodSet,...Et(e)});class gA extends Dt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gA.create=(t,e)=>new gA({getter:t,typeName:ut.ZodLazy,...Et(e)});class Fw extends Dt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return je(n,{received:n.data,code:ke.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fw.create=(t,e)=>new Fw({value:t,typeName:ut.ZodLiteral,...Et(e)});function QM(t,e){return new hu({values:t,typeName:ut.ZodEnum,...Et(e)})}class hu extends Dt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return je(n,{expected:Ft.joinValues(r),received:n.parsedType,code:ke.invalid_type}),ct}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return je(n,{received:n.data,code:ke.invalid_enum_value,options:r}),ct}return js(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return hu.create(e,{...this._def,...n})}exclude(e,n=this._def){return hu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hu.create=QM;class yA extends Dt{_parse(e){const n=Ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==He.string&&r.parsedType!==He.number){const i=Ft.objectValues(n);return je(r,{expected:Ft.joinValues(i),received:r.parsedType,code:ke.invalid_type}),ct}if(this._cache||(this._cache=new Set(Ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ft.objectValues(n);return je(r,{received:r.data,code:ke.invalid_enum_value,options:i}),ct}return js(e.data)}get enum(){return this._def.values}}yA.create=(t,e)=>new yA({values:t,typeName:ut.ZodNativeEnum,...Et(e)});class qw extends Dt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==He.promise&&n.common.async===!1)return je(n,{code:ke.invalid_type,expected:He.promise,received:n.parsedType}),ct;const r=n.parsedType===He.promise?n.data:Promise.resolve(n.data);return js(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qw.create=(t,e)=>new qw({type:t,typeName:ut.ZodPromise,...Et(e)});class fu extends Dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:l=>{je(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const l=i.transform(r.data,s);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return ct;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ct:d.status==="dirty"||n.value==="dirty"?ip(d.value):d});{if(n.value==="aborted")return ct;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?ct:c.status==="dirty"||n.value==="dirty"?ip(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ct:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ct:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ih(l))return ct;const c=i.transform(l.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ih(l)?Promise.resolve(i.transform(l.value,s)).then(c=>({status:n.value,value:c})):ct);Ft.assertNever(i)}}fu.create=(t,e,n)=>new fu({schema:t,typeName:ut.ZodEffects,effect:e,...Et(n)});fu.createWithPreprocess=(t,e,n)=>new fu({schema:e,effect:{type:"preprocess",transform:t},typeName:ut.ZodEffects,...Et(n)});class Mo extends Dt{_parse(e){return this._getType(e)===He.undefined?js(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mo.create=(t,e)=>new Mo({innerType:t,typeName:ut.ZodOptional,...Et(e)});class pu extends Dt{_parse(e){return this._getType(e)===He.null?js(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pu.create=(t,e)=>new pu({innerType:t,typeName:ut.ZodNullable,...Et(e)});class Ww extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===He.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ww.create=(t,e)=>new Ww({innerType:t,typeName:ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Et(e)});class Hw extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Mw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hw.create=(t,e)=>new Hw({innerType:t,typeName:ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Et(e)});class sN extends Dt{_parse(e){if(this._getType(e)!==He.nan){const r=this._getOrReturnCtx(e);return je(r,{code:ke.invalid_type,expected:He.nan,received:r.parsedType}),ct}return{status:"valid",value:e.data}}}sN.create=t=>new sN({typeName:ut.ZodNaN,...Et(t)});class eL extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mT extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ct:s.status==="dirty"?(n.dirty(),ip(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ct:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new mT({in:e,out:n,typeName:ut.ZodPipeline})}}class Vw extends Dt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ih(i)&&(i.value=Object.freeze(i.value)),i);return Mw(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Vw.create=(t,e)=>new Vw({innerType:t,typeName:ut.ZodReadonly,...Et(e)});var ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ut||(ut={}));const wn=ka.create,Us=cu.create;uu.create;const tL=Lw.create,xwe=sh.create,ah=pA.create;rc.create;const Gb=Ua.create,Rr=ar.create,nL=Bw.create,Cwe=pT.create;jw.create;du.create;const iu=zw.create,Iwe=Fw.create,Fa=hu.create;qw.create;Mo.create;pu.create;const Owe={string:(t=>ka.create({...t,coerce:!0})),number:(t=>cu.create({...t,coerce:!0})),boolean:(t=>Lw.create({...t,coerce:!0})),bigint:(t=>uu.create({...t,coerce:!0})),date:(t=>sh.create({...t,coerce:!0}))},gT=50000n,aN=T7*32n,rL={block:c5({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=rL.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?Hr(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?Hr(t.l1BatchTimestamp):null,transactions:e}}}),transaction:l5({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?Hr(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?Hr(t.l1BatchTxIndex):null}}}),transactionReceipt:o5({format(t){return{l1BatchNumber:t.l1BatchNumber?Hr(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?Hr(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...I7(e),l1BatchNumber:e.l1BatchNumber?Hr(e.l1BatchNumber):null,transactionLogIndex:C7(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:Hr(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?Hr(e.l1BatchNumber):null,transactionIndex:Hr(e.transactionIndex),shardId:Hr(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:Hr(e.logIndex)}))}}}),transactionRequest:x7({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Jt(t.gasPerPubdata)}:{gasPerPubdata:Jt(gT)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(_y(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(_y(e)))}:{},...t.customSignature?{customSignature:Array.from(_y(t.customSignature))}:{}},type:"0x71"}:{}}})};class iL extends Ql{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function mm(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function sL(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!mm(t))throw new iL;if(!e||e<=0)throw new O7({chainId:e});if(n&&!No(n))throw new nu({address:n});if(r&&!No(r))throw new nu({address:r});if(i&&!No(i))throw new nu({address:i});if(i&&!s)throw new Ql("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new Ql("`paymaster` must be provided when `paymasterInput` is defined")}function kwe(t,e){return mm(t)?Dwe(t):$A(t,e)}const Rwe={transaction:kwe};function Dwe(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:l,maxFeePerGas:c,maxPriorityFeePerGas:d,customSignature:f,factoryDeps:p,paymaster:m,paymasterInput:g,gasPerPubdata:y,data:b}=t;sL(t);const _=[r?Jt(r):"0x",d?Jt(d):"0x",c?Jt(c):"0x",n?Jt(n):"0x",i??"0x",l?Jt(l):"0x",b??"0x",Jt(e),Jt(""),Jt(""),Jt(e),s??"0x",y?Jt(y):Jt(gT),p??[],f??"0x",m&&g?[m,g]:[]];return u5(["0x71",d5(_)])}class Nwe extends Ql{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class Pwe extends Ql{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class Uwe extends Ql{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function wA(t){const e=n_(t);if(e.length%32!==0)throw new Uwe({givenLength:e.length});if(e.length>aN)throw new Nwe({givenLength:e.length,maxBytecodeSize:aN});const n=k7(e),r=n_(n),i=e.length/32;if(i%2===0)throw new Pwe({givenLengthInWords:i});const s=n_(i),l=R7(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(l,2),r}const $we=t=>{sL(t);const e=Mwe(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function Mwe(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:l,maxPriorityFeePerGas:c,factoryDeps:d,paymaster:f,paymasterInput:p,gasPerPubdata:m,data:g}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:m??gT,maxFeePerGas:l??0n,maxPriorityFeePerGas:c??0n,paymaster:f?BigInt(f):0n,nonce:n?BigInt(n):0n,value:s??0n,data:g??"0x",factoryDeps:d?.map(y=>Jt(wA(y)))??[],paymasterInput:p||"0x"}}const aL={blockTime:1e3,formatters:rL,serializers:Rwe,custom:{getEip712Domain:$we}},Lwe=Gr({...aL,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),Bwe=Gr({...aL,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),jwe={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},zwe={block:c5({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=D7(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?Hr(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:l5({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Hr(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:o5({format(t){return{l1GasPrice:t.l1GasPrice?Hr(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Hr(t.l1GasUsed):null,l1Fee:t.l1Fee?Hr(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Fwe(t,e){return Hwe(t)?Wwe(t):$A(t,e)}const qwe={transaction:Fwe};function Wwe(t){Vwe(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:l,to:c,value:d}=t,f=[e,r,c??"0x",l?Jt(l):"0x",d?Jt(d):"0x",i?Jt(i):"0x",s?"0x1":"0x",n??"0x"];return u5(["0x7e",d5(f)])}function Hwe(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Vwe(t){const{from:e,to:n}=t;if(e&&!No(e))throw new nu({address:e});if(n&&!No(n))throw new nu({address:n})}const Kw={blockTime:2e3,contracts:jwe,formatters:zwe,serializers:qwe},Kwe=Gr({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Gwe=Gr({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),jf=1,oh=Gr({...Kw,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Kw.contracts,disputeGameFactory:{[jf]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[jf]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[jf]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[jf]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:jf});({...oh});const zf=11155111,oL=Gr({...Kw,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Kw.contracts,disputeGameFactory:{[zf]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[zf]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[zf]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[zf]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:zf});({...oL});const Ywe=Gr({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),Zwe=Gr({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),Xwe=Gr({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),Jwe=Gr({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),Qwe=Gr({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),ebe=Gr({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),tbe=Gr({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),nbe=Gr({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),rbe=Gr({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function ibe(t){if(typeof t=="string"){if(!No(t,{strict:!1}))throw new nu({address:t});return{address:t,type:"json-rpc"}}if(!No(t.address,{strict:!1}))throw new nu({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let nE=!1;async function gm({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=h5.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:ap(nE,{strict:!1})?_y(nE):nE}),l={r:fO(r,{size:32}),s:fO(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?N7({...l,to:n}):l}async function sbe(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,l=await gm({hash:P7({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...l}:l}async function abe({message:t,privateKey:e}){return await gm({hash:U7(t),privateKey:e,to:"hex"})}async function obe(t){const{privateKey:e,transaction:n,serializer:r=$A}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await gm({hash:$7(await r(i)),privateKey:e});return await r(n,s)}async function lbe(t){const{privateKey:e,...n}=t;return await gm({hash:M7(n),privateKey:e,to:"hex"})}function cbe(t,e={}){const{nonceManager:n}=e,r=Jt(h5.getPublicKey(t.slice(2),!1)),i=L7(r);return{...ibe({address:i,nonceManager:n,async sign({hash:l}){return gm({hash:l,privateKey:t,to:"hex"})},async signAuthorization(l){return sbe({...l,privateKey:t})},async signMessage({message:l}){return abe({message:l,privateKey:t})},async signTransaction(l,{serializer:c}={}){return obe({privateKey:t,transaction:l,serializer:c})},async signTypedData(l){return lbe({...l,privateKey:t})}}),publicKey:r,source:"privateKey"}}const ube="0x0000000000000000000000000000000000008006",dbe="0x0000000000000000000000000000000000010000",oN=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],lN=1,rE="/docs/contract/encodeDeployData";function hbe(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:p,argsContractDeployer:m}=cN(i,s??pO,Jt(wA(r)),"0x");return mO({abi:oN,functionName:p,args:m})}const l=e.find(p=>"type"in p&&p.type==="constructor");if(!l)throw new B7({docsPath:rE});if(!("inputs"in l))throw new gO({docsPath:rE});if(!l.inputs||l.inputs.length===0)throw new gO({docsPath:rE});const c=j7(l.inputs,n),{functionName:d,argsContractDeployer:f}=cN(i,s??pO,Jt(wA(r)),c);return mO({abi:oN,functionName:d,args:f})}function cN(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,lN]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,lN]}}[t||"create"]}function lL(t){if(!mm(t))throw new iL;z7(t)}async function fbe(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?f5(n):t.account;if(!s)throw new p5({docsPath:"/docs/actions/wallet/signTransaction"});if(lL({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new Ql("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new Ql("transaction serializer not found on chain.");const l=await xE(t,m5,"getChainId")({});r!==null&&g5({currentChainId:l,chain:r});const c=r?.custom.getEip712Domain({...i,chainId:l,from:s.address,type:"eip712"}),d=await F7(t,{...c,account:s});return r?.serializers?.transaction({chainId:l,...i,customSignature:d,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function cL(t,e){return mm(e)?fbe(t,e):await q7(t,e)}async function uL(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?f5(n):t.account;if(!i)throw new p5({docsPath:"/docs/actions/wallet/sendTransaction"});try{lL(e);const s=await W7(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let l;r!==null&&(l=await xE(t,m5,"getChainId")({}),g5({currentChainId:l,chain:r}));const c=await cL(t,{...s,chainId:l});return await xE(t,H7,"sendRawTransaction")({serializedTransaction:c})}catch(s){throw V7(s,{...e,account:i,chain:r})}}function pbe(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:l,...c}=e,d=hbe({abi:n,args:r,bytecode:i,deploymentType:s,salt:l});return c.factoryDeps=c.factoryDeps||[],c.factoryDeps.includes(i)||c.factoryDeps.push(i),uL(t,{...c,data:d,to:s==="create2"||s==="create2Account"?dbe:ube})}async function uN(t,e){return mm(e)?uL(t,e):K7(t,e)}function mbe(){return t=>({sendTransaction:e=>uN(t,e),signTransaction:e=>cL(t,e),deployContract:e=>pbe(t,e),writeContract:e=>G7(Object.assign(t,{sendTransaction:n=>uN(t,n)}),e)})}var gbe=10,ybe=-32700,wbe=-32603,bbe=-32602,vbe=-32601,_be=-32600,Ebe=-32015,Sbe=-32014,Abe=-32012,Tbe=-32010,xbe=-32009,Cbe=-32007,Ibe=-32006,Obe=-32004,dN=-32002,kbe=-32001,Rbe=28e5,Dbe=2800001,Nbe=2800003,Pbe=2800006,Ube=2800007,dL=2800008,$be=2800009,Xxe=32300001,Jxe=3230004,Mbe=361e4,Lbe=3610001,Bbe=3610003,jbe=3610005,zbe=3610006,Fbe=3610007,qbe=3611e3,Wbe=3704e3,Hbe=3704001,Vbe=3704004,Kbe=4615e3,Gbe=4615026,Ybe=5663e3,hN=5663001,Zbe=5663004,Xbe=5663005,Jbe=5663006,Qbe=5663007,eve=5663008,tve=5663015,nve=5663016,rve=5663017,hL=5663021,ive=705e4,sve=7050030,ave=7050031,ove=7050035,lve=8078e3,cve=8078001,uve=8078004,dve=8078005,hve=8078006,fve=8078007,pve=8078011,Gw=8078012,mve=8078013,gve=8078014,yve=8078017,fL=81e5,wve=8100002,bve=8100003,vve=819e4,_ve=8190001,Eve=8190002,bA=8190003,Sve=8190004,Ave=99e5,Tve=9900001,xve=9900004;function pL(t){return Array.isArray(t)?"%5B"+t.map(pL).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Cve([t,e]){return`${t}=${pL(e)}`}function Ive(t){const e=Object.entries(t).map(Cve).join("&");return btoa(e)}function Ove(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Ive(e)}'`),`${n}\``}}function mL(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Xe=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([s,l])=>{s==="cause"?r={cause:l.value}:(n===void 0&&(n={__code:t}),Object.defineProperty(n,s,l))});const i=Ove(t,n);super(i,r),this.context=Object.freeze(n===void 0?{__code:t}:n),this.name="SolanaError"}};function Yb(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function gL({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,l;typeof r=="string"?s=r:(s=Object.keys(r)[0],l=r[s]);const c=n.indexOf(s),d=t+c,f=e(d,s,l),p=new Xe(d,f);return Yb(p,i),p}var kve=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function yL(t,e){const n=Number(t);return gL({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===Kbe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===Gbe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:kve,rpcEnumError:e},yL)}var Rve=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function wL(t){return typeof t=="object"&&"InstructionError"in t?yL(...t.InstructionError):gL({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===ive)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===sve)return{index:Number(r)};if(e===ave||e===ove)return{accountIndex:Number(r.account_index)}},orderedErrorNames:Rve,rpcEnumError:t},wL)}function Yw(t){let e;if(Dve(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===dN){const{err:l,...c}=r,d=l?{cause:wL(l)}:null;e=new Xe(dN,{...c,...d})}else{let l;switch(s){case wbe:case bbe:case _be:case vbe:case ybe:case Abe:case kbe:case Obe:case Sbe:case Tbe:case xbe:case Cbe:case Ibe:case Ebe:l={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(l=r)}e=new Xe(s,l)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Xe(gbe,{error:t,message:n})}return Yb(e,Yw),e}function Dve(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function Nve(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var Pve=(t,e)=>Nve(t.length<=e?t:t.slice(0,e),e);function Uve(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function mu(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Kr(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(mu(e,t));return t.write(e,n,0),n}})}function ai(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Yn(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function $ve(t){return!Yn(t)}function Mve(t,e){if(Yn(t)!==Yn(e))throw new Xe(uve);if(Yn(t)&&Yn(e)&&t.fixedSize!==e.fixedSize)throw new Xe(dve,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Yn(t)&&!Yn(e)&&t.maxSize!==e.maxSize)throw new Xe(hve,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Lve(t,e,n=0){if(e.length-n<=0)throw new Xe(lve,{codecDescription:t})}function yT(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Xe(cve,{bytesLength:i,codecDescription:t,expected:e})}function fN(t,e,n){if(e<0||e>n)throw new Xe(gve,{bytesLength:n,codecDescription:t,offset:e})}function Bve(t,e){const n=((l,c,d)=>{const f=t.encode(l);return d=e.write(f.length,c,d),c.set(f,d),d+f.length});if(Yn(e)&&Yn(t))return Kr({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=Yn(e)?e.fixedSize:e.maxSize??null,i=Yn(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Kr({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:l=>{const c=mu(l,t);return mu(c,e)+c},write:n})}function jve(t,e){const n=((l,c)=>{const[d,f]=e.read(l,c),p=Number(d);return c=f,(c>0||l.length>p)&&(l=l.slice(c,c+p)),yT("addDecoderSizePrefix",p,l),[t.decode(l),c+p]});if(Yn(e)&&Yn(t))return ai({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=Yn(e)?e.fixedSize:e.maxSize??null,i=Yn(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return ai({...t,...s!==null?{maxSize:s}:{},read:n})}function Zw(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;let s;return typeof SharedArrayBuffer>"u"?s=t.buffer:t.buffer instanceof SharedArrayBuffer?(s=new ArrayBuffer(t.length),new Uint8Array(s).set(new Uint8Array(t))):s=t.buffer,(r===0||r===-t.byteLength)&&i===t.byteLength?s:s.slice(r,r+i)}function wT(t,e){return Kr({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),l=s.length>e?s.slice(0,e):s;return r.set(l,i),i+e}})}function bT(t,e){return ai({fixedSize:e,read:(n,r)=>{yT("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),Yn(t)&&(n=Pve(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function zve(t,e){return ai({...t,read:(n,r)=>{const i=f=>Fve(f,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;fN("offsetDecoder",s,n.length);const[l,c]=t.read(n,s),d=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:c,preOffset:r,wrapBytes:i}):c;return fN("offsetDecoder",d,n.length),[l,d]}})}function Fve(t,e){return e===0?0:(t%e+e)%e}function qve(t,e){if(Yn(t)){const n=e(t.fixedSize);if(n<0)throw new Xe(mve,{bytesLength:n,codecDescription:"resizeDecoder"});return ai({...t,fixedSize:n})}return t}function Wve(t,e){return zve(qve(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function vh(t,e){return Kr({...$ve(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function vT(t,e){return ai({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function Hve(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Xe(Gw,{alphabet:t,base:t.length,value:n})}var Vve=t=>Kr({getSizeFromValue:e=>{const[n,r]=pN(e,t[0]);if(!r)return e.length;const i=mN(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(Hve(t,e),e==="")return r;const[i,s]=pN(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let l=mN(s,t);const c=[];for(;l>0n;)c.unshift(Number(l%256n)),l/=256n;const d=[...Array(i.length).fill(0),...c];return n.set(d,r),r+d.length}}),Kve=t=>ai({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(d=>d!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const l=r.slice(i).reduce((d,f)=>d*256n+BigInt(f),0n),c=Gve(l,t);return[s+c,e.length]}});function pN(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function mN(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function Gve(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var bL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Yve=()=>Vve(bL),Zve=()=>Kve(bL),gN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xve=()=>Kr({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new Xe(Gw,{alphabet:gN,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new Xe(Gw,{alphabet:gN,base:64,value:t})}}}),Jve=()=>ai({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}});function Qve(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new Xe(qbe)}function Zb(){if(!globalThis.isSecureContext)throw new Xe(Mbe)}function e0e(){if(Zb(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Xe(Lbe)}function vL(){if(Zb(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new Xe(Bbe)}function t0e(){if(Zb(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new Xe(jbe)}function n0e(){if(Zb(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new Xe(zbe)}var iE,sE;function _T(){return iE||(iE=Yve()),iE}function r0e(){return sE||(sE=Zve()),sE}function i0e(t){if(t.length<32||t.length>44)return!1;const e=_T();try{return e.encode(t).byteLength===32}catch{return!1}}function vA(t){if(t.length<32||t.length>44)throw new Xe(Dbe,{actualLength:t.length});const r=_T().encode(t).byteLength;if(r!==32)throw new Xe(Rbe,{actualLength:r})}function s0e(t){return vA(t),t}function Vd(){return vh(wT(_T(),32),t=>s0e(t))}function ym(){return bT(r0e(),32)}function a0e(){return Mve(Vd(),ym())}function ET(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var o0e=37095705934669439343138083508754565189542113879843219016388785533085940283555n,di=57896044618658097711785492504343953926634992332820282019728792003956564819949n,yN=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Rs(t){const e=t%di;return e>=0n?e:di+e}function _a(t,e){let n=t;for(;e-- >0n;)n*=n,n%=di;return n}function l0e(t){const n=t*t%di*t%di,r=_a(n,2n)*n%di,i=_a(r,1n)*t%di,s=_a(i,5n)*i%di,l=_a(s,10n)*s%di,c=_a(l,20n)*l%di,d=_a(c,40n)*c%di,f=_a(d,80n)*d%di,p=_a(f,80n)*d%di,m=_a(p,10n)*s%di;return _a(m,2n)*t%di}function c0e(t,e){const n=Rs(e*e*e),r=Rs(n*n*e),i=l0e(t*r);let s=Rs(t*n*i);const l=Rs(e*s*s),c=s,d=Rs(s*yN),f=l===t,p=l===Rs(-t),m=l===Rs(-t*yN);return f&&(s=c),(p||m)&&(s=d),(Rs(s)&1n)===1n&&(s=Rs(-s)),!f&&!p?null:s}function u0e(t,e){const n=Rs(t*t),r=Rs(n-1n),i=Rs(o0e*n+1n),s=c0e(r,i);if(s===null)return!1;const l=(e&128)!==0;return!(s===0n&&l)}function d0e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function h0e(t){const n=`0x${t.reduce((r,i,s)=>`${d0e(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function f0e(t){if(t.byteLength!==32)return!1;const e=h0e(t);return u0e(e,t[31])}var wN=32,bN=16,p0e=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function m0e({programAddress:t,seeds:e}){if(e0e(),e.length>bN)throw new Xe(Pbe,{actual:e.length,maxSeeds:bN});let n;const r=e.reduce((d,f,p)=>{const m=typeof f=="string"?(n||=new TextEncoder).encode(f):f;if(m.byteLength>wN)throw new Xe(Ube,{actual:m.byteLength,index:p,maxSeedLength:wN});return d.push(...m),d},[]),i=a0e(),s=i.encode(t),l=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...p0e])),c=new Uint8Array(l);if(f0e(c))throw new Xe(dL);return i.decode(c)}async function g0e({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await m0e({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(mL(r,dL))n--;else throw r}throw new Xe($be)}async function _L(t){if(vL(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new Xe(Nbe);const e=await crypto.subtle.exportKey("raw",t);return ym().decode(new Uint8Array(e))}function EL(t,e,n,r){if(r<e||r>n)throw new Xe(pve,{codecDescription:t,max:n,min:e,value:r})}function SL(t){return t?.endian!==1}function ST(t){return Kr({fixedSize:t.size,write(e,n,r){t.range&&EL(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,SL(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function AL(t){return ai({fixedSize:t.size,read(e,n=0){Lve(t.name,e,n),yT(t.name,t.size,e,n);const r=new DataView(Zw(e,n,t.size));return[t.get(r,SL(t.config)),n+t.size]}})}var gu=()=>Kr({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{EL("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const l=127&s;r[i]=l,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),ic=()=>ai({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],l=127&s;if(n|=l<<i*7,(s&128)===0)break}return[n,e+r]}}),y0e=(t={})=>ST({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),w0e=(t={})=>AL({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4}),b0e=(t={})=>ST({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),lh=()=>ST({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),zp=()=>AL({get:t=>t.getUint8(0),name:"u8",size:1});function v0e(t,e,n){if(e!==n)throw new Xe(fve,{actual:n,codecDescription:t,expected:e})}function _0e(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function ch(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function wm(t){return Yn(t)?t.fixedSize:null}function _h(t){return Yn(t)?t.fixedSize:t.maxSize??null}function uh(t,e={}){const n=e.size??y0e(),r=Xw(n,wm(t)),i=Xw(n,_h(t))??void 0;return Kr({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?mu(s.length,n):0)+[...s].reduce((c,d)=>c+mu(d,t),0),maxSize:i},write:(s,l,c)=>(typeof n=="number"&&v0e("array",n,s.length),typeof n=="object"&&(c=n.write(s.length,l,c)),s.forEach(d=>{c=t.write(d,l,c)}),c)})}function yu(t,e={}){const n=e.size??w0e(),r=wm(t),i=Xw(n,r),s=Xw(n,_h(t))??void 0;return ai({...i!==null?{fixedSize:i}:{maxSize:s},read:(l,c)=>{const d=[];if(typeof n=="object"&&l.slice(c).length===0)return[d,c];if(n==="remainder"){for(;c<l.length;){const[m,g]=t.read(l,c);c=g,d.push(m)}return[d,c]}const[f,p]=typeof n=="number"?[n,c]:n.read(l,c);c=p;for(let m=0;m<f;m+=1){const[g,y]=t.read(l,c);c=y,d.push(g)}return[d,c]}})}function Xw(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function AT(){return Kr({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function _A(){return ai({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function E0e(t){return Kr({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function S0e(t){const e=ch(t.map(wm)),n=ch(t.map(_h))??void 0;return ai({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(l=>{const[c,d]=l.read(r,i);s.push(c),i=d}),[s,i]}})}function A0e(t,e){const n=T0e(t),r=(s,l,c)=>{const d=e(s);return vN(t,d),t[d].write(s,l,c)};if(n!==null)return Kr({fixedSize:n,write:r});const i=x0e(t);return Kr({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const l=e(s);return vN(t,l),mu(s,t[l])},write:r})}function vN(t,e){if(typeof t[e]>"u")throw new Xe(yve,{maxRange:t.length-1,minRange:0,variant:e})}function T0e(t){if(t.length===0)return 0;if(!Yn(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>Yn(r)&&r.fixedSize===e)?e:null}function x0e(t){return _0e(t.map(e=>_h(e)))}function uc(t){const e=t.map(([,i])=>i),n=ch(e.map(wm)),r=ch(e.map(_h))??void 0;return Kr({...n===null?{getSizeFromValue:i=>t.map(([s,l])=>mu(i[s],l)).reduce((s,l)=>s+l,0),maxSize:r}:{fixedSize:n},write:(i,s,l)=>(t.forEach(([c,d])=>{l=d.write(i[c],s,l)}),l)})}function bm(t){const e=t.map(([,i])=>i),n=ch(e.map(wm)),r=ch(e.map(_h))??void 0;return ai({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const l={};return t.forEach(([c,d])=>{const[f,p]=d.read(i,s);s=p,l[c]=f}),[l,s]}})}function Cu(t,...e){return e.reduce((n,r)=>r(n),t)}var cr=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(cr||{}),C0e=2,I0e=1;function dh(t){return t>=2}function Fp(t){return(t&I0e)!==0}function _N(t,e){return t|e}function O0e(t){return t|C0e}function k0e(t){return i0e(t)}function R0e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&k0e(t.lifetimeConstraint.blockhash)}function D0e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function N0e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Xe(Gw,{alphabet:t,base:t.length,value:n})}var P0e=t=>Kr({getSizeFromValue:e=>{const[n,r]=EN(e,t[0]);if(!r)return e.length;const i=SN(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(N0e(t,e),e==="")return r;const[i,s]=EN(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let l=SN(s,t);const c=[];for(;l>0n;)c.unshift(Number(l%256n)),l/=256n;const d=[...Array(i.length).fill(0),...c];return n.set(d,r),r+d.length}}),U0e=t=>ai({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(d=>d!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const l=r.slice(i).reduce((d,f)=>d*256n+BigInt(f),0n),c=$0e(l,t);return[s+c,e.length]}});function EN(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function SN(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function $0e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var TL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",M0e=()=>P0e(TL),L0e=()=>U0e(TL),aE;function B0e(){if(!aE){const t=uh(lh(),{size:gu()});aE=uc([["lookupTableAddress",Vd()],["writableIndexes",t],["readonlyIndexes",t]])}return aE}var oE;function j0e(){if(!oE){const t=yu(zp(),{size:ic()});oE=bm([["lookupTableAddress",ym()],["writableIndexes",t],["readonlyIndexes",t]])}return oE}var lE;function cE(){return lE||(lE=lh()),lE}var uE;function dE(){return uE||(uE=zp()),uE}function z0e(){return uc([["numSignerAccounts",cE()],["numReadonlySignerAccounts",cE()],["numReadonlyNonSignerAccounts",cE()]])}function F0e(){return bm([["numSignerAccounts",dE()],["numReadonlySignerAccounts",dE()],["numReadonlyNonSignerAccounts",dE()]])}var hE;function q0e(){return hE||(hE=vh(uc([["programAddressIndex",lh()],["accountIndices",uh(lh(),{size:gu()})],["data",Bve(AT(),gu())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),hE}var fE;function W0e(){return fE||(fE=vT(bm([["programAddressIndex",zp()],["accountIndices",yu(zp(),{size:ic()})],["data",jve(_A(),ic())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),fE}var xL=0,EA=128;function H0e(){return Kr({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new Xe(Zbe,{actualVersion:t});if(t>xL)throw new Xe(hL,{unsupportedVersion:t});return e.set([t|EA],n),n+1}})}function CL(){return ai({maxSize:1,read:(t,e)=>{const n=t[e];if((n&EA)===0)return["legacy",e];{const r=n^EA;if(r>xL)throw new Xe(hL,{unsupportedVersion:r});return[r,e+1]}}})}function AN(){return uc(IL())}function TN(){return vh(uc([...IL(),["addressTableLookups",K0e()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function IL(){const t=A0e([E0e(new Uint8Array(32)),wT(M0e(),32)],e=>e===void 0?0:1);return[["version",H0e()],["header",z0e()],["staticAccounts",uh(Vd(),{size:gu()})],["lifetimeToken",t],["instructions",uh(q0e(),{size:gu()})]]}function V0e(){return[["version",CL()],["header",F0e()],["staticAccounts",yu(ym(),{size:ic()})],["lifetimeToken",bT(L0e(),32)],["instructions",yu(W0e(),{size:ic()})],["addressTableLookups",G0e()]]}function K0e(){return uh(B0e(),{size:gu()})}function G0e(){return yu(j0e(),{size:ic()})}function Y0e(){return Kr({getSizeFromValue:t=>t.version==="legacy"?AN().getSizeFromValue(t):TN().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?AN().write(t,e,n):TN().write(t,e,n)})}function Z0e(){return vT(bm(V0e()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function xN(t,e,n){t[e]=n(t[e]??{role:cr.READONLY})}var ir=Symbol("AddressMapTypeProperty");function X0e(t,e){const n={[t]:{[ir]:0,role:cr.WRITABLE_SIGNER}},r=new Set;for(const i of e){xN(n,i.programAddress,l=>{if(r.add(i.programAddress),ir in l){if(Fp(l.role))throw l[ir]===0?new Xe(Ybe,{programAddress:i.programAddress}):new Xe(hN,{programAddress:i.programAddress});if(l[ir]===2)return l}return{[ir]:2,role:cr.READONLY}});let s;if(i.accounts)for(const l of i.accounts)xN(n,l.address,c=>{const{address:d,...f}=l;if(ir in c)switch(c[ir]){case 0:return c;case 1:{const p=_N(c.role,f.role);if("lookupTableAddress"in f){if(c.lookupTableAddress!==f.lookupTableAddress&&(s||=ET())(f.lookupTableAddress,c.lookupTableAddress)<0)return{[ir]:1,...f,role:p}}else if(dh(f.role))return{[ir]:2,role:p};return c.role!==p?{...c,role:p}:c}case 2:{const p=_N(c.role,f.role);if(r.has(l.address)){if(Fp(f.role))throw new Xe(hN,{programAddress:l.address});return c.role!==p?{...c,role:p}:c}else return"lookupTableAddress"in f&&!dh(c.role)?{...f,[ir]:1,role:p}:c.role!==p?{...c,role:p}:c}}return"lookupTableAddress"in f?{...f,[ir]:1}:{...f,[ir]:2}})}return n}function J0e(t){let e;return Object.entries(t).sort(([r,i],[s,l])=>{if(i[ir]!==l[ir]){if(i[ir]===0)return-1;if(l[ir]===0)return 1;if(i[ir]===2)return-1;if(l[ir]===2)return 1}const c=dh(i.role);if(c!==dh(l.role))return c?-1:1;const d=Fp(i.role);return d!==Fp(l.role)?d?-1:1:(e||=ET(),i[ir]===1&&l[ir]===1&&i.lookupTableAddress!==l.lookupTableAddress?e(i.lookupTableAddress,l.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function Q0e(t){const e={};for(const n of t){if(!("lookupTableAddress"in n))continue;const r=e[n.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};n.role===cr.WRITABLE?r.writableIndexes.push(n.addressIndex):r.readonlyIndexes.push(n.addressIndex)}return Object.keys(e).sort(ET()).map(n=>({lookupTableAddress:n,...e[n]}))}function e_e(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=Fp(i.role);dh(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function t_e(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function n_e(t,e){const n=t_e(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:l})=>n[l])}:null,...i?{data:i}:null}))}function r_e(t){return"nonce"in t?t.nonce:t.blockhash}function i_e(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function s_e(t){const e=X0e(t.feePayer.address,t.instructions),n=J0e(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:Q0e(n)}:null,...r?{lifetimeToken:r_e(r)}:null,header:e_e(n),instructions:n_e(t.instructions,n),staticAccounts:i_e(n),version:t.version}}function a_e(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var OL="SysvarRecentB1ockHashes11111111111111111111",kL="11111111111111111111111111111111";function CN(t,e){return{accounts:[{address:t,role:cr.WRITABLE},{address:OL,role:cr.READONLY},{address:e,role:cr.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:kL}}function TT(t){return t.programAddress===kL&&t.data!=null&&o_e(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===cr.WRITABLE&&t.accounts[1].address===OL&&t.accounts[1].role===cr.READONLY&&t.accounts[2].address!=null&&dh(t.accounts[2].role)}function o_e(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function RL(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&TT(t.instructions[0])}function l_e(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function c_e({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&TT(s))if(l_e(s,e,n)){if(RL(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(CN(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(CN(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function u_e(t,e){if("feePayer"in e&&t===e.feePayer?.address&&d_e(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function d_e(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function h_e(t,e){return f_e([t],e)}function f_e(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function p_e(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let l=0;l<n;l++)i.push({address:t.staticAccounts[s],role:cr.WRITABLE_SIGNER}),s++;for(let l=0;l<e.numReadonlySignerAccounts;l++)i.push({address:t.staticAccounts[s],role:cr.READONLY_SIGNER}),s++;for(let l=0;l<r;l++)i.push({address:t.staticAccounts[s],role:cr.WRITABLE}),s++;for(let l=0;l<e.numReadonlyNonSignerAccounts;l++)i.push({address:t.staticAccounts[s],role:cr.READONLY}),s++;return i}function m_e(t,e){const r=t.map(l=>l.lookupTableAddress).filter(l=>e[l]===void 0);if(r.length>0)throw new Xe(Xbe,{lookupTableAddresses:r});const i=[],s=[];for(const l of t){const c=e[l.lookupTableAddress],d=l.readonlyIndexes,f=l.writableIndexes,p=Math.max(...d,...f);if(p>=c.length)throw new Xe(Jbe,{highestKnownIndex:c.length-1,highestRequestedIndex:p,lookupTableAddress:l.lookupTableAddress});const m=d.map(y=>({address:c[y],addressIndex:y,lookupTableAddress:l.lookupTableAddress,role:cr.READONLY}));i.push(...m);const g=f.map(y=>({address:c[y],addressIndex:y,lookupTableAddress:l.lookupTableAddress,role:cr.WRITABLE}));s.push(...g)}return[...s,...i]}function g_e(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new Xe(Qbe,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function y_e(t,e,n){if(!e||!TT(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;vA(r);const i=e.accounts[2].address;return vA(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function Qxe(t,e){const n=t.staticAccounts[0];if(!n)throw new Xe(eve);const r=p_e(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?m_e(t.addressTableLookups,{}):[],s=[...r,...i],l=t.instructions.map(f=>g_e(f,s)),c=l[0],d=y_e(t.lifetimeToken,c);return Cu(a_e({version:t.version}),f=>u_e(n,f),f=>l.reduce((p,m)=>h_e(m,p),f),f=>"blockhash"in d?D0e(d,f):c_e(d,f))}var Xb=Object.freeze({name:"Ed25519"});function w_e(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function SA(t,e=!1){const n=t.byteLength;if(n!==32)throw new Xe(Hbe,{actualLength:n});const r=w_e(t);return await crypto.subtle.importKey("pkcs8",r,Xb,e,["sign"])}async function b_e(t,e=!1){if(vL(),t.extractable===!1)throw new Xe(Fbe,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function xT(t,e){t0e();const n=await crypto.subtle.sign(Xb,t,Zw(e));return new Uint8Array(n)}async function v_e(t,e,n){return n0e(),await crypto.subtle.verify(Xb,t,Zw(e),Zw(n))}async function __e(t,e=!1){if(Qve(),t.byteLength!==64)throw new Xe(Wbe,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),Xb,!0,["verify"]),SA(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await xT(r,i);if(!await v_e(n,s,i))throw new Xe(Vbe);return{privateKey:r,publicKey:n}}async function E_e(t,e=!1){const n=SA(t,e),[r,i]=await Promise.all([(e?n:SA(t,!0)).then(async s=>await b_e(s,!0)),n]);return{privateKey:i,publicKey:r}}function S_e(t){const e=Object.values(t);if(e.length===0)throw new Xe(nve);return e.map(n=>n||new Uint8Array(64).fill(0))}function A_e(){return vh(uh(wT(AT(),64),{size:gu()}),S_e)}function T_e(){return uc([["signatures",A_e()],["messageBytes",AT()]])}function x_e(){return vT(bm([["signatures",yu(bT(_A(),64),{size:ic()})],["messageBytes",_A()]]),C_e)}function C_e(t){const{messageBytes:e,signatures:n}=t,r=S0e([CL(),Wve(zp(),2),yu(ym(),{size:ic()})]),[i,s,l]=r.decode(e),c=l.slice(0,s);if(c.length!==n.length)throw new Xe(rve,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:c});const d={};return c.forEach((f,p)=>{const m=n[p];m.every(g=>g===0)?d[f]=null:d[f]=m}),{messageBytes:e,signatures:Object.freeze(d)}}function eCe(t){const e=s_e(t),n=Y0e().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const l of r)i[l]=null;let s;return R0e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:RL(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function I_e(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await _L(i.publicKey),l=e.signatures[s];if(l===void 0){r||=new Set,r.add(s);return}if(r)return;const c=await xT(i.privateKey,e.messageBytes);l!==null&&Uve(c,l)||(n||={},n[s]=c)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new Xe(tve,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function O_e(t){const e=T_e().encode(t);return Jve().decode(e)}function IN(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function k_e(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var pE=new WeakMap;async function R_e(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!IN(s)){Promise.resolve(s).then(r,i);continue}let l=pE.get(s);l===void 0?(l=k_e(s),l.deferreds.add(e),pE.set(s,l)):l.settled?Promise.resolve(s).then(r,i):l.deferreds.add(e)}}).finally(()=>{for(const r of t)IN(r)&&pE.get(r).deferreds.delete(e)})}function DL(t){return JSON.parse(D_e(t),(e,n)=>$_e(n)?U_e(n):n)}function D_e(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=N_e(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(P_e(s));continue}}e.push(t[r])}return e.join("")}function N_e(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function P_e(t){return`{"$n":"${t}"}`}function U_e({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function $_e(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var ON=0n;function M_e(){const t=ON;return ON++,t.toString()}function AA(t){return{id:M_e(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function NL(t,e){return B_e(JSON.stringify(t,(n,r)=>typeof r=="bigint"?L_e(r):r,e))}function L_e(t){return{$n:`${t}`}}function B_e(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function j_e(t){return z_e(t)}function z_e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),l=Reflect.get(e,s,r);if(!l)throw new Xe(bve,{method:s,params:i});const c=l(...i);return F_e(t,c)}}})}function F_e({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function q_e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const l=Object.freeze({methodName:i,params:s}),c=t?.requestTransformer?t?.requestTransformer(l):l;return Object.freeze({execute:async({signal:d,transport:f})=>{const p=AA(c),m=await f({payload:p,signal:d});return t?.responseTransformer?t.responseTransformer(m,c):m}})}}})}function PL(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function W_e(t){return typeof t=="bigint"?Number(t):t}var Oe={};function UL(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const l={...r,keyPath:[...r.keyPath,s]};return e(i,l)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const l={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],l)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function $L(t,e){return n=>{const r=UL(t);return Object.freeze({...n,params:r(n.params,e)})}}function ML(t,e){return n=>UL(t)(n,e)}function H_e(){return $L([W_e],{keyPath:[]})}function V_e({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:l,...c}=i;return Object.keys(c).length>0?s[n]=c:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function K_e({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:V_e({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function G_e(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function Y_e(t){return e=>$L([G_e((...r)=>t(e,...r))],{keyPath:[]})(e)}var Z_e={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function LL(t){const e=t?.onIntegerOverflow;return n=>Cu(n,e?Y_e(e):r=>r,H_e(),K_e({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:Z_e}))}function BL(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?X_e(r,t)?Number(n):BigInt(n):n}}function X_e(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==Oe||typeof i!="number"))return!1}return!0})}function jL(t){return ML([BL(t)],{keyPath:[]})}function J_e(){return t=>t.result}var TA=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Oe,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Oe,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Oe,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Oe,"state","currentRate"]],tu=[...TA,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Oe,"confirmationCount"]],Wy=[["index"],["instructions",Oe,"accounts",Oe],["instructions",Oe,"programIdIndex"],["instructions",Oe,"stackHeight"]],kN=[["addressTableLookups",Oe,"writableIndexes",Oe],["addressTableLookups",Oe,"readonlyIndexes",Oe],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Oe,"accounts",Oe],["instructions",Oe,"programIdIndex"],["instructions",Oe,"stackHeight"]];function Q_e(){return[["loadedAccountsDataSize"],...tu.map(t=>["accounts",Oe,...t]),...Wy.map(t=>["innerInstructions",Oe,...t])]}function e1e(){return(t,e)=>{const n=t;if("error"in n){const{error:r}=n;if(r&&typeof r=="object"&&"code"in r&&(r.code===-32002||r.code===-32002n)&&"data"in r&&r.data){const l=ML([BL(Q_e())],{keyPath:[]})(r.data,e),c={...r,data:l};throw Yw(c)}throw Yw(n.error)}return n}}function t1e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Cu(e,s=>e1e()(s,n),s=>J_e()(s,n),s=>jL(i??[])(s,n))}}function n1e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Cu(e,s=>jL(i??[])(s,n))}}function r1e(t){return q_e({requestTransformer:LL(t),responseTransformer:t1e({allowedNumericKeyPaths:i1e()})})}var mE;function i1e(){return mE||(mE={getAccountInfo:tu.map(t=>["value",...t]),getBlock:[["transactions",Oe,"meta","preTokenBalances",Oe,"accountIndex"],["transactions",Oe,"meta","preTokenBalances",Oe,"uiTokenAmount","decimals"],["transactions",Oe,"meta","postTokenBalances",Oe,"accountIndex"],["transactions",Oe,"meta","postTokenBalances",Oe,"uiTokenAmount","decimals"],["transactions",Oe,"meta","rewards",Oe,"commission"],...Wy.map(t=>["transactions",Oe,"meta","innerInstructions",Oe,...t]),...kN.map(t=>["transactions",Oe,"transaction","message",...t]),["rewards",Oe,"commission"]],getClusterNodes:[[Oe,"featureSet"],[Oe,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Oe,"commission"]],getMultipleAccounts:tu.map(t=>["value",Oe,...t]),getProgramAccounts:tu.flatMap(t=>[["value",Oe,"account",...t],[Oe,"account",...t]]),getRecentPerformanceSamples:[[Oe,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:TA.map(t=>["value",Oe,"account",...t]),getTokenAccountsByOwner:TA.map(t=>["value",Oe,"account",...t]),getTokenLargestAccounts:[["value",Oe,"decimals"],["value",Oe,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Oe,"accountIndex"],["meta","preTokenBalances",Oe,"uiTokenAmount","decimals"],["meta","postTokenBalances",Oe,"accountIndex"],["meta","postTokenBalances",Oe,"uiTokenAmount","decimals"],["meta","rewards",Oe,"commission"],...Wy.map(t=>["meta","innerInstructions",Oe,...t]),...kN.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Oe,"commission"],["delinquent",Oe,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...tu.map(t=>["value","accounts",Oe,...t]),...Wy.map(t=>["value","innerInstructions",Oe,...t])]}),mE}function s1e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function a1e(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const l=n&&s1e(n);return async function({payload:d,signal:f}){const p=r?r(d):JSON.stringify(d),m={...s,body:p,headers:{...l,accept:"application/json","content-length":p.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:f},g=await fetch(i,m);if(!g.ok)throw new Xe(wve,{headers:g.headers,message:g.statusText,statusCode:g.status});return e?e(await g.text(),d):await g.json()}}var o1e=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function RN(t){return PL(t)&&o1e.includes(t.method)}function l1e(t){return a1e({...t,fromJson:(e,n)=>RN(n)?DL(e):JSON.parse(e),toJson:e=>RN(e)?NL(e):JSON.stringify(e)})}var c1e=Object.prototype.toString,u1e=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function sp(t,e){let n,r,i,s,l,c,d;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return sp(t.toJSON(),e);if(d=c1e.call(t),d==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=sp(t[n],!0)+",";return r>-1&&(i+=sp(t[n],!0)),i+"]"}else if(d==="[object Object]"){for(s=u1e(t).sort(),r=s.length,i="",n=0;n<r;)l=s[n],c=sp(t[l],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(l)+":"+c),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function zL(t){const e=sp(t,!1);if(e!==void 0)return""+e}function FL(t,e,n){let r="";if(typeof e[0]=="number"){const l=e[0]+1,c=l%10,d=l%100;c==1&&d!=11?r=l+"st":c==2&&d!=12?r=l+"nd":c==3&&d!=13?r=l+"rd":r=l+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(l=>typeof l=="number"?`[${l}]`:l).join("."):void 0,s=new Xe(fL,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return Yb(s,FL),s}var d1e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw FL(t.methodName,e,n)}},h1e=globalThis.AbortController,DN;function NN(){return{}}function f1e(t,e){let n;return async function(i){const{payload:s,signal:l}=i,c=e(s);if(c===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[c]==null){const f=new h1e,p=(async()=>{try{return await t({...i,signal:f.signal})}catch(m){if(m===(DN||=NN()))return;throw m}})();n[c]={abortController:f,numConsumers:0,responsePromise:p}}const d=n[c];if(d.numConsumers++,l){const f=d.responsePromise;return await new Promise((p,m)=>{const g=y=>{l.removeEventListener("abort",g),d.numConsumers-=1,queueMicrotask(()=>{d.numConsumers===0&&d.abortController.abort(DN||=NN())}),m(y.target.reason)};l.addEventListener("abort",g),f.then(p).catch(m).finally(()=>{l.removeEventListener("abort",g)})})}else return await d.responsePromise}}function p1e(t){return PL(t)?zL([t.method,t.params]):void 0}function m1e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function g1e(t){return Cu(l1e({...t,headers:{...t.headers?m1e(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>f1e(e,p1e))}function qL(t,e){return y1e(g1e({url:t,...e}))}function y1e(t){return j_e({api:r1e(d1e),transport:t})}var w1e=globalThis.AbortController,b1e=globalThis.EventTarget,PN;function UN(){return Symbol(void 0)}var gE=Symbol();function v1e({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(f){for(const[p,m]of i.entries())m.__hasPolled?(i.delete(p),m.onError(f)):m.publishQueue.push({__type:1,err:f})}const l=new w1e;t.addEventListener("abort",()=>{l.abort(),s(PN||=UN())});const c={signal:l.signal};let d=gE;return n.on(r,f=>{d===gE&&(d=f,l.abort(),s(f))},c),n.on(e,f=>{i.forEach((p,m)=>{if(p.__hasPolled){const{onData:g}=p;i.set(m,{__hasPolled:!1,publishQueue:[]}),g(f)}else p.publishQueue.push({__type:0,data:f})})},c),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(d!==gE)throw d;const f=Symbol();i.set(f,{__hasPolled:!1,publishQueue:[]});try{for(;;){const p=i.get(f);if(!p)throw new Xe(Ave);if(p.__hasPolled)throw new Xe(Tve);const m=p.publishQueue;try{if(m.length){p.publishQueue=[];for(const g of m)if(g.__type===0)yield g.data;else throw g.err}else yield await new Promise((g,y)=>{i.set(f,{__hasPolled:!0,onData:g,onError:y})})}catch(g){if(g===(PN||=UN()))return;throw g}}}finally{i.delete(f)}}}}function WL(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const l=s.detail;n(l)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function _1e(t,e,n){let r;const i=new b1e,s=WL(i);return{...s,on(l,c,d){r||(r={dispose:t.on(e,y=>{const b=n(y);if(!b)return;const[_,E]=b;i.dispatchEvent(new CustomEvent(_,{detail:E}))}),numSubscribers:0}),r.numSubscribers++;const f=s.on(l,c,d);let p=!0;function m(){p&&(p=!1,d?.signal.removeEventListener("abort",m),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),f())}return d?.signal.addEventListener("abort",m),m}}}function E1e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),l=Reflect.get(e,s,r);if(!l)throw new Xe(vve,{notificationName:s});const c=l(...i);return S1e(t.transport,c)}}})}function S1e(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return v1e({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function A1e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const l={methodName:i,params:s},c=t.requestTransformer?t.requestTransformer(l):l;return{execute(d){return t.planExecutor({...d,request:c})},request:c}}}})}function T1e(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function x1e(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var C1e=globalThis.AbortController,xA=new WeakMap;function I1e(t,e){return HL(-1,t,e)}function O1e(t,e){HL(1,t,e)}function k1e(t){let e=xA.get(t);return e||xA.set(t,e={}),e}function HL(t,e,n){if(n===void 0)return;const r=k1e(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var $N=new WeakMap;function R1e(t,e,n){let r=$N.get(t);r||$N.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=_1e(t,"message",l=>{const c=l;if(!("method"in c))return;const d=n?n(c.params.result,e):c.params.result;return[`notification:${c.params.subscription}`,d]})),s}async function D1e({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,xA.delete(t)},{signal:n});const l=new Promise((m,g)=>{function y(){if(I1e(t,s)===0){const b=AA({methodName:i,params:[s]});s=void 0,t.send(b).catch(()=>{})}g(this.reason)}n.aborted?y.call(n):n.addEventListener("abort",y)}),c=AA(r);await t.send(c);const d=new Promise((m,g)=>{const y=new C1e;n.addEventListener("abort",y.abort.bind(y));const b={signal:y.signal};t.on("error",_=>{y.abort(),g(_)},b),t.on("message",_=>{_&&typeof _=="object"&&"id"in _&&_.id===c.id&&(y.abort(),"error"in _?g(Yw(_.error)):m(_.result))},b)});if(s=await R_e([l,d]),s==null)throw new Xe(_ve);O1e(t,s);const f=R1e(t,r,e),p=`notification:${s}`;return{on(m,g,y){switch(m){case"notification":return f.on(p,g,y);case"error":return t.on("error",g,y);default:throw new Xe(xve,{channelName:m,supportedChannelNames:["notification","error"]})}}}}function N1e(t){const e=LL(t),n=n1e({allowedNumericKeyPaths:U1e()});return A1e({planExecutor({request:r,...i}){return D1e({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function P1e(t){return N1e(t)}var yE;function U1e(){return yE||(yE={accountNotifications:tu.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",Oe,"meta","preTokenBalances",Oe,"accountIndex"],["value","block","transactions",Oe,"meta","preTokenBalances",Oe,"uiTokenAmount","decimals"],["value","block","transactions",Oe,"meta","postTokenBalances",Oe,"accountIndex"],["value","block","transactions",Oe,"meta","postTokenBalances",Oe,"uiTokenAmount","decimals"],["value","block","transactions",Oe,"meta","rewards",Oe,"commission"],["value","block","transactions",Oe,"meta","innerInstructions",Oe,"index"],["value","block","transactions",Oe,"meta","innerInstructions",Oe,"instructions",Oe,"programIdIndex"],["value","block","transactions",Oe,"meta","innerInstructions",Oe,"instructions",Oe,"accounts",Oe],["value","block","transactions",Oe,"transaction","message","addressTableLookups",Oe,"writableIndexes",Oe],["value","block","transactions",Oe,"transaction","message","addressTableLookups",Oe,"readonlyIndexes",Oe],["value","block","transactions",Oe,"transaction","message","instructions",Oe,"programIdIndex"],["value","block","transactions",Oe,"transaction","message","instructions",Oe,"accounts",Oe],["value","block","transactions",Oe,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",Oe,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",Oe,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",Oe,"commission"]],programNotifications:tu.flatMap(t=>[["value",Oe,"account",...t],[Oe,"account",...t]])}),yE}var $1e=globalThis.EventTarget,Ff=globalThis.WebSocket,MN=1e3;function M1e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function l(){s.forEach(k=>{k()}),s.clear()}function c(){l(),i||_(e.reason),b.readyState!==Ff.CLOSED&&b.readyState!==Ff.CLOSING&&b.close(MN)}function d(k){l(),r?.onCancel(),e.removeEventListener("abort",c),b.removeEventListener("close",d),b.removeEventListener("error",f),b.removeEventListener("message",p),b.removeEventListener("open",y),!e.aborted&&!(k.wasClean&&k.code===MN)&&m.dispatchEvent(new CustomEvent("error",{detail:new Xe(bA,{cause:k})}))}function f(k){if(!e.aborted&&!i){const D=new Xe(Sve,{errorEvent:k});_(D),m.dispatchEvent(new CustomEvent("error",{detail:D}))}}function p(k){e.aborted||m.dispatchEvent(new CustomEvent("message",{detail:k.data}))}const m=new $1e,g=WL(m);function y(){i=!0,E({...g,async send(k){if(b.readyState!==Ff.OPEN)throw new Xe(bA);if(!r&&b.bufferedAmount>t){let D;const x=new Promise((T,O)=>{const C=setInterval(()=>{(b.readyState!==Ff.OPEN||!(b.bufferedAmount>t))&&(clearInterval(C),r=void 0,T())},16);D=()=>{r=void 0,clearInterval(C),O(new Xe(Eve))}});r={onCancel:D,promise:x}}if(r){if(ArrayBuffer.isView(k)&&!(k instanceof DataView)){const D=k.constructor;k=new D(k)}await r.promise}b.send(k)}})}const b=new Ff(n);e.addEventListener("abort",c),b.addEventListener("close",d),b.addEventListener("error",f),b.addEventListener("message",p),b.addEventListener("open",y);let _,E;return new Promise((k,D)=>{_=D,E=k})}function VL(t,e,n){let r="";if(typeof e[0]=="number"){const l=e[0]+1,c=l%10,d=l%100;c==1&&d!=11?r=l+"st":c==2&&d!=12?r=l+"nd":c==3&&d!=13?r=l+"rd":r=l+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(l=>typeof l=="number"?`[${l}]`:l).join("."):void 0,s=new Xe(fL,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return Yb(s,VL),s}var L1e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw VL(t.methodName,e,n)}},CT=globalThis.AbortController,B1e={jsonrpc:"2.0",method:"ping"};function j1e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(B1e).catch(c=>{mL(c,bA)&&l.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const l=new CT;return l.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{l.abort()}),e.on("error",()=>{l.abort()},{signal:l.signal}),e.on("message",s,{signal:l.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:l.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:l.signal}),{...e,send(...c){return l.signal.aborted||s(),e.send(...c)}}}function z1e(){return{entries:[],freeChannelIndex:-1}}function F1e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=z1e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let l=0;l<r.entries.length;l++){const c=(r.freeChannelIndex+l+2)%r.entries.length,d=r.entries[c];d.subscriptionCount<e&&(!s||s.subscriptionCount>=d.subscriptionCount)&&(s={poolIndex:c,subscriptionCount:d.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:l}){let c;function d(){const f=r.entries.findIndex(p=>p===c);r.entries.splice(f,1),c.dispose(),i()}if(r.freeChannelIndex===-1){const f=new CT,p=t({abortSignal:f.signal});p.then(m=>{m.on("error",d,{signal:f.signal})}).catch(d),c={channel:p,dispose(){f.abort()},subscriptionCount:0},r.entries.push(c)}else c=r.entries[r.freeChannelIndex];return c.subscriptionCount++,l.addEventListener("abort",function(){c.subscriptionCount--,c.subscriptionCount===0?d():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),c.channel}}function q1e(t){return Cu(t,e=>T1e(e,DL),e=>x1e(e,NL))}function W1e(t){return H1e({...t,jsonSerializer:q1e})}function H1e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return F1e((({abortSignal:i})=>M1e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>j1e({abortSignal:i,channel:s,intervalMs:e??5e3}))),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function V1e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,l=zL([i.methodName,i.params]);let c=e.get(l);if(!c){const d=new CT,f=t({...r,signal:d.signal});f.then(p=>{p.on("error",()=>{e.delete(l),d.abort()},{signal:d.signal})}).catch(()=>{}),e.set(l,c={abortController:d,dataPublisherPromise:f,numSubscribers:0})}return c.numSubscribers++,s.addEventListener("abort",()=>{c.numSubscribers--,c.numSubscribers===0&&queueMicrotask(()=>{c.numSubscribers===0&&(e.delete(l),c.abortController.abort())})},{signal:c.abortController.signal}),c.dataPublisherPromise}}function K1e({createChannel:t}){return Cu(G1e(t),e=>V1e(e))}function G1e(t){return(async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})})}function Y1e(t,e){const n=K1e({createChannel:W1e({...e,url:t})});return Z1e(n)}function LN(t,e){return Y1e(t,e)}function Z1e(t){return E1e({api:P1e(L1e),transport:t})}function KL(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function GL(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function X1e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function YL(t){return GL(t)||KL(t)||X1e(t)}function tCe(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function ZL(t){const e=await _L(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await xT(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await I_e([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function J1e(t,e){return await ZL(await __e(t,e))}async function Q1e(t,e){return await ZL(await E_e(t,e))}var eEe="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",XL="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function tEe(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function JL(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:cr.READONLY});const r=n.isWritable?cr.WRITABLE:cr.READONLY;return Object.freeze({address:tEe(n.value),role:BN(n.value)?O0e(r):r,...BN(n.value)?{signer:n.value}:{}})}}function BN(t){return!!t&&typeof t=="object"&&"address"in t&&YL(t)}async function nCe(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await g0e({programAddress:n,seeds:[Vd().encode(t.owner),Vd().encode(t.tokenProgram),Vd().encode(t.mint)]})}var nEe=1;function rEe(){return vh(uc([["discriminator",lh()]]),t=>({...t,discriminator:nEe}))}function rCe(t,e){const n=eEe,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=JL(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:rEe().encode({}),programAddress:n})}var iEe=3;function sEe(){return vh(uc([["discriminator",lh()],["amount",b0e()]]),t=>({...t,discriminator:iEe}))}function iCe(t,e){const n=XL,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},l=(s.multiSigners??[]).map(d=>({address:d.address,role:cr.READONLY_SIGNER,signer:d})),c=JL(n);return Object.freeze({accounts:[c(i.source),c(i.destination),c(i.authority),...l],data:sEe().encode(s),programAddress:n})}var aEe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";nL([wn().transform(t=>t.replace(/[^0-9.-]+/g,"")),Us()]).pipe(Owe.number().min(1e-4).max(999999999));var Jb=Fa(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),oEe=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],lEe=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),QL=["solana-devnet","solana"];Object.fromEntries([...oEe,...QL].map(t=>[lEe.get(t),t]));var cEe={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function IT(t){const e=kT(t);return UA({chain:e,transport:Hp()}).extend(CE)}function uEe(){return IT("base-sepolia")}function dEe(){return IT("avalanche-fuji")}function OT(t,e){const n=kT(t),r=Y7({chain:n,transport:Hp(),account:cbe(e)});return eB(n)?r.extend(CE).extend(mbe()):r.extend(CE)}function hEe(t){return OT("base-sepolia",t)}function fEe(t){return OT("avalanche-fuji",t)}function pEe(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function mEe(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function kT(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return Lwe;case"abstract-testnet":return Bwe;case"base":return oh;case"base-sepolia":return oL;case"avalanche":return Kwe;case"avalanche-fuji":return Gwe;case"sei":return tbe;case"sei-testnet":return nbe;case"polygon":return Qwe;case"polygon-amoy":return ebe;case"peaq":return Jwe;case"story":return rbe;case"educhain":return Ywe;case"iotex":return Zwe;case"iotex-testnet":return Xwe;case"skale-base-sepolia":return cEe;default:throw new Error(`Unsupported network: ${t}`)}}var gEe=new Set([2741,11124]);function eB(t){return gEe.has(t.id)}var yEe="https://api.devnet.solana.com",wEe="https://api.mainnet-beta.solana.com",bEe="wss://api.devnet.solana.com",vEe="wss://api.mainnet-beta.solana.com";function tB(t){return qL(t||yEe)}function nB(t){return qL(t||wEe)}function rB(t,e){if(t==="solana-devnet")return tB(e);if(t==="solana")return nB(e);throw new Error("Invalid network")}function _Ee(t,e){if(t==="solana-devnet")return LN(e?jN(e):bEe);if(t==="solana")return LN(e?jN(e):vEe);throw new Error("Invalid network")}function jN(t){return t.startsWith("http")?t.replace("http","ws"):t}function EEe(t){if(!QL.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return rB(t)}async function SEe(t){const e=ZY.decode(t);if(e.length===64)return await J1e(e);if(e.length===32)return await Q1e(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function AEe(t){return typeof t=="object"&&t!==null&&YL(t)}var TEe={};fT(TEe,{authorizationPrimaryType:()=>CEe,authorizationTypes:()=>xEe,config:()=>Qye,createClientAvalancheFuji:()=>dEe,createClientSepolia:()=>uEe,createConnectedClient:()=>IT,createSigner:()=>OT,createSignerAvalancheFuji:()=>fEe,createSignerSepolia:()=>hEe,getChainFromNetwork:()=>kT,isAccount:()=>mEe,isSignerWallet:()=>pEe,isZkStackChain:()=>eB,usdcABI:()=>ewe});var xEe={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},CEe="TransferWithAuthorization",IEe={};fT(IEe,{SvmAddressRegex:()=>RT});var RT=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,OEe=/^[A-Za-z0-9+/]*={0,2}$/,kEe=18,CA=/^0x[0-9a-fA-F]{40}$/,DT=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,REe=/^0x[0-9a-fA-F]{64}$/,DEe=/^0x[0-9a-fA-F]+$/,NT=["exact"],vm=[1],PT=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Hy=t=>Number.isInteger(Number(t))&&Number(t)>=0,NEe=t=>e=>e.length<=t,UT=wn().regex(CA).or(wn().regex(RT)),PEe=wn().regex(DT).or(wn().regex(RT)),_m=Rr({scheme:Fa(NT),network:Jb,maxAmountRequired:wn().refine(Hy),resource:wn().url(),description:wn(),mimeType:wn(),outputSchema:iu(ah()).optional(),payTo:UT,maxTimeoutSeconds:Us().int(),asset:PEe,extra:iu(ah()).optional()}),UEe=Rr({from:wn().regex(CA),to:wn().regex(CA),value:wn().refine(Hy).refine(NEe(kEe)),validAfter:wn().refine(Hy),validBefore:wn().refine(Hy),nonce:wn().regex(REe)}),$Ee=Rr({signature:wn().regex(DEe),authorization:UEe}),MEe=Rr({transaction:wn().regex(OEe)}),iB=Rr({x402Version:Us().refine(t=>vm.includes(t)),scheme:Fa(NT),network:Jb,payload:nL([$Ee,MEe])});Rr({x402Version:Us().refine(t=>vm.includes(t)),error:Fa(PT).optional(),accepts:Gb(_m).optional(),payer:wn().regex(DT).optional()});var LEe=Fa(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),BEe=Rr({type:Iwe("http"),method:LEe,queryParams:iu(wn(),wn()).optional(),bodyType:Fa(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:iu(wn(),ah()).optional(),headerFields:iu(wn(),ah()).optional()});Cwe("type",[BEe]);var jEe=Rr({resource:wn(),type:Fa(["http"]),x402Version:Us().refine(t=>vm.includes(t)),accepts:Gb(_m),lastUpdated:xwe(),metadata:iu(ah()).optional()});Rr({paymentPayload:iB,paymentRequirements:_m});Rr({paymentPayload:iB,paymentRequirements:_m});Rr({isValid:tL(),invalidReason:Fa(PT).optional(),payer:UT.optional()});Rr({success:tL(),errorReason:Fa(PT).optional(),payer:UT.optional(),transaction:wn().regex(DT),network:Jb});Rr({type:wn().optional(),limit:Us().optional(),offset:Us().optional()});Rr({x402Version:Us().refine(t=>vm.includes(t)),items:Gb(jEe),pagination:Rr({limit:Us(),offset:Us(),total:Us()})});var zEe=Rr({x402Version:Us().refine(t=>vm.includes(t)),scheme:Fa(NT),network:Jb,extra:iu(ah()).optional()});Rr({kinds:Gb(zEe)});var FEe={};fT(FEe,{createDevnetRpcClient:()=>tB,createMainnetRpcClient:()=>nB,createSignerFromBase58:()=>SEe,createSvmConnectedClient:()=>EEe,decodeTransactionFromPayload:()=>qEe,getRpcClient:()=>rB,getRpcSubscriptions:()=>_Ee,getTokenPayerFromTransaction:()=>WEe,isSignerWallet:()=>AEe,signAndSimulateTransaction:()=>HEe,signTransactionWithSigner:()=>sB});function qEe(t){try{const n=Xve().encode(t.transaction);return x_e().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function WEe(t){const e=Z0e().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,l=n[s].toString();if(l===XL.toString()||l===aEe.toString()){const c=i.accountIndices??[];if(c.length>=4){const d=c[3],f=n[d].toString();if(f)return f}}}return""}async function HEe(t,e,n){const r=await sB(t,e),i=O_e(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function sB(t,e){if(KL(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(GL(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return VEe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function VEe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}Rr({paymentHeader:wn(),paymentRequirements:_m});class Hl{static parse(e){try{return new Hl(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return PO(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=PO(e)}}class $T extends Hl{static parse(e){try{return new $T(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const sCe=({style:t,...e})=>ae.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[ae.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),ae.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),KEe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",GEe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Td,qf;class YEe extends bu{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:GEe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new In("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw oc(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new vu(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((l=>l.id)))},Td?(this.proxyProvider.setWalletProvider(Td.getProvider()),this.setBaseAccountSdk(Td)):this.importPromise=Me(()=>import("./index-DGqsWxPd.js"),__vite__mapDeps([3,1,2])).then((({createBaseAccountSDK:l})=>{Td=l(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Td.getProvider()),this.setBaseAccountSdk(Td)})).catch(console.error)}}let ZEe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class XEe extends bu{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:KEe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new In("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw oc(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",qf=ik({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(qf.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new vu(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!qf){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((l=>!ZEe.includes(l))):[];s.length>0&&!s.every((l=>Wz.has(l)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),qf=ik(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(qf.getProvider())}}const JEe=({...t})=>ae.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:ae.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class zN extends bu{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[YE(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:JEe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:l}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=l,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function Tn(){let t=EB();return t?t.getAccessToken():Promise.resolve(nt.get(Ay)||nt.get(Vf)||null)}const QEe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function qp(t){return t?{"privy-ui":"t"}:void 0}class Md{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new oe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(XG,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new oe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(JG,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Lt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new oe("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new oe("Email must be set when initialzing authentication.");let i=qp(r);try{return await this.api.post(ZG,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Lt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class eSe extends Md{async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new oe("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(eY,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Lt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class ia{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class FN{get meta(){return this._meta}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.channelToken)throw new oe("Auth flow must be initialized first");try{let e=await this.api.post(HG,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new oe("No response from authentication");return e}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(VG,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Lt(e)}}async _startChannelOnce(){if(!this.api)throw new oe("Auth flow has no API instance");let e=await this.api.post(WG,{token:this.captchaToken});$a.isMobile&&!$a.isIOS&&e.connect_uri&&F4(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new oe("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.channelToken)throw new oe("Auth flow must be initialized first");let e=await this.api.get(KG,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ia(this._startChannelOnce.bind(this)),this.pollForReady=new ia(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function MT(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function aB(){return MT()?window.chrome?.runtime?.id:void 0}function IA(){return MT()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function qN(t){return new Promise(((e,n)=>{IA()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){return MT()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!r){let f=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(f)}let s=new URL(r),l=aB();if(!l)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==l)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let f=s.hostname.split(".");if(f.length!==3||f[1]!=="chromiumapp"||f[2]!=="org"||f[0]!==l)throw Error("Invalid responseUri origin")}}let c=s.searchParams.get("privy_oauth_state"),d=s.searchParams.get("privy_oauth_code");if(!c||!d)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:c,privyOAuthCode:d})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function OA(t){return crypto.getRandomValues(new Uint8Array(t))}function LT(){return Zy(OA(36))}function oB(){return LT()}async function lB(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return Zy(n)}}class Dd{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new oe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new oe("User denied confirmation during OAuth flow");let e=(function(){let n=nt.get(wf);if(!n)throw new oe("Authentication error.");return n})();try{let n=await this.api.post($4,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return nt.del(wf),nt.del(Qy),nt.del(op),n}catch(n){let r=Lt(n);throw r.privyErrorCode?new oe(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new oe("Invalid code during oauth flow.",void 0,Ee.OAUTH_USER_DENIED):new oe("Invalid code during OAuth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new oe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new oe("User denied confirmation during OAuth flow");let e=nt.get(wf);if(!e)throw new oe("Authentication error.");try{let n=await this.api.post(M4,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return nt.del(wf),n}catch(n){throw Lt(n)}}async getAuthorizationUrl(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.provider)throw new oe("Provider must be set when initializing OAuth authentication.");let e=LT();nt.put(wf,e);let n=oB();nt.put(Jy,n);let r=await lB(e);this.meta.withPrivyUi||nt.put(Qy,!0),this.meta.disableSignup?nt.put(op,!0):nt.del(op);let i=qp(this.meta.withPrivyUi),s=window.location.href,l=(function(){let c=aB();if(c)return`https://${c}.chromiumapp.org`})();l&&(s=l);try{return await this.api.post(U4,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(c){throw Lt(c)}}constructor(e){this.meta=e}}function tSe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!nt.get(Qy),popupFlow:window.opener!==null&&i,disableSignup:!!nt.get(op)}}function aCe(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),nt.del(Jy),window.history.replaceState({},"",t)}class xd{async initRegisterFlow(e){if(!this.api)throw new oe("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new oe("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new oe("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Me(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(mY,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):Lt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Me(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((r=>({type:"public-key",id:r})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(pY,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):Lt(r)}}async link(){let e=await Me(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(fY,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,Ee.PASSKEY_NOT_ALLOWED):Lt(n)}}async _initRegisterOnce(e){if(!this.api)throw new oe("Auth flow has no API instance");let n=qp(e);return await this.api.post(hY,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new oe("Auth flow has no API instance");let n=qp(e);return await this.api.post(dY,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new oe("Auth flow has no API instance");return await this.api.post(uY,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ia(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ia(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ia(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const kA=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Vy{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new oe("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Lt(e)}}async link(){if(!this.client)throw new oe("SiweFlow has no client instance");try{if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Lt(e)}}async sign(){if(!this.client)throw new oe("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new oe("Could not prepare SIWE message");if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new oe("SiweFlow has no client instance");if(!this.wallet)throw new oe("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new oe("SiweFlow has no client instance");if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=kA({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ia(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class WN{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new oe("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Lt(e)}}async link(){if(!this.client)throw new oe("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Lt(e)}}async sign(){let e,n;if(!this.client)throw new oe("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new oe("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new oe("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:W_.decode(this.preparedMessage)});e=W_.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=W_.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new oe("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new oe("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=$Y({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",l){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ia(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=l}}class Ld{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new oe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(sY,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new oe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(rY,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Lt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new oe("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new oe("phone nNumber must be set when initialzing authentication.");let i=qp(r);try{return await this.api.post(nY,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Lt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class nSe extends Ld{async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new oe("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(aY,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Lt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const cB=F.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:pe,setError:pe,setExecuting:pe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:e6,reset:pe,execute:pe});class RA extends sc{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const rSe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=F.useRef(null),s=F.useRef(null),[l,c]=F.useState(),[d,f]=F.useState(),[p,m]=F.useState(!1),g=F.useMemo((()=>r?p||l||d?!p||l||d?l&&!d?{status:"success",token:l}:d?{status:"error",error:d}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,l,d,p]),y=F.useMemo((()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),m(!1),f(void 0),c(void 0)},reset:()=>{i.current?.reset(),m(!1),f(void 0),c(void 0)},execute:()=>{m(!0),i.current?.execute()},waitForResult:async()=>{try{return await g3((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new RA("Captcha failed",null,Ee.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),m(!1),f(void 0),c(void 0)},reset:()=>{s.current?.resetCaptcha(),m(!1),f(void 0),c(void 0)},execute:()=>{m(!0),s.current?.execute()},waitForResult:async()=>{try{return await g3((()=>{let _=s.current?.getResponse();if(_)return _}),{interval:200,timeout:2e4})}catch{throw new RA("Captcha failed",null,Ee.CAPTCHA_TIMEOUT)}}}:null),[r]),b=F.useMemo((()=>{if(!r||!y)return{...g,enabled:!1,siteKey:"",appId:e,setToken:pe,setError:pe,setExecuting:pe,waitForResult:()=>Promise.resolve(void 0),remove:e6,reset:pe,execute:pe,provider:void 0,ref:{current:null}};let _={...g,enabled:!0,appId:e,setToken:c,setError:f,setExecuting:m};return r==="turnstile"?{..._,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...y}:{..._,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...y}}),[g,r,y,e,n]);return ae.jsx(cB.Provider,{value:b,children:t})},uB=()=>F.useContext(cB);class Wf{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(gY,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(yY,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Lt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function oCe(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===Ee.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===Ee.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===Ee.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof RA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function HN(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function VN(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let iSe=F.lazy((()=>Me(()=>import("./TurnstileWrapper-Co-t5mTh-DCBDwIlp.js"),__vite__mapDeps([4,1,2])))),sSe=F.lazy((()=>Me(()=>import("./HCaptchaWrapper-CUi9LJsp-8JYckUNv.js"),__vite__mapDeps([5,1,2]))));const aSe=t=>{let e=uB();return F.useEffect((()=>e.remove),[e.remove]),e.enabled&&e.provider?ae.jsx(F.Suspense,{fallback:null,children:ae.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&ae.jsx(iSe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&ae.jsx(sSe,{...t,captchaContext:e})]})}):null};var Qb=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>Me(()=>import("./AccountNotFoundScreen-C055cesr-DkOkVJhT.js"),__vite__mapDeps([6,1,2,7,8,9,10,11])),AffirmativeConsentScreen:()=>Me(()=>import("./AffirmativeConsentScreen-DXy2kEcy-C930EfYG.js"),__vite__mapDeps([12,1,2,8,13,7,9,10,11,14])),AllowlistRejectionScreen:()=>Me(()=>import("./AllowlistRejectionScreen-BIzWPeoe-BHpyISLA.js"),__vite__mapDeps([15,1,2,7,8,9,10,16,11])),AuthenticateWithWalletScreen:()=>Me(()=>import("./AuthenticateWithWalletScreen-q3jQKiH6-CoOTYk_m.js"),__vite__mapDeps([17,1,2,18,8,19,20,11,21,22,23,24,25,26,27,28,9,10])),AwaitingEvmToSolBridgingScreen:()=>Me(()=>import("./AwaitingEvmToSolBridgingScreen-B4R4PEVm-BfReFman.js"),__vite__mapDeps([29,1,2,30,31,8,32,33,10,34,35,36,37,38,39,40,41,42,43,44,26,45,46,47,48,49,50,51,20,11,21,52,53,54,55,56,57,58,59,7,9,60,61,62])),AwaitingExternalEthereumTransferScreen:()=>Me(()=>import("./AwaitingExternalEthereumTransferScreen-Dwy69FD1-BAVT23il.js"),__vite__mapDeps([63,1,2,30,31,8,32,33,10,34,35,64,55,56,36,37,41,42,43,44,26,45,46,47,38,48,49,50,51,20,11,21,52,53,54,57,58,59,7,9,60,61,62])),AwaitingPasswordlessCodeScreen:()=>Me(()=>import("./AwaitingPasswordlessCodeScreen-Ch_YXDTX-DMPFZnt_.js"),__vite__mapDeps([65,1,2,66,67,31,22,13,7,8,9,10])),AwaitingSolToEvmBridgingScreen:()=>Me(()=>import("./AwaitingSolToEvmBridgingScreen-spElnpUE-FWf6PG5o.js"),__vite__mapDeps([68,1,2,30,31,8,32,33,10,36,37,49,50,47,43,44,51,20,11,21,52])),CaptchaScreen:()=>Me(()=>import("./CaptchaScreen-BZy78GrD-hriyrJzp.js"),__vite__mapDeps([69,1,2,7,8,9,10,60,11,70])),CoinbaseOnrampStatusScreen:()=>Me(()=>import("./CoinbaseOnrampStatusScreen-CTWZaE1o-BuXRhchn.js"),__vite__mapDeps([71,1,2,72,73,8,31,36])),ConnectLedgerScreen:()=>Me(()=>import("./ConnectLedgerScreen-CIPOaq8e-DAzeQx-M.js"),__vite__mapDeps([74,1,2,7,8,9,10,11])),ConnectOnlyLandingScreen:()=>Me(()=>import("./ConnectOnlyLandingScreen-CbLV-cj4-KwkzNdFc.js"),__vite__mapDeps([75,1,2,18,8,19,20,11,21,22,23,24,25,26,27,28,9,10])),ConnectOnlyStatusScreen:()=>Me(()=>import("./ConnectOnlyStatusScreen-bmx1wwk1-CEtsPBaa.js"),__vite__mapDeps([76,1,2,7,8,9,10,77,22,27,13])),ConnectOrCreateScreen:()=>Me(()=>import("./ConnectOrCreateScreen-DXw5Y8gN-u7gLfMct.js"),__vite__mapDeps([78,1,2,79,8,18,19,20,11,21,22,23,24,25,26,27,28,9,10,80,48,44,81,82,83,84,85,86,87,7])),ConnectionStatusScreen:()=>Me(()=>import("./ConnectionStatusScreen-D-9fLZfA-D_KzR1r6.js"),__vite__mapDeps([77,1,2,22,27,13,7,8,9,10])),CrossAppAuthScreen:()=>Me(()=>import("./CrossAppAuthScreen-Co723kT3-DhN4Sb3y.js"),__vite__mapDeps([88,1,2,13,7,8,9,10])),DelegatedActionsConsentScreen:()=>Me(()=>import("./DelegatedActionsConsentScreen-CyQTJHgT-87J28s0W.js"),__vite__mapDeps([89,1,2,90,8,26,91,51,20,11,21,53,7,9,10,92,60])),DelegatedActionsRevokeScreen:()=>Me(()=>import("./DelegatedActionsRevokeScreen-CFm4F3CM-3RKrLURN.js"),__vite__mapDeps([93,1,2,7,8,9,10,92,11,60])),EmbeddedWalletConnectingScreen:()=>Me(()=>import("./EmbeddedWalletConnectingScreen-DmTtzGwq-D-Jx8tOY.js"),__vite__mapDeps([94,1,2,7,8,9,10,70,11])),EmbeddedWalletCreatedScreen:()=>Me(()=>import("./EmbeddedWalletCreatedScreen-Cj1c5KyP-Dtrm9Py9.js"),__vite__mapDeps([95,1,2,7,8,9,10,60,11])),EmbeddedWalletKeyExportScreen:()=>Me(()=>import("./EmbeddedWalletKeyExportScreen-CsWRTEgd-DWsU1H3e.js"),__vite__mapDeps([96,1,2,97,98,90,8,26,91,51,20,11,21,53,7,9,10])),EmbeddedWalletOnAccountCreateScreen:()=>Me(()=>import("./EmbeddedWalletOnAccountCreateScreen-DBAmWm90-bWQR6g--.js"),__vite__mapDeps([99,1,2,7,8,9,10,70,11])),EmbeddedWalletPasswordCreateScreen:()=>Me(()=>import("./RecoveryPasswordCreateScreen-Q1zuy9fu-sskHKaNS.js"),__vite__mapDeps([100,1,2,101,98,31,8,102,103,73,32])),EmbeddedWalletPasswordUpdateScreen:()=>Me(()=>import("./EmbeddedWalletPasswordUpdateScreen-B5w6wtgf-CGxC5id8.js"),__vite__mapDeps([104,1,2,101,98,31,8,102,103,73,32])),EmbeddedWalletPasswordUpdateSplashScreen:()=>Me(()=>import("./EmbeddedWalletPasswordUpdateSplashScreen-BvsscceO-BMGSm1IT.js"),__vite__mapDeps([105,1,2,7,8,9,10,16,11])),ErrorScreen:()=>Me(()=>import("./ErrorScreen-DtGc3Chy-D7PsekO9.js"),__vite__mapDeps([106,1,2,37,7,8,9,10,11,16])),FarcasterConnectStatusScreen:()=>Me(()=>import("./FarcasterConnectStatusScreen-DGeCyr6b-ClKTlO8O.js"),__vite__mapDeps([107,1,2,108,23,24,8,91,13,7,9,10,82,20,11,21])),FarcasterSignerStatusScreen:()=>Me(()=>import("./FarcasterSignerStatusScreen-DASa1xq2-DXCcIrZX.js"),__vite__mapDeps([109,1,2,110,108,23,24,7,8,9,10,82])),FundSolWalletWithExternalSolanaWallet:()=>Me(()=>import("./FundSolWalletWithExternalSolanaWallet-0jNi_hvn-BX8Z_cq9.js"),__vite__mapDeps([111,1,2,30,8,31,32,33,50,47,10,43,44,112,34,35,36,40,113,38,62])),FundWithBankDepositScreen:()=>Me(()=>import("./FundWithBankDepositScreen-D_uu3GEF-CoQfcn80.js"),__vite__mapDeps([114,1,2,19,20,11,21,7,8,9,10,115,70])),FundingAmountEditScreen:()=>Me(()=>import("./FundingEditAmountScreen-vQUS-a80-CrRDvPC1.js"),__vite__mapDeps([116,1,2,8,31,33,10,46,34,35,56,57,58,59,11,20,7,9,60,61])),FundingMethodSelectionScreen:()=>Me(()=>import("./FundingMethodSelectionScreen-G8gkM1Mk-4NOTJRIp.js"),__vite__mapDeps([117,1,2,72,8,33,118,119,115,28,120,121,36,57,58,59,11,20,7,9,10,60,61])),InAppBrowserLoginNotPossible:()=>Me(()=>import("./InAppBrowserLoginNotPossible-C8mlSbYe-A830pc6K.js"),__vite__mapDeps([122,1,2,7,8,9,10,14,11])),InstallWalletScreen:()=>Me(()=>import("./InstallWalletScreen-D0kdHc5W-DNOu8-LD.js"),__vite__mapDeps([123,1,2,22,59,11,20,7,8,9,10])),LandingScreen:()=>Me(()=>import("./LandingScreen-0MlIkV3C-rFDGKl1T.js"),__vite__mapDeps([124,1,2,79,8,18,19,20,11,21,22,23,24,25,26,27,28,9,10,80,48,44,81,82,83,84,85,86,87,7])),LinkConflictScreen:()=>Me(()=>import("./LinkConflictScreen-DW31R5fr-65Y3kVY2.js"),__vite__mapDeps([125,1,2,98,47,8,126,51,20,11,21,127,119])),LinkEmailScreen:()=>Me(()=>import("./LinkEmailScreen-B10iXGH8-C0v7QGHg.js"),__vite__mapDeps([128,1,2,66,80,8,48,44,25,26,81,11,31,7,9,10])),LinkPasskeyScreen:()=>Me(()=>import("./LinkPasskeyScreen-OxaghvUl-D8f-vH8s.js"),__vite__mapDeps([58,1,2,59,11,20,7,8,9,10,60,61])),LinkPhoneScreen:()=>Me(()=>import("./LinkPhoneScreen-Cdg3eg7w-8pt0MajQ.js"),__vite__mapDeps([129,1,2,67,84,8,48,44,7,9,10])),LoginFailedScreen:()=>Me(()=>import("./LoginFailedScreen-BVOo2ycm-BnxCx08Z.js"),__vite__mapDeps([130,1,2,7,8,9,10,70,11])),ManualTransferScreen:()=>Me(()=>import("./ManualTransferScreen-_04Sq7zU-Bgitqxgc.js"),__vite__mapDeps([131,1,2,8,31,23,24,33,115,45,46,90,26,91,51,20,11,21,53,132,36,38,113,40,39,42,62])),MfaAuthEnrollmentFlowScreen:()=>Me(()=>import("./MfaAuthEnrollmentFlowScreen-DApO6DPY-BmyPStTn.js"),__vite__mapDeps([133,1,2,8,134,135,136,83,67,48,44,106,37,7,9,10,11,16,58,59,20,60,61,110,31,91,45,46,53,23,24])),MfaAuthVerifyFlowScreen:()=>Me(()=>import("./MfaAuthVerifyFlowScreen-mdmdgWdO-DPW0AkMF.js"),__vite__mapDeps([137,1,2,138,136,83,67,134,8,7,9,10,98,126,34,35,139,140,56,40,39,31,54])),MfaEnrollmentFlowScreen:()=>Me(()=>import("./MfaEnrollmentFlowScreen-DRZTnt-I-DJtEmdWk.js"),__vite__mapDeps([141,1,2,8,134,135,136,83,67,48,44,106,37,7,9,10,11,16,58,59,20,60,61,110,31,91,45,46,53,23,24,30,84])),MoonpayStatusScreen:()=>Me(()=>import("./MoonpayStatusScreen-DDSK5dda-RRjqoIu8.js"),__vite__mapDeps([142,1,2,72,73,8,31,121,36])),OAuthStatusScreen:()=>Me(()=>import("./OAuthStatusScreen-DSAUQ_YN-TmG8CFkn.js"),__vite__mapDeps([143,1,2,85,52,13,7,8,9,10,127])),PasskeySelectSignupOrLogin:()=>Me(()=>import("./PasskeySelectSignupOrLogin-G19VpAdI-Cm6I3W0m.js"),__vite__mapDeps([144,1,2,7,8,9,10,61,11])),PasskeyStatusScreen:()=>Me(()=>import("./PasskeyStatusScreen-TD2nYAnk-SFcabHMC.js"),__vite__mapDeps([145,1,2,13,7,8,9,10,61,11])),PasswordRecoveryScreen:()=>Me(()=>import("./PasswordRecoveryScreen-C0oVVZYe-B51Vt_gC.js"),__vite__mapDeps([146,1,2,134,8,31,102,9,10])),RecoveryOAuthScreen:()=>Me(()=>import("./RecoveryOAuthStatusScreen-Ca9VYOrA-U2h6a9in.js"),__vite__mapDeps([147,1,2,8,32,148])),RecoverySelectionScreen:()=>Me(()=>import("./RecoverySelectionScreen-scmqFA8Y-CyAcMF2E.js"),__vite__mapDeps([149,1,2,150,8,32,148])),SendTransactionScreen:()=>Me(()=>import("./index-BH9-XZRZ-D1pv50qi.js"),__vite__mapDeps([151,1,2,51,8,20,11,21,34,35,132,120,55,56,106,37,7,9,10,16,152,153,43,44,26,91,45,46,90,53,103,118,119,97,98,54,62,31,32,139,140,40,39,64])),SetAutomaticRecoveryScreen:()=>Me(()=>import("./SetAutomaticRecoveryScreen-D-__1Pf7-BMbHRDca.js"),__vite__mapDeps([154,1,2,98,150,8,45,46])),SignRequestScreen:()=>Me(()=>import("./SignRequestScreen-D6HSUOxx-CFMSY19g.js"),__vite__mapDeps([155,1,2,110,31,152,7,8,9,10,11])),StandardSignAndSendTransactionScreen:()=>Me(()=>import("./StandardSignAndSendTransactionScreen-YlstFfkB-Dtb5vDo5.js"),__vite__mapDeps([156,1,2,35,106,37,7,8,9,10,11,16,30,31,32,43,44,140,56,40,39,126,153,26,91,45,46,51,20,21,90,53,103,118,119,97,98,54,62,112])),TelegramAuthScreen:()=>Me(()=>import("./TelegramAuthScreen-DHCcieoC-CDEVjqAr.js"),__vite__mapDeps([157,1,2,13,7,8,9,10,86])),TransferFromWalletScreen:()=>Me(()=>import("./TransferFromWalletScreen-BG5Mj5tz-NkZKxQS9.js"),__vite__mapDeps([158,1,2,8,32,33,48,44,45,87,11,50,47,57,58,59,20,7,9,10,60,61])),UpdateEmailScreen:()=>Me(()=>import("./UpdateEmailScreen-ndRi1gY6-D-cK_Qi7.js"),__vite__mapDeps([159,1,2,66,31,8,25,26,7,9,10,81,11])),UpdatePhoneScreen:()=>Me(()=>import("./UpdatePhoneScreen-DoH__glA-DGZsdF5_.js"),__vite__mapDeps([160,1,2,67,84,8,48,44,7,9,10])),UserLimitReachedScreen:()=>Me(()=>import("./UserLimitReachedScreen-BLzaOW7F-6aeN6CBn.js"),__vite__mapDeps([161,1,2,7,8,9,10])),WalletInterstitialScreen:()=>Me(()=>import("./WalletInterstitialScreen-BQ-ku50j-H_bfCCYo.js"),__vite__mapDeps([162,1,2,7,8,9,10]))});function oSe(t){ub("configureMfa",t)}const Wp=ac((()=>({inProgressMfaFlow:void 0}))),lSe=JH`
  :root {
     ${t=>cSe(t.palette)}
  };
`,cSe=t=>{let e=(function(n){return{"--privy-color-background":n.background,"--privy-color-background-2":n.background2,"--privy-color-background-3":n.background3,"--privy-color-foreground":n.foreground,"--privy-color-foreground-2":n.foreground2,"--privy-color-foreground-3":n.foreground3,"--privy-color-foreground-4":n.foreground4,"--privy-color-foreground-accent":n.foregroundAccent,"--privy-color-accent":n.accent,"--privy-color-accent-light":n.accentLight,"--privy-color-accent-hover":n.accentHover,"--privy-color-accent-dark":n.accentDark,"--privy-color-accent-darkest":n.accentDarkest,"--privy-color-success":n.success,"--privy-color-success-dark":n.successDark,"--privy-color-success-light":n.successLight,"--privy-color-success-bg":n.successBg,"--privy-color-error":n.error,"--privy-color-error-light":n.errorLight,"--privy-color-error-bg":n.errorBg,"--privy-color-error-bg-hover":n.errorBgHover,"--privy-color-warn":n.warn,"--privy-color-warn-light":n.warnLight,"--privy-color-warn-bg":n.warnBg,"--privy-color-warning-dark":n.warningDark,"--privy-color-error-dark":n.errorDark,"--privy-color-info-bg":n.infoBg,"--privy-color-info-bg-hover":n.infoBgHover,"--privy-color-border-default":n.borderDefault,"--privy-color-border-hover":n.borderHover,"--privy-color-border-focus":n.borderFocus,"--privy-color-border-error":n.borderError,"--privy-color-border-success":n.borderSuccess,"--privy-color-border-warning":n.borderWarning,"--privy-color-border-info":n.borderInfo,"--privy-color-border-interactive":n.borderInteractive,"--privy-color-border-interactive-hover":n.borderInteractiveHover,"--privy-color-background-hover":n.backgroundHover,"--privy-color-background-clicked":n.backgroundClicked,"--privy-color-background-disabled":n.backgroundDisabled,"--privy-color-background-interactive":n.backgroundInteractive,"--privy-color-background-interactive-hover":n.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":n.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":n.backgroundInteractiveDisabled,"--privy-color-foreground-hover":n.foregroundHover,"--privy-color-foreground-clicked":n.foregroundClicked,"--privy-color-foreground-disabled":n.foregroundDisabled,"--privy-color-foreground-interactive":n.foregroundInteractive,"--privy-color-foreground-interactive-hover":n.foregroundInteractiveHover,"--privy-link-navigation-color":n.linkNavigationColor,"--privy-link-navigation-decoration":n.linkNavigationDecoration,"--privy-accent-has-good-contrast":n.accentHasGoodContrast,"--privy-color-icon-default":n.iconDefault,"--privy-color-icon-muted":n.iconMuted,"--privy-color-icon-subtle":n.iconSubtle,"--privy-color-icon-inverse":n.iconInverse,"--privy-color-icon-success":n.iconSuccess,"--privy-color-icon-warning":n.iconWarning,"--privy-color-icon-error":n.iconError,"--privy-color-icon-interactive":n.iconInteractive,"--privy-color-icon-default-hover":n.iconDefaultHover,"--privy-color-icon-muted-hover":n.iconMutedHover,"--privy-color-icon-subtle-hover":n.iconSubtleHover,"--privy-color-icon-default-clicked":n.iconDefaultClicked,"--privy-color-icon-muted-clicked":n.iconMutedClicked,"--privy-color-icon-subtle-clicked":n.iconSubtleClicked,"--privy-color-icon-default-disabled":n.iconDefaultDisabled,"--privy-color-icon-muted-disabled":n.iconMutedDisabled,"--privy-color-icon-subtle-disabled":n.iconSubtleDisabled,"--privy-color-icon-error-hover":n.iconErrorHover,"--privy-color-icon-interactive-hover":n.iconInteractiveHover,"--privy-color-icon-error-clicked":n.iconErrorClicked,"--privy-color-icon-interactive-clicked":n.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":n.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":n.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t);return Xp`
    ${Object.entries(e).map((([n,r])=>`${n}: ${r};`)).join(`
`)}
  `},KN=bn.div`
  // css normalize only the privy application to avoid conflicts
  // with consuming application
  ${`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`}

  // Privy styles
  color: var(--privy-color-foreground-2);

  h3 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
    color: var(--privy-color-foreground-2);
  }

  h4 {
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    color: var(--privy-color-foreground);
  }

  p {
    font-size: 13px;
    line-height: 20px;
    color: var(--privy-color-foreground-2);
  }

  button:focus,
  input:focus,
  optgroup:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--privy-color-accent-light);
    box-shadow: 0 0 0 3px var(--privy-color-border-focus);
  }

  .mobile-only {
    @media (min-width: 441px) {
      display: none;
    }
  }

  /* Animations */

  @keyframes fadein {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`,uSe=({children:t,open:e,onClick:n,...r})=>ae.jsx(xP,{show:e,as:et.Fragment,children:ae.jsxs(eJ,{onClose:n,...r,as:hSe,children:[ae.jsx(Rp,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:ae.jsx(dSe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),ae.jsx(fSe,{children:ae.jsx(Rp,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:ae.jsx(CP,{as:pSe,children:t})})})]})});let dSe=bn.div`
  position: fixed;
  inset: 0;

  transition: backdrop-filter 100ms ease;
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);

  &.entering,
  &.leaving {
    backdrop-filter: unset;
    -webkit-backdrop-filter: unset;
  }
`,hSe=bn.div`
  position: relative;
  z-index: 999999;
`,fSe=bn.div`
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  min-height: 100vh;
`;const pSe=bn.div`
  // reset some default dialog styles
  padding: 0;
  background: transparent;
  border: none;
  width: 100%;
  pointer-events: auto;

  outline: none;
  display: block;

  /*
   * Normally it is bad to mix media queries like this We are doing
   * this here specifically for animations to avoid weird jank.
   */
  /* Mobile animation is a bottom drawer */
  @media (max-width: 440px) {
    opacity: 1;
    transform: translate3d(0, 0, 0);
    transition: transform 200ms ease-in;
    position: fixed;
    bottom: 0;

    &.entering,
    &.leaving {
      opacity: 0;
      transform: translate3d(0, 100%, 0);
      transition:
        transform 150ms ease-in 0ms,
        opacity 0ms ease 150ms;
    }
  }

  /* Tablet/Desktop animation is a fade in */
  @media (min-width: 441px) {
    opacity: 1;
    transition: opacity 100ms ease-in;

    &.entering,
    &.leaving {
      opacity: 0;
      transition-delay: 5ms;
    }

    margin: auto;
    width: 360px;
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`;bn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;const mSe=()=>{let{ready:t}=mh(),{currentScreen:e}=Kd(),[n,r]=F.useState(null),[i,s]=F.useState(!1),l=(function(c){let[d,f]=F.useState(!1),p=F.useRef(null),m=F.useRef(null),g=F.useRef(null);return F.useEffect((()=>{if(p.current&&(clearTimeout(p.current),p.current=null),m.current&&(clearTimeout(m.current),m.current=null),c)g.current=Date.now(),p.current=setTimeout((()=>{f(!0)}),150);else if(g.current!==null){let y=Date.now()-g.current;if(y>=150){let b=Math.max(0,400-(y-150));m.current=setTimeout((()=>{f(!1),g.current=null}),b)}else p.current&&(clearTimeout(p.current),p.current=null),f(!1),g.current=null}return()=>{p.current&&clearTimeout(p.current),m.current&&clearTimeout(m.current)}}),[c]),d})(i);return F.useEffect((()=>{if(!e)return r(null),void s(!1);s(!0),Qb[e]().then((c=>{(!e||t||c.default.isShownBeforeReady)&&(r((()=>c.default.component)),s(!1))})).catch((()=>{r(null),s(!1)}))}),[e,t]),{component:n,isLoading:l}};let GN=F.lazy((()=>Me(()=>import("./MfaVerifyFlowScreen-mrf95cEs-BdZcsoBm.js"),__vite__mapDeps([163,1,2,138,136,83,67,134,8,7,9,10,98,126,34,35,139,140,56,40,39,31,54])))),gSe=F.lazy((()=>(t=>Qb[t]().then((e=>({default:e.default.component}))))("MfaAuthVerifyFlowScreen"))),ySe=()=>ae.jsx(_Se,{children:ae.jsx(hb,{})}),dB=()=>{let{currentScreen:t}=Kd(),e=Wp((s=>s.inProgressMfaFlow)),n=()=>Wp.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=mSe();return(function(){let{isModalOpen:s}=mh(),{headless:l}=os(),{currentScreen:c}=Kd(),{status:d,execute:f,reset:p,enabled:m}=uB(),[g,y]=F.useState(!1);F.useEffect((()=>{!s&&m&&p()}),[s,m,p]),F.useEffect((()=>{c?Qb[c]().then((b=>{y(!!b.default.isCaptchaRequired)})).catch((()=>{y(!1)})):y(!1)}),[c]),F.useEffect((()=>{s&&g&&!l&&d==="ready"&&m&&f()}),[s,g,l,d,m,f])})(),t||e!=="txn"?i?ae.jsx(ySe,{}):r?ae.jsxs(ae.Fragment,{children:[ae.jsx(F6,{$if:!!e,children:ae.jsx(F.Suspense,{children:ae.jsx(r,{})})}),ae.jsxs(F.Suspense,{children:[e==="txn"&&ae.jsx(GN,{onClose:n}),e==="auth"&&ae.jsx(gSe,{})]})]}):null:ae.jsx(F.Suspense,{children:ae.jsx(GN,{onClose:n})})},wSe=()=>{let t=F.useRef(null);return ae.jsx(vSe,{style:{height:gV(t)},id:"privy-modal-content",children:ae.jsx("div",{ref:t,children:ae.jsx(dB,{})})})};const bSe=({open:t})=>{let e=os(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=qo(),{onUserCloseViaDialogOrKeybindRef:s}=Kd();return{gracefulClosePrivyModal:F.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=Wp((i=>i.inProgressMfaFlow));return oSe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||Wp.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?ae.jsx(KN,{children:ae.jsx(hB,{id:"privy-modal-content",children:ae.jsx(dB,{})})}):ae.jsx(uSe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:ae.jsx(KN,{children:ae.jsx(wSe,{})})})};let hB=bn.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  width: 100%;
  background: var(--privy-color-background);
  padding: 0 16px;
`,vSe=bn(hB)`
  transition: height 150ms ease-out;
  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none;

  // Ensure the modal gets pinned to the top if it ever gets too tall
  max-height: calc(100svh - 32px);

  border-radius: var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;
  box-shadow: 0px 0px 36px rgba(55, 65, 81, 0.15);

  @media (min-width: 441px) {
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`,_Se=bn.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: 2rem;
`;function ESe(t){let e=F.useRef(null),n=F.useRef();return F.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:l}=new URL(i);return s.async=!0,s.src=`${l}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(n.current)}),[t]),ae.jsx("div",{ref:e,hidden:!0})}const SSe=()=>{let{ready:t}=nV(),{client:e}=qo();return F.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));nt.put(H5,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};class DA extends bu{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=k_(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:fV(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:lV,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,NY(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(r=i[0]),!r||r==="")throw new In("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=k_(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=r2(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?oc(r):new In("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let l=mV(s.id,this.chains,this.rpcConfig,this.privyAppId);l&&(e[s.id]=l)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await Lye.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:KM,optionalMethods:VM,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),UY(),!this.showPrivyQrModal)throw new In("WalletConnect modal not available - Privy handles wallet connections through its own UI");if($a.isMobile&&this.walletEntry){let{redirect:l,href:c}=DY(s,this.walletEntry);F4(l,"_self"),PY({href:c,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let d=sk(s,this.walletEntry);return this.redirectUri=l,this.fallbackUniversalRedirectUri=d?.redirect,this.showPrivyQrModal({native:l,universal:l})}if(this.redirectUri=void 0,this.walletEntry){let l=sk(s,this.walletEntry);this.fallbackUniversalRedirectUri=l?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{i.session?.peer.metadata.url&&(this.walletEntry=k_(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:l,privyAppName:c,walletClientType:d}){super(d||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=l,this.privyAppName=c,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new vu(void 0,this.rpcTimeoutDuration),d&&(this.walletEntry=dV(d),this.walletClientType=d)}}const ASe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class jn extends Error{constructor(e,n){super(n),this.type=e}}function Eh(t){let e=t.type;return typeof e=="string"&&ASe.includes(e)}function Jw(t){return Eh(t)&&t.type==="wallet_not_on_device"}function lCe(t){return Eh(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function cCe(t){return!!Eh(t)&&t.type==="mfa_timeout"}function uCe(t){return!!Eh(t)&&t.type==="missing_or_invalid_mfa"}function dCe(t){return!!Eh(t)&&t.type==="mfa_verification_max_attempts_reached"}function hCe(t){return!(!Eh(t)||!t.message.includes("code 429"))}function fCe(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}async function Is(t,e,n,r,i,s=!1){let l=s,c=async f=>{if(l&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new jn("missing_or_invalid_mfa","MFA verification failed, retry."));let p=await new Promise(((m,g)=>{n.current={resolve:m,reject:g},setTimeout((()=>{let y=new jn("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(y),g(y)}),3e5)}));return await t(p)}return await t()},d=null;for(let f=0;f<4;f++)try{d=await c(f),r.current?.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),p;l=!0}if(d===null){let f=new jn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(f),f}return d}var YN;let TSe=(YN=0,()=>"id-"+YN++);function mr(t){return t.error!==void 0}let nr=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},wE=new Map,xSe=(t,e)=>typeof e=="bigint"?e.toString():e;function gr(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((c,d)=>`${c}${JSON.stringify(d,xSe)}`)(t,e);if(t==="privy:wallet:create"||t==="privy:wallets:add"||t==="privy:solana-wallet:create"){let c=wE.get(s);if(c)return c}let l=new Promise(((c,d)=>{let f=TSe();nr.enqueue(f,{resolve:c,reject:d}),i.postMessage({id:f,event:t,data:e},r)})).finally((()=>{wE.delete(s)}));return wE.set(s,l),l}function CSe(t){let e=G5(),n=F.useRef(null),r=F.useRef(t.mfaMethods),i=db(),[s,l]=F.useState(!1);return F.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),F.useEffect((()=>{if(!s)return;let c=n.current;if(!c)return;function d(m){var g;m&&m.origin===t.origin&&typeof(g=m.data).event=="string"&&/^privy:.+/.test(g.event)&&(function(y){switch(y.event){case"privy:iframe:ready":let b=nr.dequeue(y.event,y.id);return mr(y)?b.reject(new jn(y.error.type,y.error.message)):b.resolve(y.data);case"privy:user-signer:sign":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallets:add":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallets:set-recovery":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallets:connect":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallets:recover":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallets:rpc":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:wallet:create":let _=nr.dequeue(y.event,y.id);return mr(y)?_.reject(new jn(y.error.type,y.error.message)):_.resolve(y.data);case"privy:wallets:import":let E=nr.dequeue(y.event,y.id);return mr(y)?E.reject(new jn(y.error.type,y.error.message)):E.resolve(y.data);case"privy:mfa:verify":let k=nr.dequeue(y.event,y.id);return mr(y)?k.reject(new jn(y.error.type,y.error.message)):k.resolve(y.data);case"privy:mfa:init-enrollment":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:mfa:submit-enrollment":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:mfa:unenroll":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:mfa:clear":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:auth:unlink-passkey":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:solana-wallet:create":let D=nr.dequeue(y.event,y.id);return mr(y)?D.reject(new jn(y.error.type,y.error.message)):D.resolve(y.data);case"privy:farcaster:init-signer":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:farcaster:sign":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}case"privy:delegated-actions:consent":{let x=nr.dequeue(y.event,y.id);return mr(y)?x.reject(new jn(y.error.type,y.error.message)):x.resolve(y.data)}default:console.warn("Unsupported wallet proxy method:",y)}})(m.data)}let f={signWithUserSigner:m=>Is((g=>gr("privy:user-signer:sign",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:m=>Is((g=>gr("privy:wallets:add",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:m=>Is((g=>gr("privy:wallets:set-recovery",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:m=>Is((g=>gr("privy:wallets:connect",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:m=>Is((g=>gr("privy:wallets:recover",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!m.recoveryAccessToken&&!m.recoveryPassword&&!m.recoverySecretOverride),rpc:m=>Is((g=>gr("privy:wallets:rpc",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:m=>gr("privy:wallet:create",m,c,t.origin),importWallet:m=>gr("privy:wallets:import",m,c,t.origin),createSolana:m=>Is((g=>gr("privy:solana-wallet:create",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:m=>gr("privy:delegated-actions:consent",m,c,t.origin),verifyMfa:m=>Is((g=>gr("privy:mfa:verify",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:m=>Is((g=>gr("privy:mfa:init-enrollment",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:m=>Is((g=>gr("privy:mfa:submit-enrollment",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:m=>Is((g=>gr("privy:mfa:unenroll",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:m=>gr("privy:mfa:clear",m,c,t.origin),unlinkPasskeyAccount:m=>Is((g=>gr("privy:auth:unlink-passkey",{...m,...g},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:m=>gr("privy:farcaster:init-signer",m,c,t.origin),signFarcasterMessage:m=>gr("privy:farcaster:sign",m,c,t.origin)};window.addEventListener("message",d);let p=new AbortController;return GE((()=>gr("privy:iframe:ready",{},c,t.origin)),{abortSignal:p.signal}).then((()=>t.onLoad(f)),((...m)=>{console.warn("Privy iframe failed to load: ",...m),t.onLoadFailed()})),()=>{window.removeEventListener("message",d),p.abort()}}),[s]),e?ae.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>l(!0),src:Yye({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const ISe=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new oe("Address to delegate is not associated with current user.");if(!cb(n))throw new oe(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},OSe=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new oe("Address to delegate is not associated with current user.");let r=n.imported?n:Sp(e);if(!r)throw new oe("Unable to determine root address for delegated address.");if(!cb(r))throw new oe(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},ZN=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),XN="popup-privy-oauth",JN="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class kSe{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post($4,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(M4,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Lt(e)}}constructor(e){this.meta=e}}async function fB({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new oe("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const by=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let l=t?.linkedAccounts.find((m=>m.type==="cross_app"&&(m.embeddedWallets.some((g=>g.address===e))||m.smartWallets.some((g=>g.address===e)))));if(!t||!l)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new oe("Cannot request a signature with this wallet address");let c=n.getProviderAccessToken(l.providerApp.id),d=await fB({api:n.api,requesterAppId:i,providerAppId:l.providerApp.id});if(!c){if(d.readOnly)throw console.error("cannot transact against a read-only provider app"),new oe("Cannot transact against a read-only provider app");await s({appId:l.providerApp.id,action:"link"})&&(c=n.getProviderAccessToken(l.providerApp.id))}if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new oe("Transactions require a valid token");let f=new URL(d.customAuthTransactUrl||`${d.apiUrl}/oauth/transact`);f.searchParams.set("token",c||""),f.searchParams.set("request",RSe(r));let p=D4({location:f.href});if(!p)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new oe("Failed to initialize signature request");return new Promise(((m,g)=>{let y=setTimeout((()=>{E(),g(new oe("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{p.closed&&(E(),g(new oe("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),_=k=>{k.data&&(k.data.token?.action==="set"&&k.data.token?.value!==void 0?n.storeProviderAccessToken(l.providerApp.id,k.data.token.value):k.data.token?.action==="clear"&&n.storeProviderAccessToken(l.providerApp.id,null),k.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&k.data.result&&(E(),m(k.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),k.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&k.data.error&&(E(),g(k.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:k.data.error,address:e}})))};window.addEventListener("message",_);let E=()=>{p.close(),clearInterval(b),clearTimeout(y),window.removeEventListener("message",_)}}))};let RSe=t=>JSON.stringify({content:{request:{request:NA(t,Jt)}},timestamp:Date.now(),callbackUrl:window.origin});const NA=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>NA(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,NA(r,e)]))):t;function DSe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function NSe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?DSe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function PSe(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function QN(t,e){if(t.onComplete)switch(e){case"external":t.fundingResult?t.onComplete({...t.fundingResult,fundingMethod:e}):t.onComplete({status:"cancelled",address:t.address,fundingMethod:e,amount:t.amount});break;case null:t.onComplete({status:"cancelled",address:t.address,fundingMethod:void 0,amount:t.amount});break;default:t.onComplete({status:"completed",address:t.address,fundingMethod:e,amount:t.amount})}}function pCe(t,e,n,r,i,s,l){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":l.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const bE=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function e5(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}async function USe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let $Se={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const MSe=t=>{if(n6(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=$Se[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};async function t5(t,e,n,r){let i=Ky(t),{chain:s,...l}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...l,type:k5[l.type]}}const LSe=()=>{let t=os(),{user:e}=mh(),{client:n,refreshSessionAndUser:r,walletProxy:i}=qo();return{migrate:F.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0,migrated:!1};if(!e)throw new oe("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);if(!i)throw new oe("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new oe("User must be authenticated before migrating wallets",Ee.MUST_BE_AUTHENTICATED);let l=e.linkedAccounts.filter((f=>f.type==="wallet"&&f.walletClientType==="privy"&&cb(f)&&!ns(f)));if(l.length===0)return{success:!0,migrated:!1};let c=l.filter((f=>f.imported)),d=l.filter((f=>!f.imported));if(d.length>0){let f=d.find((g=>g.chainType==="ethereum"&&g.walletIndex===0))??d.find((g=>g.chainType==="solana"&&g.walletIndex===0))??null;if(!f)throw new oe("Primary wallet not found");let{entropyId:p,entropyIdVerifier:m}=aw(f);try{await i.connect({accessToken:s,entropyId:p,entropyIdVerifier:m})}catch(g){if(!Jw(g)||f.recoveryMethod!=="privy")throw g;await i.recover({accessToken:s,entropyId:p,entropyIdVerifier:m})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:f.address,chainType:f.chainType,imported:!1},delegatedWallets:d.map((g=>({address:g.address,chainType:g.chainType,walletIndex:g.walletIndex??0})))})}for(let f of c){let{entropyId:p,entropyIdVerifier:m}=aw(f);try{await i.connect({accessToken:s,entropyId:p,entropyIdVerifier:m})}catch(g){if(!Jw(g)||f.recoveryMethod!=="privy")throw g;await i.recover({accessToken:s,entropyId:p,entropyIdVerifier:m})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:f.address,chainType:f.chainType,imported:!0},delegatedWallets:[{address:f.address,chainType:f.chainType,walletIndex:f.walletIndex??0}]})}return await r(),{success:!0,migrated:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},BSe=({disabled:t})=>{let{migrate:e}=LSe(),{user:n}=mh(),{walletProxy:r}=qo(),i=F.useRef(!1),s=F.useRef(0);return F.useEffect((()=>{t||s.current>2||i.current||!n||!r||(i.current=!0,s.current++,e().catch((l=>{console.debug("Unable to migrate wallets: ",l)})).finally((()=>{i.current=!1})))}),[n,r,t,e]),null},jSe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),PA=ac((()=>({ethereum:[]}))),vy=()=>PA.getState().ethereum,Qw=ac((()=>({user:null,authenticated:!1}))),ft=t=>Qw.setState({user:t}),zSe=t=>Qw.setState({authenticated:t});class pB{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(SY,{token:this.meta.token})}catch(e){throw Lt(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(AY,{token:this.meta.token})}catch(e){throw Lt(e)}}constructor(e){this.meta={token:e}}}const FSe=(t,e)=>!Vl(t)&&(e==="all-users"||e==="users-without-wallets"&&!qSe(t).length);let qSe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const WSe=(t,e)=>!KA(t)&&(e==="all-users"||e==="users-without-wallets"&&!HSe(t).length);let HSe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const VSe=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=qo(),l=os();return{create:async({walletIndex:c,chainType:d,latestUser:f,recoveryMethod:p,recoveryPassword:m,recoveryAccessToken:g,idempotencyKey:y})=>{let b=f;b||(b=await r());let _=await s.getAccessToken();if(!b||!_||!t)throw Error("User must be authenticated before creating a Privy wallet");return await q4({appConfig:l,user:b,refreshSessionAndUser:r,privy:i,accessToken:_,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:c,chainType:d,recoveryMethod:p,recoveryPassword:m,recoveryAccessToken:g,idempotencyKey:y})}}};function KSe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:l,setAuthenticated:c,setUser:d,setIsNewUser:f}=qo(),{logout:p,authenticated:m,ready:g}=W4(),{create:y}=VSe(),b=os();if(!l)throw new oe("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[_,E]=F.useState({status:"initial"}),k=F.useRef(),D=F.useRef(!1),x=F.useRef(e);F.useEffect((()=>{x.current=e}),[e]);let T=F.useRef(r);F.useEffect((()=>{T.current=r}),[r]);let O=F.useRef(i);F.useEffect((()=>{O.current=i}),[i]);let C=F.useRef(s);F.useEffect((()=>{C.current=s}),[s]);let U=F.useRef(y);F.useEffect((()=>{U.current=y}),[y]);let z=F.useRef(b.embeddedWallets.ethereum.createOnLogin);F.useEffect((()=>{z.current=b.embeddedWallets.ethereum.createOnLogin}),[b.embeddedWallets.ethereum.createOnLogin]);let B=F.useRef(b.embeddedWallets.solana.createOnLogin);F.useEffect((()=>{B.current=b.embeddedWallets.solana.createOnLogin}),[b.embeddedWallets.solana.createOnLogin]);let q=F.useRef(d);F.useEffect((()=>{q.current=d}),[d]);let W=F.useRef(f);F.useEffect((()=>{W.current=f}),[f]);let K=F.useRef(c);return F.useEffect((()=>{K.current=c}),[c]),F.useEffect((()=>{if(!n||!g)return;let H=async()=>{if(!D.current){D.current=!0;try{E({status:"loading"});let G=await x.current();if(k.current!==void 0&&k.current===G)return void E({status:"done"});if(!G)return m&&(await p(),O.current?.()),k.current=G,void E({status:"done"});l.startAuthFlow(new pB(G));let{user:A,isNewUser:S=!1}=await l.authenticate();if(!A)throw new oe("Failed to sync with custom auth provider");T.current?.({user:A,isNewUser:S}),q.current(A),W.current(S),K.current(!0);let P=FSe(A,z.current),$=WSe(A,B.current);if(P&&$){let R=await U.current({chainType:"ethereum",walletIndex:0,latestUser:A});await U.current({chainType:"solana",walletIndex:0,latestUser:R.user})}else $?await U.current({chainType:"solana",walletIndex:0,latestUser:A}):P&&await U.current({chainType:"ethereum",walletIndex:0,latestUser:A});k.current=G,E({status:"done"})}catch(G){if(console.warn(G),await p().catch((()=>{})),O.current?.(),G instanceof tw&&G.privyErrorCode===Ee.LINKED_TO_ANOTHER_USER)return E({status:"initial"}),void setTimeout((()=>{H()}),0);C.current?.(G),E({status:"error",error:G})}finally{D.current=!1}}};return H(),t(H)}),[t,l,m,p,n,g]),n?{state:_}:{state:{status:"not-enabled"}}}let GSe=ac((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function YSe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=db(),i=F.useRef(),s=F.useCallback((d=>(i.current=d,()=>{i.current=void 0})),[]),l=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:c}=KSe({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:l,onAuthenticated:({user:d,isNewUser:f})=>{r("login","onComplete",{user:d,isNewUser:f,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:d})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:d=>{r("login","onError",d.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR)}});return F.useEffect((()=>{(async()=>n&&!n.isLoading&&i.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:c}})({customAuth:t});return F.useEffect((()=>{GSe.setState({jwtAuthFlowState:e})}),[e]),null}const mB=F.createContext(!1);let gB,yB,wB,bB,vB;const ZSe=t=>{let e=t.client,n=t.privy,r=Xye(),i=os();M6(KE(i?.appearance.walletList??[]));let[s,l]=F.useState(!1),c=Wp((N=>N.inProgressMfaFlow)),[d,f]=F.useState(!1),p=Qw((N=>N.user)),m=PA((N=>N.ethereum)),[g,y]=F.useState(void 0),[b,_]=F.useState(!1),[E,k]=F.useState(null),[D,x]=F.useState(!1),[T,O]=F.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:pe}),[C,U]=F.useState({status:"initial"}),[z,B]=F.useState({status:"initial"}),[q,W]=F.useState({status:"initial"}),[K,H]=F.useState({status:"initial"}),[G,A]=F.useState({status:"initial"}),[S,P]=F.useState({status:"initial"}),[$,R]=F.useState(null),L=G5(),[Y,Z]=F.useState({}),[ie,ee]=F.useState(null),se=F.useRef(null),[Se,Ie]=F.useState(!1),$e=F.useRef(null),xe=F.useRef(null),te=F.useRef(uV),[Ve,rt]=F.useState(!1),Le=Qw((N=>N.authenticated)),st=F.useCallback((N=>{zSe(N),!N&&E&&Qb[E]().then((j=>{j.default.isUnauthenticatedScreem&&k(null)}))}),[E]);e.onStoreCustomerAccessToken=N=>{N&&Ae(te,"accessToken","onAccessTokenGranted",{accessToken:N})},e.onDeleteCustomerAccessToken=()=>{ft(null),st(!1),Ae(te,"accessToken","onAccessTokenRemoved")};let De=F.useRef(null),ze=F.useRef(null),vr=F.useRef(!1),Mn=({showWalletUIs:N})=>vr.current?vr.current:N!==void 0?!N:!i.embeddedWallets.showWalletUIs,lt=N=>{k(N),setTimeout((()=>{l(!0)}),15)};F.useEffect((()=>{if(!p)return void e.connectors?.removeEmbeddedWalletConnectors();let N=Vl(p),j=r6(p),ne=ME(p);N&&j.length||e.connectors?.removeEmbeddedWalletConnectors(),ne.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?$?(N&&e.connectors.addEmbeddedWalletConnectors({walletProxy:$,user:p,embeddedWallets:j,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),ne.forEach((Q=>e.connectors?.addImportedWalletConnector($,Q.address,i.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[$,p]),F.useEffect((()=>{$&&se.current?.($)}),[$]),F.useEffect((()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()}),[i.externalWallets.solana.connectors]),F.useEffect((()=>{!d&&L&&(async function(){let N,j=Dr(),ne=yi(),Q=Z7();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:Q,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:y}),e.connectors?.on("connectorInitialized",(()=>{N&&clearTimeout(N);let _e=e.connectors.walletConnectors.length,Re=e.connectors.walletConnectors.reduce(((Ye,gt)=>Ye+(gt.initialized?1:0)),0);Re===_e?rt(!0):N=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Re,expected:_e}),rt(!0)}),1500)})),e.connectors?.initialize().then((()=>{zi()}));let le=await e.getAuthenticatedUser(),de=!!le;i.legal.requireUsersAcceptTerms&&le&&!le.hasAcceptedTerms?(await e.logout(),Ne.setReadyToTrue(!0),Ae(te,"logout","onSuccess")):(i.customAuth?.enabled||(st(!!le),le&&Ae(te,"login","onComplete",{user:le,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),ft(le)),j?ze.current=de?"link":"login":ne&&!de?(ze.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),lt("TelegramAuthScreen")):Ne.setReadyToTrue(!!le))})()}),[e,ie,d,L]),F.useEffect((()=>{if(d){if(!p||!p.linkedAccounts.find((N=>N.type==="wallet"&&N.walletClientType==="privy")))return void Ie(!!$);if([...m].some((N=>N.walletClientType==="privy")))return void Ie(!0);Ie(!!$)}}),[d,p,m,$]),F.useEffect((()=>{e.connectors?.setWalletList(i.appearance.walletList)}),[i.appearance.walletList.join()]);let Dr=()=>{let N=tSe();return N.inProgress&&N.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):N.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:N.stateCode,authorizationCode:N.authorizationCode}):(N.inProgress&&N.provider.startsWith("privy:")&&!N.popupFlow&&(new BroadcastChannel(XN).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:N.stateCode,authorizationCode:N.authorizationCode}),window.close()),!!N.inProgress&&!!N.withPrivyUi&&(e.startAuthFlow(new Dd({...N,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),lt("OAuthStatusScreen"),!0))},yi=()=>{let N=(function(){let ne;return(ne=(function(){let Q=new URLSearchParams(window.location.search),le=Number(Q.get("id")||""),de=Q.get("hash"),_e=Number(Q.get("auth_date")||""),Re=Q.get("first_name");if(le&&Re&&_e&&de)return Object.fromEntries(Q.entries())})())?(VN(),{flowType:"login-url",authData:ne}):(ne=(function(){let Q=window.location.hash;if(!Q||!Q.startsWith("#tgWebAppData"))return;let le=HN(Q.replace("#tgWebAppData=","")),{user:de,auth_date:_e,hash:Re}=le;return de&&_e&&Re?le:void 0})())?(VN(),{flowType:"web-app",authData:ne}):void 0})();if(!N||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let j=new Wf;return e.startAuthFlow(j),N.flowType==="login-url"&&(j.meta.telegramWebAppData=void 0,j.meta.telegramAuthResult=N.authData),N.flowType==="web-app"&&(j.meta.telegramAuthResult=void 0,j.meta.telegramWebAppData=N.authData),!0},oi=async(N,j,ne,Q)=>{if(N!=="solana_adapter")Zn(await e.connectors?.createEthereumWalletConnector({connectorType:N,walletClientType:j})||null,j,ne,Q);else{let le=e.connectors?.findSolanaWalletConnector(j);if(!le)return;Zn(le,j,ne,Q)}};async function Zn(N,j,ne,Q){if(!N)return O({status:"disconnected",connectedWallet:null,connectError:new In("Unable to connect to wallet."),connector:null,connectRetry:pe}),Q?.(null,ne);O({status:"disconnected",connectedWallet:null,connectError:null,connector:N,connectRetry:pe}),N instanceof DA&&j&&await N.resetConnection(j),O({connector:N,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Zn(N,j,ne,Q)});try{let le=await N.connect({showPrompt:!0});if((!le||Dl(le))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find((de=>de.id===Number(le?.chainId.replace("eip155:",""))))&&(le?.connectorType!=="wallet_connect_v2"||le?.walletClientType!=="metamask")){O((de=>({...de,connector:N,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:pe})));try{await le?.switchChain(i.defaultChain.id),le&&(le.chainId=up(Jt(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return O((de=>({...de,status:"connected",connectedWallet:le,connectError:null,connectRetry:pe}))),le&&Ae(te,"connectWallet","onSuccess",{wallet:le}),Q?.(le,ne)}catch(le){return le instanceof sc?(console.warn(le.cause?le.cause:le.message),Ae(te,"connectWallet","onError",le.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(le),Ae(te,"connectWallet","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR)),O((de=>({...de,status:"disconnected",connectedWallet:null,connectError:le}))),Q?.(null,ne)}}let Qt=async(N,j,ne)=>{if(N===null||!Dl(N))return;let Q=new Vy(e,N,j,ne);e.startAuthFlow(Q)},wi=async(N,j,ne,Q="plain")=>{let le=r(LY);if(Q==="transaction"&&!le)throw new oe("useSolanaLedger plugin hook must be mounted");if(N===null||!TV(N))return;let de=new WN(N,e,j,ne,Q,le);e.startAuthFlow(de)},zi=async()=>{let N=new URLSearchParams(window.location.search),j=N.get("privy_connector"),ne=N.get("privy_wallet_client"),Q=N.get("privy_connect_only")==="true";if(!j||!ne)return;let le=EV({connectorType:j,walletClientType:ne});if(!le||!le.isInstalled)return lt("LoginFailedScreen");if(!e.connectors)throw new oe("Connector not initialized");await lt(Q?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let de=new URL(window.location.href);de.searchParams.delete("privy_connector"),de.searchParams.delete("privy_wallet_client"),de.searchParams.delete("privy_connect_only"),window.history.pushState({},"",de),oi(j,ne,void 0,Q?void 0:j==="solana_adapter"?wi:Qt)};F.useEffect((()=>{d&&Le&&p===null&&e.getAuthenticatedUser().then(ft)}),[d,Le,p,e]);let Gt=N=>{if(!Le)throw Ae(te,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:N}),new oe("User must be authenticated before linking an account.")},Un=N=>{if(!Le||!p)return!1;if(N.walletClientType==="privy")return!0;for(let j of p.linkedAccounts)if(j.type==="wallet"&&j.address===N.address&&j.walletClientType!=="privy")return!0;return!1},_r=()=>{PA.setState((N=>{let j=e.connectors?.wallets.filter(Dl).map((ne=>({...ne,linked:Un(ne),loginOrLink:async()=>{if(!await ne.isConnected())throw new oe("Wallet is not connected");if(ne.connectorType==="embedded"&&ne.walletClientType==="privy")throw new oe("Cannot link or login with embedded wallet");(async Q=>{let le;if(!e.connectors)throw new oe("Connector not initialized");le=Q.type==="ethereum"?e.connectors.findWalletConnector(Q.connectorType,Q.walletClientType)||null:e.connectors.findSolanaWalletConnector(Q.walletClientType)||null,O((de=>({...de,connector:le,status:"connected",connectedWallet:Q,connectError:null,connectRetry:pe}))),i.captcha.enabledProvider&&!Le?(Z({captchaModalData:{callback:de=>Dl(Q)?Qt(Q,de):wi(Q,de),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await lt("CaptchaScreen")):(Dl(Q)?await Qt(Q):await wi(Q),await lt("ConnectionStatusScreen"))})(ne)},fund:async Q=>{await Ne.fundWallet(ne.address,Q)},unlink:async()=>{if(!Le)throw new oe("User is not authenticated.");if(ne.connectorType==="embedded"&&ne.walletClientType==="privy")throw new oe("Cannot unlink an embedded wallet");ft(await e.unlinkEthereumWallet(ne.address))}})))||[];return j6(N.ethereum,j)?{}:{ethereum:j}}))};F.useEffect((()=>{_r()}),[p?.linkedAccounts,Le,d]),F.useEffect((()=>{if(d){if(!e.connectors)throw new oe("Connector not initialized");_r(),e.connectors.on("walletsUpdated",_r)}}),[d]),F.useEffect((()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter((N=>N.startsWith("privy:"))).forEach((N=>e.getCrossAppProviderDetails(N.replace("privy:",""))))}),[!!e]);let Nr=({transaction:N,sponsor:j,uiOptions:ne,fundWalletConfig:Q,address:le,signOnly:de})=>new Promise((async(_e,Re)=>{let{requesterAppId:Ye}=ne||{},gt=de?"signTransaction":"sendTransaction",jt=le?Od(p,le):Vl(p);if(!jt&&le){let vt=S_(vy(),le);if(vt){if(j)throw new oe("Cannot sponsor transactions for externally connected wallet.");try{let Yt=await vt.getEthereumProvider(),Ge=N.data,$n=r(Z8);$n&&(Ge=$n.appendDataSuffix({data:Ge}));let Jr={...N,from:le,chainId:N.chainId||Number(vt.chainId.replace("eip155:","")),value:N.value!==void 0?Jt(N.value):void 0,data:Ge},dr=await Yt.request({method:gt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Jr]});return Ae(te,gt,"onSuccess",{hash:dr}),void _e({hash:dr})}catch(Yt){return Ae(te,gt,"onError",Ee.TRANSACTION_FAILURE),void Re(Yt??new Ea("Unable to "+gt+Yt))}}}if(!jt)return Ae(te,gt,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void Re(new oe("No embedded or connected wallet found for address."));if(!Le||!p)return Ae(te,gt,"onError",Ee.MUST_BE_AUTHENTICATED),void Re(Error("User must be authenticated before signing with a Privy wallet"));let Mt=jt.address,sn=jt.walletIndex??0,{entropyId:Qe,entropyIdVerifier:xt}=jl(p,jt),St=Er.wallets.find((vt=>vt.walletClientType==="privy"&&Ri(vt.address)===Ri(Mt)));if(!St)return Ae(te,gt,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void Re(Error("Must have a Privy wallet before signing"));let Nt=await St.getEthereumProvider(),ur=await Nt.request({method:"eth_chainId"}),Sr=N.chainId?Number(N.chainId):N6(ur);(vt=>{if(!i.chains.map((Yt=>Yt.id)).includes(vt))throw new In(`Chain ID ${vt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ee.UNSUPPORTED_CHAIN_ID)})(Sr);let zn=N.data,li=r(Z8);li&&(zn=li.appendDataSuffix({data:zn}));let dn={...N,from:N.from??Mt,chainId:Sr,data:zn},kn=await Tn();if(!kn||!$)return Ae(te,gt,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),void Re(Error("Must have valid access token and Privy wallet to send transaction"));let qa=ow(dn.chainId,i.chains,i.rpcConfig,{appId:t.appId}),qi=ns(jt),hs=async({transactionRequest:vt})=>{try{let Yt;if(!await Ne.recoverEmbeddedWallet({address:Mt}))throw Ae(te,gt,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Re(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(j){let Ge=await(async({transactionRequest:$n})=>{if(!qi)throw new oe("Sponsoring is only supported for wallets on the TEE stack");if(de)throw new oe("Cannot sponsor a sign transaction request");let Jr=ci=>ci==null?void 0:Jt(ci),dr=await ea(n,(async({message:ci})=>await $.signWithUserSigner({accessToken:kn,requesterAppId:Ye,message:ci})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:up(Jt($n.chainId)),sponsor:!0,params:{transaction:{from:$n.from,to:$n.to,chain_id:Jr($n.chainId),data:ap($n.data)?$n.data?$n.data:Jt(Uint8Array.from($n.data)):void 0,value:Jr($n.value)}},wallet_id:jt.id});if(dr.data&&"hash"in dr.data)return dr.data.hash;throw new Ea("Unable to sign transaction")})({transactionRequest:vt});return Ae(te,"sendTransaction","onSuccess",{hash:Ge}),Ge}if(qi){let Ge=Jr=>Jr==null?void 0:Jt(Jr),$n=await ea(n,(async({message:Jr})=>await $.signWithUserSigner({accessToken:kn,requesterAppId:Ye,message:Jr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:vt.from,to:vt.to,nonce:Ge(vt.nonce),chain_id:Ge(vt.chainId),data:ap(vt.data)?vt.data?vt.data:Jt(Uint8Array.from(vt.data)):void 0,value:Ge(vt.value),type:vt.type,gas_limit:Ge(vt.gasLimit??vt.gas),gas_price:Ge(vt.gasPrice??vt.gas),max_fee_per_gas:Ge(vt.maxFeePerGas),max_priority_fee_per_gas:Ge(vt.maxPriorityFeePerGas)}},wallet_id:jt.id});if(!$n.data||!("signed_transaction"in $n.data))throw new Ea("Unable to sign transaction");Yt=$n.data.signed_transaction}else Yt=await(async function({accessToken:Ge,entropyId:$n,entropyIdVerifier:Jr,transactingWalletIndex:dr,walletProxy:ci,transactionRequest:Sh,requesterAppId:Iu}){return(await ci.rpc({entropyId:$n,entropyIdVerifier:Jr,hdWalletIndex:dr??0,chainType:"ethereum",accessToken:Ge,requesterAppId:Iu,request:{method:"eth_signTransaction",params:[Sh]}})).response.data})({accessToken:kn,entropyId:Qe,entropyIdVerifier:xt,transactingWalletIndex:sn,walletProxy:$,transactionRequest:vt,requesterAppId:Ye});if(de)return Ae(te,"signTransaction","onSuccess",{signature:Yt}),Yt;{let Ge=await qa.sendRawTransaction({serializedTransaction:Yt});return Ae(te,"sendTransaction","onSuccess",{hash:Ge}),Ge}}catch(Yt){throw Ae(te,gt,"onError",Ee.TRANSACTION_FAILURE),Yt}};if(Mn({showWalletUIs:ne?.showWalletUIs})){let vt=de||j?dn:await t5(dn,qa,dn.from);try{let Yt=await hs({transactionRequest:vt});de?Ae(te,"signTransaction","onSuccess",{signature:Yt}):Ae(te,"sendTransaction","onSuccess",{hash:Yt}),_e({hash:Yt})}catch(Yt){Ae(te,gt,"onError",Ee.TRANSACTION_FAILURE),Re(Yt)}}else{let vt={connectingWalletAddress:Mt,recoveryMethod:jt.recoveryMethod,entropyId:Qe,entropyIdVerifier:xt,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:qi,onFailure:Ge=>{Ae(te,gt,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Re(Ge)}},Yt=(Ge=>!!Ge.fundingConfig&&n2(Ge.fundingConfig.options).length>=1)(i)?m3({address:Mt,appConfig:i,fundWalletConfig:Q,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:dn.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:vt,sendTransaction:{transactionRequest:dn,transactingWalletIndex:sn,transactingWalletAddress:Mt,entropyId:Qe,entropyIdVerifier:xt,signOnly:de,scanTransaction:async()=>{let Ge=await t5(dn,qa,dn.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:Ge.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Ge.from,to:Ge.to,value:Ge.value?.toString(),gas:Ge.gas?.toString(),gasPrice:Ge.gasPrice?.toString(),nonce:Ge.nonce?.toString(),data:Ge.data}]}})},getIsSponsored:async()=>!!j,onConfirm:({transactionRequest:Ge})=>hs({transactionRequest:Ge}),onSuccess:Ge=>{de?Ae(te,"signTransaction","onSuccess",{signature:Ge.hash}):Ae(te,"sendTransaction","onSuccess",{hash:Ge.hash}),_e(Ge)},onFailure:Ge=>{Ae(te,gt,"onError",Ee.TRANSACTION_FAILURE),Re(Ge)},uiOptions:ne||{},fundWalletConfig:Q,requesterAppId:Ye},funding:Yt}),lt("EmbeddedWalletConnectingScreen")}}));function mt(){return new Promise((async(N,j)=>{let ne=await Tn();if(!ne||!$)throw Error("Must have valid access token to enroll in MFA");try{await $.verifyMfa({accessToken:ne}),N()}catch(Q){j(Q)}}))}let bt=N=>N?.linkedAccounts.filter((j=>j.latestVerifiedAt!==null&&!(j.type==="wallet"&&j.walletClientType==="privy"))).sort(((j,ne)=>ne.latestVerifiedAt.getTime()-j.latestVerifiedAt.getTime()))[0],qe=N=>{let j=p?.linkedAccounts.filter((le=>le.type===N)).length??0,{displayName:ne,loginMethod:Q}=MSe(N);if(N==="passkey"&&j>=5||N!=="passkey"&&j>=1)throw Ae(te,"linkAccount","onError",Ee.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:Q}),new oe(`User already has an account of type ${ne} linked.`)};async function dt({showAutomaticRecovery:N=!1,legacySetWalletPasswordFlow:j=!1}){k(null);let ne=j?"setWalletPassword":"setWalletRecovery";if(!Le||!p)throw Ae(te,ne,"onError",Ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let Q=Sp(p);if(!Q||!$)throw Ae(te,ne,"onError",Ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let le=ns(Q);if(le)throw Ae(te,ne,"onError",Ee.UNSUPPORTED_WALLET_TYPE),new oe("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await mt()}catch(de){throw Ae(te,ne,"onError",Ee.MISSING_MFA_CREDENTIALS),de}return new Promise(((de,_e)=>{let Re=Q.recoveryMethod==="user-passcode",Ye=NSe({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:j,isResettingPassword:Re,showAutomaticRecovery:N}),{entropyId:gt,entropyIdVerifier:jt}=jl(p),Mt={recoveryMethod:Q.recoveryMethod,connectingWalletAddress:Q.address,onCompleteNavigateTo:Ye,shouldForceMFA:!1,entropyId:gt,isUnifiedWallet:le,entropyIdVerifier:jt,onFailure:sn=>{Ae(te,ne,"onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),_e(sn)}};Z({setWalletPassword:{onSuccess:sn=>{Ae(te,ne,"onSuccess",{method:"user-passcode",wallet:sn}),de(sn)},onFailure:sn=>{Ae(te,ne,"onError",Ee.USER_EXITED_SET_PASSWORD_FLOW),_e(sn)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:gt,entropyIdVerifier:jt,onFailure:_e},connectWallet:Mt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Re,shouldCreateEth:!1,shouldCreateSol:!1}}),lt("EmbeddedWalletConnectingScreen")}))}async function un({appId:N,action:j,disableSignup:ne}){let Q=await Tn();if(j==="link"&&!Q)throw Ae(te,"linkAccount","onError",Ee.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${N}`}),new oe("User must be authenticated before linking an account.");if(j==="login"&&Q)throw Ae(te,"login","onError",Ee.UNKNOWN_AUTH_ERROR),new oe("Attempted to log in, but user is already logged in. Use a `link` helper instead.");De.current=`privy:${N}`,ze.current=j;let le=D4();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:N}}),new Promise((async(de,_e)=>{let{name:Re,logoUrl:Ye}=await fB({api:e.api,providerAppId:N,requesterAppId:i.id});Z({crossAppAuth:{appId:N,name:Re,logoUrl:Ye,action:j,popup:le,disableSignup:ne,onSuccess:de,onError:_e}}),lt("CrossAppAuthScreen")}))}let Bt={ready:d,authenticated:Le,user:p,walletConnectors:e.connectors||null,connectWallet:N=>{N&&"target"in N&&N&&(N=void 0),Z({externalConnectWallet:{walletList:N?.walletList&&N?.walletList.length>0?N.walletList:void 0,walletChainType:N?.walletChainType,description:N?.description,hideHeader:N?.hideHeader}}),lt("ConnectOnlyLandingScreen")},linkWallet:N=>(N&&"target"in N&&N&&(N=void 0),Gt("siwe"),De.current="siwe",ze.current="link",Z({...Y,externalConnectWallet:{...Y.externalConnectWallet,walletList:N?.walletList,walletChainType:N?.walletChainType,description:N?.description||`Link a wallet to your ${i?.name} account`}}),lt("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:un,linkEmail:()=>{Gt("email"),qe("email"),De.current="email",ze.current="link",lt("LinkEmailScreen")},linkPhone:()=>{Gt("sms"),qe("phone"),De.current="sms",ze.current="link",lt("LinkPhoneScreen")},linkGoogle:async()=>{Gt("google"),qe("google_oauth"),ze.current="link",await Ne.initLoginWithOAuth("google")},linkTwitter:async()=>{Gt("twitter"),qe("twitter_oauth"),ze.current="link",await Ne.initLoginWithOAuth("twitter")},linkTwitch:async()=>{Gt("twitch"),qe("twitch_oauth"),ze.current="link",await Ne.initLoginWithOAuth("twitch")},linkDiscord:async()=>{Gt("discord"),qe("discord_oauth"),ze.current="link",await Ne.initLoginWithOAuth("discord")},linkGithub:async()=>{Gt("github"),qe("github_oauth"),ze.current="link",await Ne.initLoginWithOAuth("github")},linkSpotify:async()=>{Gt("spotify"),qe("spotify_oauth"),ze.current="link",await Ne.initLoginWithOAuth("spotify")},linkInstagram:async()=>{Gt("instagram"),qe("instagram_oauth"),ze.current="link",await Ne.initLoginWithOAuth("instagram")},linkTiktok:async()=>{Gt("tiktok"),qe("tiktok_oauth"),ze.current="link",await Ne.initLoginWithOAuth("tiktok")},linkLine:async()=>{Gt("line"),qe("line_oauth"),ze.current="link",await Ne.initLoginWithOAuth("line")},linkLinkedIn:async()=>{Gt("linkedin"),qe("linkedin_oauth"),ze.current="link",await Ne.initLoginWithOAuth("linkedin")},linkApple:async()=>{Gt("apple"),qe("apple_oauth"),ze.current="link",await Ne.initLoginWithOAuth("apple")},linkPasskey:async()=>{Gt("passkey"),qe("passkey"),await Ne.initLinkWithPasskey(),lt("LinkPasskeyScreen")},linkTelegram:async N=>{if(Gt("telegram"),qe("telegram"),ze.current="link",De.current="telegram",N?.launchParams)if(N.launchParams.initDataRaw){let j=new Wf;e.startAuthFlow(j),j.meta.telegramAuthResult=void 0,j.meta.telegramWebAppData=HN(N.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),lt("TelegramAuthScreen")}else Ae(te,"linkAccount","onError",Ee.INVALID_DATA,{linkMethod:"telegram"});else await Ne.initLoginWithTelegram();lt("TelegramAuthScreen")},linkFarcaster:async()=>{Gt("farcaster"),qe("farcaster"),await Ne.initLoginWithFarcaster(),ze.current="link",De.current="farcaster",lt("FarcasterConnectStatusScreen")},updateEmail:()=>{if(Gt("email"),!p?.email)throw new oe("User does not have an email linked to their account.");ze.current="update",De.current="email",lt("UpdateEmailScreen")},updatePhone:()=>{if(Gt("sms"),!p?.phone)throw new oe("User does not have a phone number linked to their account.");ze.current="update",De.current="sms",lt("UpdatePhoneScreen")},login:async N=>{N&&"target"in N&&N&&(N=void 0);let j="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!d){let ne=await new Promise((Q=>{ee((le=>Q.bind(le)))}));if(ee(null),ne)return void console.warn(j)}!p||p.isGuest?(ze.current="login",Z({login:N}),lt("LandingScreen")):console.warn(j)},connectOrCreateWallet:async()=>{d||(await new Promise((N=>{ee((()=>N))})),ee(null)),Le?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ze.current="connect-or-create",lt("ConnectOrCreateScreen"))},logout:async()=>{if(ze.current=null,De.current=null,p&&e.clearProviderAcccessTokens(p),k(null),await e.logout(),p&&$)try{await $.clearMfa({userId:p.id})}catch{}ft(null),st(!1),B({status:"initial"}),W({status:"initial"}),U({status:"initial"}),H({status:"initial"}),A({status:"initial"}),P({status:"initial"}),Ae(te,"logout","onSuccess"),l(!1),nt.del(UE),nt.del(W5(i.id))},getAccessToken:F.useCallback((async()=>{let N=await e.getCustomerAccessToken();return N&&!Le&&st(!0),N}),[e,Le]),unlinkWallet:async N=>{let j;return ft(j=N.startsWith("0x")?await e.unlinkEthereumWallet(N):await e.unlinkSolanaWallet(N)),j},unlinkEmail:async N=>{let j=await e.unlinkEmail(N);return ft(j),j},unlinkPhone:async N=>{let j=await e.unlinkPhone(N);return ft(j),j},unlinkGoogle:async N=>{let j=await e.unlinkOAuth("google",N);return ft(j),j},unlinkTwitter:async N=>{let j=await e.unlinkOAuth("twitter",N);return ft(j),j},unlinkTwitch:async N=>{let j=await e.unlinkOAuth("twitch",N);return ft(j),j},unlinkDiscord:async N=>{let j=await e.unlinkOAuth("discord",N);return ft(j),j},unlinkGithub:async N=>{let j=await e.unlinkOAuth("github",N);return ft(j),j},unlinkSpotify:async N=>{let j=await e.unlinkOAuth("spotify",N);return ft(j),j},unlinkInstagram:async N=>{let j=await e.unlinkOAuth("instagram",N);return ft(j),j},unlinkTiktok:async N=>{let j=await e.unlinkOAuth("tiktok",N);return ft(j),j},unlinkLine:async N=>{let j=await e.unlinkOAuth("line",N);return ft(j),j},unlinkLinkedIn:async N=>{let j=await e.unlinkOAuth("linkedin",N);return ft(j),j},unlinkApple:async N=>{let j=await e.unlinkOAuth("apple",N);return ft(j),j},unlinkFarcaster:async N=>{let j=await e.unlinkFarcaster(N);return ft(j),j},unlinkTelegram:async N=>{let j=await e.unlinkTelegram(N);return ft(j),j},unlinkPasskey:async N=>{let j=await Tn();if(!j)throw Error("Must have valid access token to enroll in MFA");if(!$)throw Error("Wallet proxy not initialized.");let ne=i.passkeys.shouldUnenrollMfaOnUnlink;await $.unlinkPasskeyAccount({credentialId:N,accessToken:j,removeAsMfa:ne});let Q=await e.getAuthenticatedUser();return ft(Q),Q},unlinkCrossAppAccount:async({subject:N})=>{let j=p?.linkedAccounts.find((Q=>Q.type==="cross_app"&&Q.subject===N))?.providerApp;if(!j)throw new oe("Invalid subject");e.storeProviderAccessToken(j.id,null);let ne=await e.unlinkOAuth(`privy:${j.id}`,N);return ft(ne),ne},setWalletRecovery:async N=>dt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:N?.showAutomaticRecovery??!1}),setWalletPassword:async()=>dt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(N,j)=>new Promise((async(ne,Q)=>{let{requesterAppId:le}=j?.uiOptions||{},de=N.message,_e=j?.address?Od(p,j.address):Vl(p);if(!_e&&j?.address!==void 0){let Qe=S_(vy(),j.address);if(Qe)try{let xt=await Qe.getEthereumProvider(),St=await xt.request({method:"personal_sign",params:[de,Qe.address]});return Ae(te,"signMessage","onSuccess",{signature:St}),void ne({signature:St})}catch(xt){return Ae(te,"signMessage","onError",Ee.UNABLE_TO_SIGN),void Q(xt??new Ea("Unable to sign message"))}}if(!_e)throw new oe("No embedded or connected wallet found for address.");if(!Le||!p)return Ae(te,"signMessage","onError",Ee.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let Re=_e.address,Ye=_e.walletIndex??0,{entropyId:gt,entropyIdVerifier:jt}=jl(p,_e),Mt=ns(_e);if(typeof de!="string"||de.length<1)return Ae(te,"signMessage","onError",Ee.INVALID_MESSAGE),void Q(Error("Message must be a non-empty string"));let sn=async()=>{let Qe;if(!Le)throw Error("User must be authenticated before signing with a Privy wallet");let xt=await Tn();if(!$||!xt||!await Ne.recoverEmbeddedWallet({address:Re}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Re,requesterAppId:le}}),Mt){let St=ap(N.message,{strict:!0}),Nt=await ea(n,(async({message:ur})=>await $.signWithUserSigner({accessToken:xt,requesterAppId:le,message:ur})),{chain_type:"ethereum",method:"personal_sign",params:St?{message:de.slice(2),encoding:"hex"}:{message:de,encoding:"utf-8"},wallet_id:_e.id});if(!Nt.data||!("signature"in Nt.data))throw new Ea("Unable to sign message");Qe=Nt.data.signature}else{let{response:St}=await $.rpc({accessToken:xt,entropyId:gt,entropyIdVerifier:jt,chainType:"ethereum",hdWalletIndex:Ye,requesterAppId:le,request:{method:"personal_sign",params:[de,Re]}});Qe=St.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Re,requesterAppId:le}}),Qe};if(Mn({showWalletUIs:j?.uiOptions?.showWalletUIs}))try{let Qe=await sn();Ae(te,"signMessage","onSuccess",{signature:Qe}),ne({signature:Qe})}catch(Qe){Ae(te,"signMessage","onError",Ee.UNABLE_TO_SIGN),Q(Qe??new Ea("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:de,confirmAndSign:sn,onSuccess:Qe=>{Ae(te,"signMessage","onSuccess",{signature:Qe}),ne({signature:Qe})},onFailure:Qe=>{Ae(te,"signMessage","onError",Ee.UNABLE_TO_SIGN),Q(Qe)},uiOptions:j?.uiOptions||{}},connectWallet:{recoveryMethod:_e.recoveryMethod,connectingWalletAddress:Re,entropyId:gt,entropyIdVerifier:jt,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:Mt,onFailure:Qe=>{Ae(te,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Q(Qe)}}}),lt("EmbeddedWalletConnectingScreen")})),signTypedData:(N,j)=>new Promise((async(ne,Q)=>{let{requesterAppId:le}=j?.uiOptions||{},de=j?.address?Od(p,j.address):Vl(p);if(!de&&j?.address){let Qe=S_(vy(),j.address);if(Qe)try{let xt=await Qe.getEthereumProvider(),St=Dy(N),Nt=await xt.request({method:"eth_signTypedData_v4",params:[Qe.address,St]});return Ae(te,"signTypedData","onSuccess",{signature:Nt}),void ne({signature:Nt})}catch(xt){return Ae(te,"signTypedData","onError",Ee.UNABLE_TO_SIGN),void Q(xt??new Ea("Unable to sign typed data "+xt))}}if(!de)throw new oe("No embedded or connected wallet found for address.");if(!Le||!p)return Ae(te,"signTypedData","onError",Ee.MUST_BE_AUTHENTICATED),void Q(Error("User must be authenticated before signing with a Privy wallet"));let _e=de.address,Re=de.walletIndex??0,{entropyId:Ye,entropyIdVerifier:gt}=jl(p,de),jt=ns(de),Mt=Dy(N),sn=async()=>{let Qe;if(!Le)throw Error("User must be authenticated before signing with a Privy wallet");let xt=await Tn();if(!$||!xt||!await Ne.recoverEmbeddedWallet({address:_e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:_e,requesterAppId:le}}),jt){let{domain:St,types:Nt,primaryType:ur,message:Sr}=Mt,zn=await ea(n,(async({message:li})=>await $.signWithUserSigner({accessToken:xt,requesterAppId:le,message:li})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:St,types:Nt,primary_type:ur,message:Sr}},wallet_id:de.id});if(!zn.data||!("signature"in zn.data))throw new Ea("Unable to sign message");Qe=zn.data.signature}else{let{response:St}=await $.rpc({accessToken:xt,entropyId:Ye,entropyIdVerifier:gt,chainType:"ethereum",hdWalletIndex:Re,requesterAppId:le,request:{method:"eth_signTypedData_v4",params:[_e,Mt]}});Qe=St.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:_e,requesterAppId:le}}),Qe};if(Mn({showWalletUIs:j?.uiOptions?.showWalletUIs}))try{let Qe=await sn();Ae(te,"signTypedData","onSuccess",{signature:Qe}),ne({signature:Qe})}catch(Qe){Ae(te,"signTypedData","onError",Ee.UNABLE_TO_SIGN),Q(Qe??new Ea("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:Mt,confirmAndSign:sn,onSuccess:Qe=>{Ae(te,"signTypedData","onSuccess",{signature:Qe}),ne({signature:Qe})},onFailure:Qe=>{Ae(te,"signTypedData","onError",Ee.UNABLE_TO_SIGN),Q(Qe)},uiOptions:j?.uiOptions||{}},connectWallet:{recoveryMethod:de.recoveryMethod,connectingWalletAddress:de.address,entropyId:Ye,isUnifiedWallet:jt,entropyIdVerifier:gt,onCompleteNavigateTo:"SignRequestScreen",onFailure:Qe=>{Ae(te,"signMessage","onError",Ee.UNKNOWN_CONNECT_WALLET_ERROR),Q(Qe)}}}),lt("EmbeddedWalletConnectingScreen")})),sendTransaction:async(N,j)=>await Nr({transaction:N,sponsor:j?.sponsor,uiOptions:j?.uiOptions,fundWalletConfig:j?.fundWalletConfig,address:j?.address,signOnly:!1}),signTransaction:async(N,j)=>({signature:(await Nr({transaction:N,uiOptions:j?.uiOptions,address:j?.address,signOnly:!0})).hash}),promptMfa:mt,async init(N){switch(N){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${N}`)}},async submit(N,j){switch(N){case"totp":case"sms":if(typeof j!="string")throw new oe("Invalid MFA code");$e.current?.resolve({mfaMethod:N,mfaCode:j,relyingParty:window.origin}),await new Promise(((le,de)=>{xe.current={resolve:le,reject:de}}));break;case"passkey":if(typeof j=="string")throw new oe("Invalid authenticator response");let ne=await Me(()=>import("./index-D9std1Z8.js"),[]),Q=jSe(await ne.startAuthentication({optionsJSON:j}));$e.current?.resolve({mfaMethod:N,mfaCode:Q,relyingParty:window.origin}),await new Promise(((le,de)=>{xe.current={resolve:le,reject:de}}));break;default:throw $e.current?.reject(new oe("Unsupported MFA method")),new oe(`Unsupported MFA method: ${N}`)}},cancel(){$e.current?.reject(new oe("MFA canceled"))},async initEnrollmentWithSms(N){let j=await Tn();if(!j||!$)throw Error("Must have valid access token to enroll in MFA");await $.initEnrollMfa({method:"sms",accessToken:j,phoneNumber:N.phoneNumber})},enrollInMfa:N=>new Promise(((j,ne)=>{if(!N)return Ne.closePrivyModal(),void j();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:j,onFailure:ne}}),lt("MfaEnrollmentFlowScreen")})),async initEnrollmentWithTotp(){let N=await Tn();if(!N||!$)throw Error("Must have valid access token to enroll in MFA");let j=await $.initEnrollMfa({method:"totp",accessToken:N});return{secret:j.secret,authUrl:j.authUrl}},async submitEnrollmentWithSms(N){let j=await Tn();if(!j||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"sms",accessToken:j,phoneNumber:N.phoneNumber,code:N.mfaCode}),ft(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(N){let j=await Tn();if(!j||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"totp",accessToken:j,code:N.mfaCode}),ft(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:N},j={}){let ne=await Tn();if(!ne||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"passkey",accessToken:ne,credentialIds:N,removeForLogin:j.removeForLogin}),ft(await e.getAuthenticatedUser())},async unenroll(N,j={}){let ne=await Tn();if(!ne||!$)throw Error("Must have valid access token to remove MFA");N==="passkey"?await $.submitEnrollMfa({method:"passkey",accessToken:ne,credentialIds:[],removeForLogin:j.removeForLogin}):await $.unenrollMfa({method:N,accessToken:ne}),ft(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let N=await Tn(),j=p?.linkedAccounts.find((Q=>Q.type==="wallet"&&Q.walletClientType==="privy"));if(!N)throw Error("Must have valid access token to connect with Farcaster");if(!$||!j)throw Error("Must have an embedded wallet to use Farcaster signers");if(ns(j))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!p?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ne.recoverEmbeddedWallet({address:j.address}))throw Error("Unable to connect to wallet");let ne=await $.initFarcasterSigner({address:j.address,hdWalletIndex:null,accessToken:N,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ne.status==="approved"&&ft(await e.getAuthenticatedUser()||p||null),Z({farcasterSigner:ne}),lt("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let N,j=await Tn(),ne=p?.linkedAccounts.find((Q=>Q.type==="wallet"&&Q.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(ns(ne))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!p?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ne.recoverEmbeddedWallet({address:ne.address}))throw Error("Unable to connect to wallet");if(!p.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return N=p.farcaster.signerPublicKey.slice(2),Uint8Array.from(N.match(/.{1,2}/g).map((Q=>parseInt(Q,16))))},signFarcasterMessage:async N=>{let j=await Tn(),ne=p?.linkedAccounts.find((de=>de.type==="wallet"&&de.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(ns(ne))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!p?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ne.recoverEmbeddedWallet({address:ne.address}))throw Error("Unable to connect to wallet");if(!p.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let Q=await Me(()=>import("./index-D9std1Z8.js"),[]),le=await $.signFarcasterMessage({address:ne.address,hdWalletIndex:null,accessToken:j,mfaCode:null,mfaMethod:null,payload:{hash:Q.bufferToBase64URLString(N)},fid:BigInt(p.farcaster.fid),relyingParty:window.origin});return new Uint8Array(Q.base64URLStringToBuffer(le.signature))},signMessageWithCrossAppWallet(N,{address:j,chainId:ne}){let Q=p?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((de=>de.address===j))));return by({user:p,client:e,address:j,requesterAppId:i.id,request:{method:Q?"privy_signSmartWalletMessage":"personal_sign",params:[N,j],chainId:ne},reconnect:un})},signTypedDataWithCrossAppWallet(N,{address:j,chainId:ne}){let Q=p?.linkedAccounts.some((de=>de.type==="cross_app"&&de.smartWallets.some((_e=>_e.address===j)))),le=Dy(N);return by({user:p,client:e,address:j,requesterAppId:i.id,request:{method:Q?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[j,le],chainId:ne},reconnect:un})},sendTransactionWithCrossAppWallet(N,{address:j}){let ne=p?.linkedAccounts.some((Q=>Q.type==="cross_app"&&Q.smartWallets.some((le=>le.address===j))));return by({user:p,client:e,address:j,requesterAppId:i.id,request:{method:ne?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[N],chainId:N.chainId},reconnect:un})},signTransactionWithCrossAppWallet(N,{address:j}){let ne=p?.linkedAccounts.some((Q=>Q.type==="cross_app"&&Q.smartWallets.some((le=>le.address===j))));return by({user:p,client:e,address:j,requesterAppId:i.id,request:{method:ne?"privy_signSmartWalletTx":"eth_signTransaction",params:[N],chainId:N.chainId},reconnect:un})},isModalOpen:s||!!c,mfaMethods:i.mfa.methods};gB=Bt.signMessage,yB=Bt.signTypedData,bB=async(N,j)=>await Nr({transaction:N,...j,signOnly:!1}),wB=async(N,j)=>({signature:(await Nr({transaction:N,...j,signOnly:!0})).hash});let Ct=async N=>{let j,ne,Q;x(!0),A({status:"loading"}),e.startAuthFlow(new Dd({...N,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let le=nt.get(Jy),de=N.stateCode;if(le!==de)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:N.provider,storedStateCode:le??"",returnedStateCode:de??""}}),x(!1),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:j,oAuthTokens:Q}=await e.link()),De.current=N.provider;let _e=bt(j);j&&_e&&Ae(te,"linkAccount","onSuccess",{user:j,linkMethod:De.current,linkedAccount:_e})}catch(_e){throw x(!1),Ae(te,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:N.provider}),_e}else try{({user:j,isNewUser:ne,oAuthTokens:Q}=await e.authenticate()),De.current=N.provider;let _e=bt(j);j&&_e&&ne!==void 0&&Ae(te,"login","onComplete",{user:j,isNewUser:ne,wasAlreadyAuthenticated:!1,loginMethod:De.current,loginAccount:_e})}catch(_e){throw x(!1),A({status:"error",error:_e}),Ae(te,"login","onError",_e.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),_e}return ft(j),_(ne||!1),st(!0),x(!1),A({status:"done"}),Q&&j&&Ae(te,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:j}),j??void 0},Ne={privy:n,setAuthenticated:st,setUser:ft,setIsNewUser:_,isNewUserThisSession:b,pendingTransaction:null,walletConnectionStatus:T,setWalletConnectionStatus:O,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,hideWalletUIs:vr,isHeadlessSigning:F.useCallback(Mn,[i.embeddedWallets.showWalletUIs]),emailOtpState:z,setEmailOtpState:B,smsOtpState:q,setSmsOtpState:W,oAuthState:G,setOAuthState:A,telegramAuthState:S,setTelegramAuthState:P,siweState:K,setSiweState:H,isHeadlessOAuthLoading:D,baseAccountSdk:g,setBaseAccountSdk:y,nativeTokenSymbolForChainId:N=>i.chains.find((j=>j.id===Number(N)))?.nativeCurrency.symbol,initializeWalletProxy:async N=>{if($)return $;let j=new Promise((le=>{se.current=le})),ne=new Promise((le=>setTimeout((()=>le(null)),N))),Q=await Promise.race([j,ne]);return se.current=null,Q},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(N={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let j,ne=d&&Le&&p;if(ne&&De.current&&(j=bt(p)),ze.current==="login")N.shouldCallAuthOnSuccess&&ne&&De.current?Ae(te,"login","onComplete",{user:p,isNewUser:b,wasAlreadyAuthenticated:!1,loginMethod:De.current,loginAccount:j??null}):Ae(te,"login","onError",Ee.USER_EXITED_AUTH_FLOW);else if(ze.current==="link"&&j)N.isSuccess&&ne&&De.current?Ae(te,"linkAccount","onSuccess",{user:p,linkMethod:De.current,linkedAccount:j}):De.current&&Ae(te,"linkAccount","onError",Ee.USER_EXITED_LINK_FLOW,{linkMethod:De.current});else if(ze.current==="update"&&j)N.isSuccess&&ne&&De.current?Ae(te,"update","onSuccess",{user:p,updateMethod:De.current,updatedAccount:j}):De.current&&Ae(te,"update","onError",Ee.USER_EXITED_UPDATE_FLOW,{linkMethod:De.current});else if(ze.current==="connect-or-create"){let de=vy();de[0]?Ae(te,"connectOrCreateWallet","onSuccess",{wallet:de[0]}):Ae(te,"connectOrCreateWallet","onError",Ee.USER_EXITED_AUTH_FLOW)}let Q=E&&bE.has(E),le=E==="ErrorScreen"&&Y.errorModalData&&bE.has(Y.errorModalData.previousScreen);if((Q||le)&&Y.funding){let de,_e=bE.get(E)??null;if(le&&Y.funding?.onError){let Re=Y.errorModalData?.error,Ye=Re?.privyErrorCode||Ee.UNKNOWN_FUNDING_ERROR,gt=new oe(Re?.message||"Funding failed",Re,Ye);Y.funding?.onError?.(gt)}if(Y.funding.chainType==="solana"){let Re=i.solanaRpcs[Y.funding.chain];if(!Re)return console.warn("Unable to load solana rpc, skipping balance"),Ae(te,"fundSolanaWallet","onUserExited",{address:Y.funding.address,fundingMethod:_e,chain:Y.funding.chain,balance:de}),l(!1),void QN(Y.funding,_e);if(r(MY))try{de=await USe({rpc:Re.rpc,address:Y.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ae(te,"fundSolanaWallet","onUserExited",{address:Y.funding.address,fundingMethod:_e,chain:Y.funding.chain,balance:de})}else{let Re=ow(Y.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{de=await Re.getBalance({address:Y.funding.address})}catch{console.error("Unable to pull wallet balance")}Ae(te,"fundWallet","onUserExited",{address:Y.funding.address,chain:Y.funding.chain,fundingMethod:_e,balance:de}),QN(Y.funding,_e)}}Z((de=>({...de,externalConnectWallet:{}}))),ze.current=null,De.current=null,_(!1),l(!1),O({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:lt,connectWallet:Zn,initLoginWithWallet:async(N,j,ne,Q)=>{Dl(N)?(De.current="siwe",Qt(N,j,ne)):(De.current="siws",wi(N,j,ne,Q))},loginWithWallet:async()=>{let N,j,ne;if(!d)throw new kc;if(e.authFlow instanceof Vy?N="siwe":e.authFlow instanceof WN&&(N="siws"),!N)throw new oe("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:j}=await e.link()),De.current=N}catch(Q){throw Ae(te,"linkAccount","onError",Q.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:N}),Q}else try{({user:j,isNewUser:ne}=await e.authenticate()),De.current=N}catch(Q){throw Ae(te,"login","onError",Q.privyErrorCode||Ee.GENERIC_CONNECT_WALLET_ERROR),Q}ft(j||p||null),_(ne||!1),st(!0)},delegateWallet:async({address:N,chainType:j,showDelegationUIs:ne})=>new Promise((async(Q,le)=>{let de=await Tn();if(!Le||!p||!de)throw new oe("User must be authenticated and have an embedded wallet to delegate actions.");if(j!=="solana"&&j!=="ethereum")throw new oe("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let _e=Ne.walletProxy??await Ne.initializeWalletProxy(15e3);if(!_e)throw new oe("Wallet proxy not initialized.");if((({address:Mt,user:sn})=>!!ZN(sn).find((Qe=>Qe.address===Mt)))({address:N,user:p}))return Q();let Re=Od(p,N);if(!Re)throw new oe("Address to delegate is not associated with current user.");if(ns(Re))throw new oe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Ye=ISe({address:N,user:p}),gt=OSe({address:N,user:p}),jt=async()=>{await _e.createDelegatedAction({accessToken:de,rootWallet:gt,delegatedWallets:[Ye]}),await Ne.refreshSessionAndUser()};if(await Ne.recoverEmbeddedWallet({address:N}),ne)Z({delegatedActions:{consent:{address:N,onDelegate:jt,onSuccess:async()=>{Q()},onError:async Mt=>{le(Mt)}}}}),lt("DelegatedActionsConsentScreen");else try{await jt(),Q()}catch(Mt){le(Mt)}})),revokeDelegatedWallets:async({showDelegationUIs:N})=>new Promise((async(j,ne)=>{if(!Le||!p)throw new oe("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let Q=ZN(p);if(Q.length===0)throw new oe("User has no delegated wallets to revoke.");if(Q.some(ns))throw new oe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let le=async()=>{await e.revokeDelegatedWallet(),await Ne.refreshSessionAndUser()};if(N)Z({delegatedActions:{revoke:{onRevoke:le,onSuccess:async()=>{j()},onError:async de=>{ne(de)}}}}),lt("DelegatedActionsRevokeScreen");else try{await le(),j()}catch(de){ne(de)}})),initLoginWithFarcaster:async(N,j)=>{let ne=new FN(N,j);e.startAuthFlow(ne);try{De.current="farcaster",await ne.initializeFarcasterConnect()}catch(Q){throw ze.current==="login"?Ae(te,"login","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):ze.current==="link"&&Ae(te,"linkAccount","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),Q}},loginWithFarcaster:async()=>{let N,j;if(!d)throw new kc;if(!(e.authFlow instanceof FN))throw new oe("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:N}=await e.link()),De.current="farcaster"}catch(ne){throw Ae(te,"linkAccount","onError",ne.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ne}else try{({user:N,isNewUser:j}=await e.authenticate()),De.current="farcaster"}catch(ne){throw Ae(te,"login","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),ne}ft(N||null),_(j||!1),st(!0)},async crossAppAuthFlow({appId:N,popup:j,action:ne,disableSignup:Q}){let le=`privy:${N}`;De.current=le;let{url:de,stateCode:_e,codeVerifier:Re}=await(async function({api:Ye,appId:gt}){let jt=LT(),Mt=oB(),sn=await lB(jt);try{let{url:Qe}=await Ye.post(U4,{provider:`privy:${gt}`,redirect_to:window.location.href,code_challenge:sn,state_code:Mt});return{url:Qe,stateCode:Mt,codeVerifier:jt}}catch(Qe){throw Lt(Qe)}})({api:e.api,appId:N});if(!de)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:N}}),new oe("No authorization URL returned for cross-app auth.");try{let Ye=await(async function({url:Qe,popup:xt}){return xt.location=Qe,new Promise(((St,Nt)=>{let ur,Sr=setTimeout((()=>{Nt(new oe("Authorization request timed out after 2 minutes.")),zn()}),12e4);function zn(){xt?.close(),window.removeEventListener("message",dn)}let li=setInterval((()=>{xt?.closed&&!ur&&(zn(),clearInterval(li),clearTimeout(Sr),Nt(new oe("User rejected request")))}),300);function dn(kn){kn.data&&(kn.data.type==="PRIVY_OAUTH_RESPONSE"&&kn.data.stateCode&&kn.data.authorizationCode&&(clearTimeout(Sr),St(kn.data),zn()),kn.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Sr),Nt(new oe(kn.data.error)),zn()),kn.data.type===JN&&((ur=new BroadcastChannel(XN)).onmessage=dn))}window.addEventListener("message",dn)}))})({url:de,popup:j,provider:le}),gt=Ye.stateCode,jt=Ye.authorizationCode;if(gt!==_e)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:le,storedStateCode:_e??"",returnedStateCode:gt??""}}),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);let Mt=await(async function({appId:Qe,stateCode:xt,codeVerifier:St,authorizationCode:Nt,action:ur,client:Sr,disableSignup:zn}){if(!Nt||!xt)throw new oe("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Nt==="undefined")throw new oe("User denied confirmation during cross-app auth flow");try{let li=new kSe({authorizationCode:Nt,stateCode:xt,codeVerifier:St,provider:`privy:${Qe}`,disableSignup:!!zn});Sr.startAuthFlow(li);let dn=ur==="link"?await Sr.link():await Sr.authenticate(),kn=dn.oAuthTokens?.accessToken;return console.debug(),kn}catch(li){let dn=Lt(li);throw dn.privyErrorCode===Ee.ACCOUNT_TRANSFER_REQUIRED?dn:dn.privyErrorCode?new oe(dn.message||"Invalid code during cross-app auth flow.",void 0,dn.privyErrorCode):dn.message==="User denied confirmation during cross-app auth flow"?new oe("Invalid code during cross-app auth flow.",void 0,Ee.OAUTH_USER_DENIED):new oe("Invalid code during cross-app auth flow.",void 0,Ee.UNKNOWN_AUTH_ERROR)}})({appId:N,codeVerifier:Re,stateCode:gt,authorizationCode:jt,action:ne,client:e,disableSignup:Q});Mt&&e.storeProviderAccessToken(N,Mt);let sn=await Ne.refreshSessionAndUser();if(!sn)throw new oe("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:N}}),sn}catch(Ye){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ye.toString(),provider:le}}),Ye}},async initLoginWithOAuth(N,j,ne){if(De.current=N,!VE()||N==="google"&&!i.allowOAuthInEmbeddedBrowsers&&e5(window.navigator.userAgent))return void lt("InAppBrowserLoginNotPossible");N==="twitter"&&window.opener&&window.opener.postMessage({type:JN},"*"),nt.del(Qy),nt.del(op);let Q=new Dd({provider:N,disableSignup:!!ne,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});j&&Q.addCaptchaToken(j),e.startAuthFlow(Q);let le=await e.authFlow.getAuthorizationUrl();if(le&&le.url)if(N==="twitter"&&$a.isAndroid&&(le.url=le.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&IA())try{let{privyOAuthCode:de,privyOAuthState:_e}=await qN(le.url);lt("OAuthStatusScreen"),Q.meta.stateCode=_e,Q.meta.authorizationCode=de}catch(de){throw console.error("OAuth in chrome extension flow failed:",de),de}else window.location.assign(le.url)},async initLoginWithTelegram(N,j){if(!d)throw new kc;De.current="telegram";let ne=new Wf(N,j);e.startAuthFlow(ne),P({status:"loading"}),ne.meta.telegramWebAppData=void 0,ne.meta.telegramAuthResult=await new Promise(((Q,le)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(de=>de?Q(de):(ze.current==="link"?Ae(te,"linkAccount","onError",Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):ze.current==="login"?Ae(te,"login","onError",Ee.INVALID_CREDENTIALS):ze.current==="update"&&Ae(te,"login","onError",Ee.FAILED_TO_UPDATE_ACCOUNT),le(new oe("Telegram auth failed or was canceled by the client"))))):le(new oe("Telegram was not initialized")):le(new oe("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(N){let j,ne;if(!(e.authFlow instanceof Wf))throw new oe("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=N?.captchaToken;let Q=await Tn(),le=N?.intent||ze.current;if(le==="login")try{let _e=await e.authenticate();j=_e.user,ne=_e.isNewUser,De.current="telegram"}catch(_e){throw Ae(te,"login","onError",_e.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),_e}else{if(le!=="link")throw new oe("Unknown auth intent");try{j=(await e.link()).user,De.current="telegram"}catch(_e){throw Ae(te,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),_e}}ft(j),_(ne||!1),st(!0),P({status:"done"});let de=j?.linkedAccounts.find((({type:_e})=>_e==="telegram"))||null;return{user:j,isNewUser:ne||!1,wasAlreadyAuthenticated:!!Q,loginAccount:de}},async loginWithOAuth(N){let j,ne,Q;if(!(e.authFlow instanceof Dd))throw new oe("Must initialize OAuth flow before calling loginWithOAuth");let le=nt.get(Jy),de=e.authFlow.meta.stateCode;if(le!==de)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:N,storedStateCode:le??"",returnedStateCode:de??""}}),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,Ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let _e=await e.link();j=_e.user,Q=_e.oAuthTokens,De.current=N}catch(_e){throw Ae(te,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:N}),_e}else try{let _e=await e.authenticate();j=_e.user,ne=_e.isNewUser,Q=_e.oAuthTokens,De.current=N}catch(_e){throw ze.current==="login"?Ae(te,"login","onError",_e.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):ze.current==="link"&&Ae(te,"linkAccount","onError",_e.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:N}),_e}return ft(j),_(ne||!1),st(!0),Q&&j&&Ae(te,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:Q,user:j}),Q},passkeyAuthState:C,setPasskeyAuthState:U,async initSignupWithPasskey({captchaToken:N,withPrivyUi:j}){let ne=new xd({captchaToken:N,setPasskeyAuthState:U,hints:i.passkeys.registration?.hints});e.startAuthFlow(ne),ze.current="login";try{De.current="passkey",U({status:"generating-challenge"}),await ne.initRegisterFlow(j),U({status:"awaiting-passkey"})}catch(Q){throw U({status:"error",error:Q}),Ae(te,"login","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Q}},async signupWithPasskey(){let N,j;if(!d)throw new kc;if(!(e.authFlow instanceof xd))throw new oe("Must initialize Passkey flow first.");if(De.current!=="passkey"){let le=new oe("Must init login with Passkey flow first.");throw U({status:"error",error:le}),le}let ne=await Tn();try{De.current="passkey",U({status:"awaiting-passkey"}),{user:N,isNewUser:j}=await e.authenticate()}catch(le){throw U({status:"error",error:le}),Ae(te,"login","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),le}ft(N),_(j||!1),st(!0),U({status:"done"});let Q=N?.linkedAccounts.find((({type:le})=>le==="passkey"))||null;return{user:N,isNewUser:j||!1,wasAlreadyAuthenticated:!!ne,loginAccount:Q}},async initLoginWithPasskey({captchaToken:N,withPrivyUi:j}){let ne=new xd({captchaToken:N,setPasskeyAuthState:U,hints:void 0});e.startAuthFlow(ne),ze.current="login";try{De.current="passkey",U({status:"generating-challenge"}),await ne.initAuthenticationFlow(j),U({status:"awaiting-passkey"})}catch(Q){throw U({status:"error",error:Q}),Ae(te,"login","onError",Q.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Q}},async loginWithPasskey(N){let j,ne;if(!d)throw new kc;if(!(e.authFlow instanceof xd))throw new oe("Must initialize Passkey flow first.");if(N?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=N.credentialIds),De.current!=="passkey"){let de=new oe("Must init login with Passkey flow first.");throw U({status:"error",error:de}),de}let Q=await Tn();try{De.current="passkey",U({status:"awaiting-passkey"}),{user:j,isNewUser:ne}=await e.authenticate()}catch(de){throw U({status:"error",error:de}),Ae(te,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),de}ft(j),_(ne||!1),st(!0),U({status:"done"});let le=j?.linkedAccounts.find((({type:de})=>de==="passkey"))||null;return{user:j,isNewUser:ne||!1,wasAlreadyAuthenticated:!!Q,loginAccount:le}},async initLinkWithPasskey(N){let j=new xd({captchaToken:N,hints:i.passkeys.registration?.hints});e.startAuthFlow(j),ze.current="link",De.current="passkey",U({status:"generating-challenge"});try{await j.initLinkFlow(),U({status:"awaiting-passkey"})}catch(ne){throw Ae(te,"linkAccount","onError",ne.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),U({status:"error",error:ne}),ne}},async linkWithPasskey(){let N;if(!d)throw new kc;if(!(e.authFlow instanceof xd))throw new oe("Must initialize Passkey flow first.");if(De.current!=="passkey")throw new oe("Must init login with Passkey flow first.");try{De.current="passkey",{user:N}=await e.link()}catch(j){throw Ae(te,"linkAccount","onError",j.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),j}return ft(N||p||null),U({status:"done"}),N},async initLoginWithHeadlessOAuth(N,j,ne){if(!VE()||N==="google"&&!i.allowOAuthInEmbeddedBrowsers&&e5(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let Q=new Dd({provider:N,withPrivyUi:!1,disableSignup:ne??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});j&&Q.addCaptchaToken(j),A({status:"loading"});let le=await e.startAuthFlow(Q).getAuthorizationUrl();if(le?.url)if(window.location.protocol==="chrome-extension:"&&IA())try{let{privyOAuthCode:de,privyOAuthState:_e}=await qN(le.url);Q.meta.stateCode=_e,Q.meta.authorizationCode=de,await Ct(Q.meta)}catch(de){throw A({status:"error",error:de}),de}else window.location.assign(le.url)},loginWithHeadlessOAuth:Ct,initLoginWithEmail:async({email:N,captchaToken:j,disableSignup:ne,withPrivyUi:Q})=>{let le=new Md({email:N,captchaToken:j,disableSignup:ne});e.startAuthFlow(le);try{De.current="email",B({status:"sending-code"});let de=await le.sendCodeEmail({withPrivyUi:Q});if(de?.ssoRedirectUrl)return window.location.href=de.ssoRedirectUrl,void await cw(1e4);B({status:"awaiting-code-input"})}catch(de){throw B({status:"error",error:de}),ze.current==="login"?Ae(te,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):ze.current==="link"&&Ae(te,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),de}},initUpdateEmail:async({oldAddress:N,newAddress:j,captchaToken:ne})=>{let Q=new eSe(N,j,ne);e.startAuthFlow(Q);try{await Q.sendCodeEmail({withPrivyUi:!0})}catch(le){throw Ae(te,"update","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:De.current}),le}},initUpdatePhone:async(N,j,ne)=>{let Q=new nSe(N,j,ne);e.startAuthFlow(Q);try{await Q.sendSmsCode({withPrivyUi:!0})}catch(le){Ae(te,"update","onError",le.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR,{linkMethod:De.current})}},initLoginWithSms:async({phoneNumber:N,captchaToken:j,disableSignup:ne,withPrivyUi:Q})=>{W({status:"sending-code"});let le=new Ld({phoneNumber:N,captchaToken:j,disableSignup:ne});e.startAuthFlow(le);try{De.current="sms",await le.sendSmsCode({withPrivyUi:Q}),W({status:"awaiting-code-input"})}catch(de){throw W({status:"error",error:de}),ze.current==="login"?Ae(te,"login","onError",de.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR):ze.current==="link"&&Ae(te,"linkAccount","onError",de.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),de}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async N=>{let j,ne;function Q(Re){e.authFlow instanceof Md?B(Re):e.authFlow instanceof Ld&&W(Re)}if(Q({status:"submitting-code"}),!d){let Re=new kc;throw Q({status:"error",error:Re}),Re}if(e.authFlow instanceof Md)e.authFlow.meta.emailCode=N.trim();else{if(!(e.authFlow instanceof Ld)){let Re=new oe("Must initialize a passwordless code flow first");throw Q({status:"error",error:Re}),Re}e.authFlow.meta.smsCode=N.trim()}let le=await Tn();if(ze.current==="link")try{({user:j}=await e.link())}catch(Re){throw Q({status:"error",error:Re}),Ae(te,"linkAccount","onError",Re.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:De.current}),Re}else if(ze.current==="update")try{({user:j}=await e.link())}catch(Re){throw Q({status:"error",error:Re}),Ae(te,"update","onError",Re.privyErrorCode||Ee.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:De.current}),Re}else try{({user:j,isNewUser:ne}=await e.authenticate())}catch(Re){throw Q({status:"error",error:Re}),Ae(te,"login","onError",Re.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),Re}let de=j||p;ft(de||null),_(ne||!1),st(!0),Q({status:"done"});let _e=null;return e.authFlow instanceof Md?_e=de?.linkedAccounts.find((({type:Re})=>Re==="email"))||null:e.authFlow instanceof Ld&&(_e=de?.linkedAccounts.find((({type:Re})=>Re==="phone"))||null),{user:de,isNewUser:ne||!1,wasAlreadyAuthenticated:!!le,linkedAccount:_e}},generateSiweMessage:async({address:N,chainId:j,captchaToken:ne})=>{ze.current=Le?"link":"login",De.current="siwe",H({status:"generating-message"});let Q=await e.generateSiweNonce({address:N,captchaToken:ne});return H({status:"awaiting-signature"}),kA({address:N,chainId:j.replace("eip155:",""),nonce:Q})},generateSiweMessageForSmartWallet:async({address:N,chainId:j})=>{let ne=await e.generateSiweNonce({address:N});return kA({address:N,chainId:j.replace("eip155:",""),nonce:ne})},linkSmartWallet:async({message:N,signature:j,smartWalletType:ne,smartWalletVersion:Q})=>{let le;le=await e.linkSmartWallet({message:N,signature:j,smartWalletType:ne,smartWalletVersion:Q}),ft((le=await Ne.refreshSessionAndUser()??le)||p||null)},loginWithSiwe:async({message:N,signature:j,captchaToken:ne,disableSignup:Q,walletClientType:le,connectorType:de})=>{let _e,Re=null;try{if(p)throw Error("User already authenticated");let Ye=new Vy(e,void 0,ne,Q,{message:N,signature:j,walletClientType:le,connectorType:de});if(e.startAuthFlow(Ye),De.current="siwe",ze.current="login",H({status:"submitting-signature"}),{user:Re,isNewUser:_e}=await e.authenticate(),!Re)throw Error("Authentication failed - no user returned")}catch(Ye){throw Ae(te,"login","onError",Ye.privyErrorCode||Ee.UNKNOWN_AUTH_ERROR),H({status:"error",error:Ye}),Ye}return ft(Re),_(_e||!1),st(!0),H({status:"done"}),ze.current=null,De.current=null,{user:Re,isNewUser:_e||!1}},linkWithSiwe:async({message:N,signature:j,chainId:ne,walletClientType:Q,connectorType:le})=>{let de;Gt("siwe");let _e=null;try{H({status:"submitting-signature"}),de=await e.linkWithSiwe({message:N,signature:j,chainId:ne,walletClientType:Q,connectorType:le}),de=await Ne.refreshSessionAndUser()??de,H({status:"done"}),(_e=bt(de)||null)&&Ae(te,"linkAccount","onSuccess",{user:de,linkMethod:"siwe",linkedAccount:_e})}catch(Ye){throw Ae(te,"linkAccount","onError",Ye.privyErrorCode||Ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ze.current=null,De.current=null,H({status:"error",error:Ye}),Ye}let Re=de||p;return ft(Re||null),ze.current=null,De.current=null,{user:Re,linkedAccount:_e}},refreshSessionAndUser:async()=>{let N=await e.getAuthenticatedUser();return st(!!N),ft(N),N},walletProxy:$,createAnalyticsEvent:({eventName:N,payload:j,timestamp:ne})=>e.createAnalyticsEvent({eventName:N,payload:j,timestamp:ne}),acceptTerms:async()=>{let N=await e.acceptTerms();return ft(N),N},getUsdTokenPrice:N=>e.getUsdTokenPrice(N),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:N=>e.getSplTokenMetadata(N),recoverEmbeddedWallet:async N=>new Promise((async(j,ne)=>{if(!p)return void j(!0);let Q=N?.address?Od(p,N.address):Sp(p)||ME(p).at(0)||KW(p).at(0);if(!Q||ns(Q))return void j(!0);let le=await Tn();if(!le||!$||!Q)return void ne(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:de,entropyIdVerifier:_e}=jl(p,Q);try{await $.connect({accessToken:le,entropyId:de,entropyIdVerifier:_e}),j(!0)}catch(Re){if(Jw(Re)&&Q.recoveryMethod==="privy"){let Ye;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:Q.address}});try{Ye=await $.recover({entropyId:de,entropyIdVerifier:_e,accessToken:le})}catch(gt){return void ne(gt)}Ye.entropyId||ne(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Q.address}}),j(!0)}else Jw(Re)&&Q.recoveryMethod!=="privy"&&Q.recoveryMethod!=="privy-v2"?(Z((Ye=>({...Ye,recoverWallet:{entropyId:de,entropyIdVerifier:_e,onFailure:ne,onSuccess:()=>{j(!0)},onCompleteNavigateTo:Ye.createWallet?"EmbeddedWalletOnAccountCreateScreen":void 0},recoveryOAuthStatus:{provider:Q.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1,isInAccountCreateFlow:!!Ye.createWallet}}))),lt(PSe(Q.recoveryMethod))):ne(Re)}})),setReadyToTrue:N=>{f(!0),ie?.(N)},updateWallets:()=>_r(),fundWallet:async(N,j)=>{let ne="FundingMethodSelectionScreen";return new Promise(((Q,le)=>{Z({funding:{...m3({address:N,appConfig:i,fundWalletConfig:j,methodScreen:ne,onComplete:Q,onError:le})}}),lt(ne)}))},openModal:lt,requestFarcasterSignerStatus:async N=>{let j=await Tn(),ne=p?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!j)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(!p?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let Q=await e.requestFarcasterSignerStatus(N);return Q.status==="approved"&&ft(await e.getAuthenticatedUser()||p||null),Q},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let N=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(N)return N.updateConnectionPreference("smartWalletOnly"),Zn(N);await oi("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let N=e.connectors?.findWalletConnector("base_account","base_account");if(N)return Zn(N);await oi("base_account","base_account")},initiateAccountTransfer:async({nonce:N,account:j,accountType:ne,externalWalletMetadata:Q,telegramAuthResult:le,telegramWebAppData:de,farcasterEmbeddedAddress:_e,oAuthUserInfo:Re})=>{let Ye=await e.sendAccountTransferRequest({nonce:N,account:j,accountType:ne,externalWalletMetadata:Q,telegramAuthResult:le,telegramWebAppData:de,farcasterEmbeddedAddress:_e,oAuthUserInfo:Re});return ft(Ye),Ye},inProgressAuthFlowRef:ze,inProgressLoginOrLinkMethodRef:De};vB=Ne.recoverEmbeddedWallet,Ne.recoverEmbeddedWallet;let Er=F.useMemo((()=>({wallets:m,ready:Se&&Ve})),[m,Se,Ve]),Fi=e.authFlow instanceof Wf,{siteKey:us,enabledProvider:ua}=i.captcha,ds=!i.headless&&ua&&!Le&&(d||Fi);return ae.jsx(mB.Provider,{value:!0,children:ae.jsx(ph.Provider,{value:Bt,children:ae.jsx(P6.Provider,{value:te,children:ae.jsx(k6.Provider,{value:Er,children:ae.jsx(rSe,{appId:i.id,captchaSiteKey:us,enabledCaptchaProvider:ua,children:ae.jsxs(t6.Provider,{value:Ne,children:[ae.jsx(xV,{children:ae.jsxs(YW,{data:Y,setModalData:Z,setInitialScreen:k,initialScreen:E,authenticated:Le,open:s,children:[t.children,ae.jsx(YSe,{customAuth:i.customAuth}),ds&&ae.jsx(aSe,{delayedExecution:!1}),ae.jsx(SSe,{}),ae.jsx(BSe,{disabled:i.embeddedWallets.disableAutomaticMigration}),ae.jsx(lSe,{palette:i.appearance.palette||{}}),!i.render.standalone&&ae.jsx(bSe,{open:s})]})}),ae.jsx(CSe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:p?.mfaMethods,mfaPromise:$e,mfaSubmitPromise:xe,onLoad:R,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&ae.jsx(F6,{$if:!0,children:ae.jsx(ESe,{scriptHost:t.apiUrl||PE,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};class Ys extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class n5 extends wu{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Ys(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Tn()||!this.address)throw new Ys("Disconnected",4900);let{hash:r}=await((i,s)=>bB(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Ys(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Tn()||!this.address)throw new Ys("Disconnected",4900);let{signature:r}=await((i,s)=>wB(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Ys(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Ys(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=ow(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,l)=>gB(s,l))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,l)=>yB(s,l))(Dy(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:YE(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Ky(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return YE(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>QEe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Tn();if(await(r=>vB(r))({address:this.address}),!n||!this.address)throw new Ys("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&ns(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Ys("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Ys("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await ea(i,(async({message:l})=>this.walletProxy.signWithUserSigner({accessToken:r,message:l})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Ys(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Ys(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:l,appId:c,chainId:d=1,walletIndex:f,privyClient:p,walletAccount:m}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=d,this.rpcConfig=s,this.chains=l,this.publicClient=ow(d,this.chains,s,{appId:c}),this.rpcTimeoutDuration=r2(s,"privy"),this.appId=c,this.walletIndex=f,this.privyClient=p,this.walletAccount=m}}const XSe=({style:t,...e})=>ae.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:ae.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),JSe=({style:t,...e})=>ae.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[ae.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),ae.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function vE(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var QSe=0;class _B extends bu{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new In("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oc(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new vu(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let l=i.provider;this.proxyProvider.setWalletProvider(l)}}var $c="__private_"+QSe+++"__walletBranding";class _E extends bu{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return vE(this,$c)[$c]??{name:"Browser Extension",icon:XSe,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new In("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oc(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,$c,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new vu(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?vE(this,$c)[$c]={name:"MetaMask",icon:IV,id:"io.metamask"}:s==="phantom"&&(vE(this,$c)[$c]={name:"Phantom",icon:JSe,id:"phantom"})}}class eAe extends _B{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{$a.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new In("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oc(e)}}}class tAe extends wu{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=pV({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((l=>{l.forEach((({type:c,eip6963InjectedProvider:d,legacyInjectedProvider:f})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:c,providers:{eip6963InjectedProvider:d,legacyInjectedProvider:f}})}))}));for(let l of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(q6)))!l.isInstalled&&this.walletList.includes(l.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&l.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:l.client,walletConfig:l}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&l.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new SV({id:l.client,name:l.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||KE(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||KE(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async l=>{if(!r)return;let c=l.find((d=>d.walletBranding?.id==="walletconnect_solana"));c&&c.wallet&&await c.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter((l=>r||l.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((l=>{s(l),l?.filter((c=>r||c.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(bf).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(bf).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(AV).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:l}){let{entropyId:c,entropyIdVerifier:d}=jl(n);for(let f of r){let p=this.findEmbeddedWalletConnectors().find((m=>m.walletIndex===f.walletIndex));if(p&&bf(p))p.proxyProvider.walletProxy=e;else{let m=new zN({provider:new n5({walletProxy:e,address:f.address,entropyId:c,entropyIdVerifier:d,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:f.walletIndex,privyClient:l,walletAccount:f}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:f.walletIndex});this.addWalletConnector(m)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&bf(s))s.proxyProvider.walletProxy=e;else{let l=new zN({provider:new n5({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(l)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=Ry(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=Ry(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&bf(s))return s instanceof DA&&s.resetConnection(n),s;let l=e!=="injected"?e==="coinbase_wallet"?new XEe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new YEe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new DA({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new CV({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new eAe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new _E(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new _E(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new _E(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new _B(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return l&&this.addWalletConnector(l),l||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,l,c,d,f,p,m,g){super(),this.addSolanaWalletConnector=async y=>{let b=this.findSolanaWalletConnector(y.walletClientType);if(!b||b.connectorType==="null"){if(b?.connectorType==="null"){let _=this.walletConnectors.indexOf(b);this.walletConnectors.splice(_,1)}this.addWalletConnector(y)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=l,this.walletList=c,this.shouldEnforceDefaultChainOnConnect=d,this.externalWalletConfig=f,this.privyAppName=p,this.walletChainType=g||"ethereum-only",this.setBaseAccountSdk=m,this.storedConnections=Ry()}}const r5=ac((()=>({identityToken:null})));let nAe=[N4,P4,L4];class rAe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Lt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Lt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Lt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=jq,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=WW.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:l})=>{let c=new Headers(l.headers);c.set("privy-app-id",this.appId),this.appClientId&&c.set("privy-client-id",this.appClientId),c.set("privy-ca-id",this.clientAnalyticsId||""),c.set("privy-client",`react-auth:${this.sdkVersion}`);let d=nAe.includes(s.toString());if(!c.has("authorization")){let f=await this.client.getAccessToken({disableAutoRefresh:d});f!==null&&c.set("authorization",`Bearer ${f}`)}l.headers=c,l.retryDelay&&typeof l.retryDelay=="number"&&(l.retryDelay=3*l.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new HW}})}}const iAe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class sAe{getOrCreateGuestCredential(e){let n=W5(e);if(VE()){if(nt.get(n))return nt.get(n);{let r=Zy(OA(32));return nt.put(n,r),r}}return Zy(OA(32))}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(TY,{guest_credential:this.meta.guestCredential})}catch(e){throw Lt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function EE(){return!($a.isSafari&&window.location.origin.startsWith("http://localhost"))}var SE,i5=((SE={}).PRIVY="privy_access_token",SE.CUSTOMER="customer_access_token",SE);class aAe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Vf)}get privyAccessToken(){return this._getToken(Ay)}_getToken(e){try{let n=nt.get(e);return typeof n=="string"?Hl.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=nt.get(w_);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=nt.get(qg(e));if(typeof n!="string")return null;{let r=new Hl(n);return r.isExpired()?(nt.del(qg(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Hn.get(b_);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==qq;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Hl.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?nt.put(qg(e),n):nt.del(qg(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let l=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Wr(r),isNewUser:i,oAuthTokens:l}}catch(n){throw console.warn("Error authenticating session"),Dn(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof Md?"email":i instanceof Ld?"sms":i instanceof Vy?"siwe":i instanceof sAe?"guest":i instanceof pB?"custom_auth":i instanceof Dd?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Wr(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Dn(n)}}async _refresh(){if(!this.api)throw new oe("Session has no API instance");if(!this.client)throw new oe("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(N4,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Wr(r.user)}catch(r){if(r instanceof tw&&r.privyErrorCode===Ee.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Dn(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(P4,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=nt.get(Vf);if(nt.put(Vf,e),!this.client?.useServerCookies){let r=Hl.parse(e)?.expiration;Hn.set(zO,e,{sameSite:"Strict",secure:EE(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else nt.del(Vf),Hn.remove(zO),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(nt.put(w_,e),this.client?.useServerCookies||Hn.set(b_,"t",{sameSite:"Strict",secure:EE(),expires:30})):(nt.del(w_),Hn.remove(zq),Hn.remove(b_))}storePrivyAccessToken(e){typeof e=="string"?nt.put(Ay,e):nt.del(Ay)}storeIdentityToken(e){if(r5.setState({identityToken:e}),this.client?.useServerCookies)return;nt.put(FO,e);let n=Hl.parse(e)?.expiration;Hn.set(qO,e,{sameSite:"Strict",secure:EE(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){nt.del(FO),r5.setState({identityToken:null}),Hn.remove(qO)}constructor(){this.authenticateOnce=new ia((async e=>this._authenticate(e))),this.linkOnce=new ia((async e=>this._link(e))),this.refreshOnce=new ia(this._refresh.bind(this)),this.destroyOnce=new ia(this._destroy.bind(this))}}let AE,eb;var oAe=0,TE="__private_"+oAe+++"__getOrGenerateClientAnalyticsId";class lAe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:l,shouldEnforceDefaultChainOnConnect:c,externalWalletConfig:d,appName:f,walletChainType:p,setBaseAccountSdk:m}){this.connectors||(this.connectors=new tAe(this.appId,e,n,r,i,s,l,c,d,f,m,p))}generateApi(){let e=new rAe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new oe("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new oe("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(vY,{action:"verify"})}catch(e){throw Lt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(_Y,{});return iAe(e.options)}catch(e){throw Lt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(EY,{});return Wr(e)}catch(e){throw Dn(e)}}async unlinkEmail(e){try{let n=await this.api.post(QG,{address:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async unlinkPhone(e){try{let n=await this.api.post(iY,{phoneNumber:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(MG,{address:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(FG,{address:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(lY,{provider:e,subject:n});return await this.getAuthenticatedUser()??Wr(r)}catch(r){throw Dn(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(GG,{fid:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(wY,{telegram_user_id:e});return await this.getAuthenticatedUser()??Wr(n)}catch(n){throw Dn(n)}}async revokeDelegatedWallet(){try{await this.api.post(OY,{})}catch(e){throw Dn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(L4,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(xY,e)}catch(n){throw Dn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(CY,e)}catch(n){throw Dn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${IY}?partnerUserId=${e}`)}catch(n){throw Dn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(i5.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(i5.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?$T.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(NG,{address:e,token:n})).nonce}catch(r){throw Dn(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:l}){return await this.api.post(PG,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:l})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(UG,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post($G,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Wr(s)}catch(s){throw Dn(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let l=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Wr(l)}catch(l){throw Dn(l)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(BG,{address:e,token:n})).nonce}catch(r){throw Dn(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:l="plain"}){return await this.api.post(jG,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:l})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:l="plain"}){let c=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:l});this.session.handleTokenResponse(c);let d=Wr(c.user);if(!d)throw Error("Authentication failed - no user returned");return{user:d,isNewUser:c.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:l,farcasterEmbeddedAddress:c,oAuthUserInfo:d}){try{let f,p;switch(r){case"email":f=tY,p={nonce:e,email:n};break;case"sms":f=oY,p={nonce:e,phoneNumber:n};break;case"siwe":if(f=LG,!i)throw Error("Wallet parameters must be defined");p={nonce:e,address:n,...i};break;case"farcaster":f=YG,p={nonce:e,farcaster_id:n,farcaster_embedded_address:c};break;case"telegram":f=bY,p={nonce:e,telegram_auth_result:s,telegram_web_app_data:l};break;case"siws":f=qG,p={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:f=cY,p={nonce:e,userInfo:d}}let m=await this.api.post(f,p);return await this.getAuthenticatedUser()??Wr(m)}catch(f){throw Dn(f)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(zG,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let l=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Wr(l)}catch(l){throw Dn(l)}}async updateUserAndIdToken(){try{let e=await this.api.get(kY);return this.session.updateIdentityToken(e.identity_token),Wr(e.user)}catch(e){throw Dn(e)}}async scanTransaction(e){try{return await this.api.post(RY,e)}catch(n){throw Dn(n)}}constructor({apiUrl:e=PE,appId:n,appClientId:r,timeout:i=Bq}){Object.defineProperty(this,TE,{value:cAe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==PE&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,l){if(!Object.prototype.hasOwnProperty.call(s,l))throw TypeError("attempted to use private field on non-instance");return s})(this,TE)[TE](),AE||(AE=new aAe),this.session=AE,this.api=this.generateApi(),this.session.client=this}}function cAe(){if(typeof window>"u")return null;try{let e=nt.get(UE);if(typeof e=="string"&&e.length>0)return e}catch{}let t=RE();try{return nt.put(UE,t),t}catch{return t}}function EB(){if(!eb)throw new oe("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return eb}const uAe=({config:t,...e})=>{(()=>{if(F.useContext(mB))throw new oe("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),(function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),l=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!l)throw new oe("Embedded wallet is only available over HTTPS")})(),(function(s){if(typeof s!="string"||s.length!==25)throw new oe("Cannot initialize the Privy provider with an invalid Privy app ID")})(e.appId),(function(s){eb||(eb=new lAe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))})(e);let n=F.useMemo((()=>new rq({appId:e.appId,clientId:e.clientId,storage:nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.14.1"})),[]),r=EB(),i=Object.assign({},t);return ae.jsx(Xq,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:ae.jsx(Zye,{configPlugins:t?.plugins,children:ae.jsx(ZSe,{...e,client:r,privy:n})})})};function mCe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=F.useContext(ph);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function gCe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:l,enrollInMfa:c}=F.useContext(ph);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>l("sms"),unenrollWithTotp:()=>l("totp"),unenrollWithPasskey:d=>l("passkey",d),showMfaEnrollmentModal:()=>c(!0),closeMfaEnrollmentModal:()=>c(!1)}}const dAe="cmlv6ibdm00350el2jsm8m8s6",hAe="https://base.drpc.org",fAe=X7({chains:[oh],transports:{[oh.id]:Hp(hAe)}}),pAe=new J7;function mAe({children:t}){return ae.jsx(uAe,{appId:dAe,config:{appearance:{theme:"dark",accentColor:"#6eecd8",logo:"https://helixa.xyz/helixa-logo.jpg"},loginMethods:["email","wallet","google","twitter","discord","apple"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}},defaultChain:oh,supportedChains:[oh]},children:ae.jsx(Q7,{config:fAe,children:ae.jsx(ej,{client:pAe,children:t})})})}function s5({showBalance:t=!1}){const{ready:e,authenticated:n,login:r,logout:i,user:s}=W4();if(!e)return null;if(n&&s){const c=s.wallet?.address,d=c?`${c.slice(0,6)}${c.slice(-4)}`:s.email?.address||"Connected";return ae.jsxs("button",{onClick:i,className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"6px 14px",display:"flex",alignItems:"center",gap:"6px"},children:[ae.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#4ade80",display:"inline-block"}}),d]})}return ae.jsx("button",{onClick:r,className:"btn btn-primary",style:{fontSize:"0.85rem",padding:"8px 18px"},children:"Sign In"})}function gAe(){const t=F.useRef(null);return F.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;let r,i=0;const s=()=>{e.width=e.offsetWidth*(window.devicePixelRatio>1?2:1),e.height=e.offsetHeight*(window.devicePixelRatio>1?2:1),n.scale(window.devicePixelRatio>1?2:1,window.devicePixelRatio>1?2:1)};s(),window.addEventListener("resize",s);const l=[[110,236,216],[128,208,255],[180,144,255],[245,160,208],[110,236,216],[128,208,255],[180,144,255]],c=()=>{const d=e.offsetWidth,f=e.offsetHeight;n.clearRect(0,0,d,f);const p=d/2,m=d*.3,g=5,y=.5,b=Math.ceil(f*y)+100,_=Math.max(4,d*.022),E=Math.max(2.5,d*.014),k=[];for(let D=0;D<b;D++){const x=D/y-30,O=(D+i)*.025*Math.PI*2/(b*.025/g),C=Math.sin(O),U=Math.cos(O),z=p+m*C,B=p-m*C,q=U,W=-U,K=D*.15%l.length,H=Math.floor(K),G=K-H,A=l[H%l.length],S=l[(H+1)%l.length],P=Math.round(A[0]+(S[0]-A[0])*G),$=Math.round(A[1]+(S[1]-A[1])*G),R=Math.round(A[2]+(S[2]-A[2])*G);if(D%8===0&&Math.abs(C)>.15){const L=(q+W)/2,Y=.4+.3*((L+1)/2);k.push({z:L,draw:()=>{const Z=n.createLinearGradient(Math.min(z,B),x,Math.max(z,B),x),ie=l[H%l.length],ee=l[(H+4)%l.length];Z.addColorStop(0,`rgba(${ie[0]},${ie[1]},${ie[2]},${Y})`),Z.addColorStop(.5,`rgba(255,255,255,${Y*.3})`),Z.addColorStop(1,`rgba(${ee[0]},${ee[1]},${ee[2]},${Y})`),n.beginPath(),n.moveTo(Math.min(z,B)+_,x),n.lineTo(Math.max(z,B)-_,x),n.strokeStyle=Z,n.lineWidth=E,n.lineCap="round",n.stroke()}})}if(D>0){const L=(D-1)/y-30,Z=(D-1+i)*.025*Math.PI*2/(b*.025/g),ie=p+m*Math.sin(Z),ee=.5+.5*((q+1)/2),se=_*(.6+.4*((q+1)/2));k.push({z:q,draw:()=>{n.beginPath(),n.moveTo(ie,L),n.lineTo(z,x),n.strokeStyle=`rgba(${P},${$},${R},${ee})`,n.lineWidth=se*2,n.lineCap="round",n.stroke(),n.beginPath(),n.moveTo(ie-se*.3,L),n.lineTo(z-se*.3,x),n.strokeStyle=`rgba(255,255,255,${ee*.25})`,n.lineWidth=se*.6,n.stroke()}});const Se=p-m*Math.sin(Z),Ie=.5+.5*((W+1)/2),$e=_*(.6+.4*((W+1)/2)),xe=(H+3)%l.length,te=l[xe],Ve=l[(xe+1)%l.length],rt=Math.round(te[0]+(Ve[0]-te[0])*G),Le=Math.round(te[1]+(Ve[1]-te[1])*G),st=Math.round(te[2]+(Ve[2]-te[2])*G);k.push({z:W,draw:()=>{n.beginPath(),n.moveTo(Se,L),n.lineTo(B,x),n.strokeStyle=`rgba(${rt},${Le},${st},${Ie})`,n.lineWidth=$e*2,n.lineCap="round",n.stroke(),n.beginPath(),n.moveTo(Se-$e*.3,L),n.lineTo(B-$e*.3,x),n.strokeStyle=`rgba(255,255,255,${Ie*.25})`,n.lineWidth=$e*.6,n.stroke()}})}}k.sort((D,x)=>D.z-x.z);for(const D of k)D.draw();i+=.15,r=requestAnimationFrame(c)};return c(),()=>{cancelAnimationFrame(r),window.removeEventListener("resize",s)}},[]),ae.jsx("canvas",{ref:t,className:"dna-canvas-bg","aria-hidden":"true"})}const a5=[{href:"/",label:"Home"},{href:"/mint",label:"Mint"},{href:"/agents",label:"Agents"},{href:"/leaderboard",label:"Leaderboard"},{href:"/manage",label:"Manage"},{href:"/token.html",label:"$CRED"},{href:"/messages.html",label:"Messages"},{href:"/docs",label:"Docs"}];function yAe({children:t}){const[e,n]=F.useState(!1),[r,i]=F.useState(!1),[s,l]=F.useState(!0),c=F.useRef(0),d=LA();F.useEffect(()=>{const p=()=>{const m=window.scrollY;i(m>20),l(m<20||m<c.current),c.current=m};return window.addEventListener("scroll",p,{passive:!0}),()=>window.removeEventListener("scroll",p)},[]);const f=p=>!!(p==="/"&&d.pathname==="/"||p!=="/"&&d.pathname.startsWith(p));return ae.jsxs("div",{className:"min-h-screen flex flex-col",children:[ae.jsx(gAe,{}),ae.jsx("div",{style:{height:64}}),ae.jsx("nav",{className:`nav ${r?"nav-scrolled":""} ${s?"":"nav-hidden"}`,children:ae.jsx("div",{className:"container",style:{width:"100%"},children:ae.jsxs("div",{className:"flex items-center justify-between",style:{height:"100%"},children:[ae.jsx(Mg,{to:"/",className:"flex items-center gap-2 nav-logo-text",style:{textDecoration:"none"},children:ae.jsxs("span",{className:"text-gradient",style:{fontFamily:"'Orbitron', sans-serif",fontSize:"1.4rem",fontWeight:700,letterSpacing:"-0.5px"},children:["helixa",ae.jsx("span",{style:{color:"var(--text2)",fontWeight:400,WebkitTextFillColor:"var(--text2)"},children:".xyz"})]})}),ae.jsx("div",{className:"hidden md:flex items-center gap-6",children:a5.map(p=>p.href.includes(".html")?ae.jsx("a",{href:p.href,className:`nav-link ${f(p.href)?"active":""}`,children:p.label},p.href):ae.jsx(Mg,{to:p.href,className:`nav-link ${f(p.href)?"active":""}`,onMouseEnter:()=>CAe[p.href]?.(),children:p.label},p.href))}),ae.jsx("div",{className:"hidden md:block",children:ae.jsx(s5,{})}),ae.jsxs("div",{className:"md:hidden flex items-center gap-3",children:[ae.jsx(s5,{}),ae.jsxs("button",{onClick:()=>n(!e),className:`hamburger ${e?"active":""}`,"aria-label":"Toggle menu",children:[ae.jsx("span",{}),ae.jsx("span",{}),ae.jsx("span",{})]})]})]})})}),e&&ae.jsx("div",{className:"mobile-nav md:hidden",children:ae.jsx("div",{className:"mobile-nav-content",children:a5.map(p=>p.href.includes(".html")?ae.jsx("a",{href:p.href,className:`mobile-nav-link ${f(p.href)?"active":""}`,children:p.label},p.href):ae.jsx(Mg,{to:p.href,className:`mobile-nav-link ${f(p.href)?"active":""}`,onClick:()=>n(!1),children:p.label},p.href))})}),ae.jsx("main",{className:"flex-1",children:t}),ae.jsx("footer",{children:ae.jsxs("div",{className:"container",style:{padding:"1.5rem 1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",flexWrap:"nowrap",whiteSpace:"nowrap"},children:[ae.jsx("span",{style:{color:"#555",fontSize:"0.75rem"},children:"Helixa Protocol"}),ae.jsx("span",{style:{color:"#333",fontSize:"0.6rem"},children:""}),ae.jsx("a",{href:"https://github.com/Bendr-20/helixa",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),ae.jsx("span",{style:{color:"#333",fontSize:"0.6rem"},children:""}),ae.jsx("a",{href:"https://x.com/HelixaXYZ",target:"_blank",rel:"noopener noreferrer",children:"Twitter"}),ae.jsx("span",{style:{color:"#333",fontSize:"0.6rem"},children:""}),ae.jsx(Mg,{to:"/docs",children:"Docs"}),ae.jsx("span",{style:{color:"#333",fontSize:"0.6rem"},children:""}),ae.jsx("a",{href:"https://opensea.io/assets/base/0x2e3B541C59D38b84E3Bc54e977200230A204Fe60",target:"_blank",rel:"noopener noreferrer",children:"OpenSea"})]})})]})}const hi={home:()=>Me(()=>import("./Home-oKtOhE2y.js"),__vite__mapDeps([164,1,2,165,166,167,168,169,170,171,172])).then(t=>({default:t.Home})),mint:()=>Me(()=>import("./Mint-CuUzCzCT.js"),__vite__mapDeps([173,1,2,170,166,174,169])).then(t=>({default:t.Mint})),directory:()=>Me(()=>import("./Directory-CXdDW-SX.js"),__vite__mapDeps([175,1,2,165,166,167,168,169,170,171,172])).then(t=>({default:t.Directory})),agentProfile:()=>Me(()=>import("./AgentProfile-DTJG8hRm.js"),__vite__mapDeps([176,1,2,166,167,168,169,171,170,177,174])).then(t=>({default:t.AgentProfile})),leaderboard:()=>Me(()=>import("./Leaderboard-D53xXuQk.js"),__vite__mapDeps([178,1,2,166,171,170,172])).then(t=>({default:t.Leaderboard})),manage:()=>Me(()=>import("./Manage-BhcWbFX7.js"),__vite__mapDeps([179,1,2,165,166,167,168,169,170,171])).then(t=>({default:t.Manage})),docs:()=>Me(()=>import("./Docs-BN1ibJ4p.js"),__vite__mapDeps([180,1,2])).then(t=>({default:t.Docs})),report:()=>Me(()=>import("./Report-BlCVjLlq.js"),__vite__mapDeps([181,1,2,168,169,170,177,174])).then(t=>({default:t.Report}))},wAe=F.lazy(hi.home),bAe=F.lazy(hi.mint),vAe=F.lazy(hi.directory),_Ae=F.lazy(hi.agentProfile),EAe=F.lazy(hi.leaderboard),SAe=F.lazy(hi.manage),AAe=F.lazy(hi.docs),TAe=F.lazy(hi.report);function xAe(){F.useEffect(()=>{const t=setTimeout(()=>{Object.values(hi).forEach(e=>e())},1500);return()=>clearTimeout(t)},[])}const CAe={"/":hi.home,"/mint":hi.mint,"/agents":hi.directory,"/leaderboard":hi.leaderboard,"/docs":hi.docs,"/manage":hi.manage};function IAe({children:t}){const e=LA(),[n,r]=F.useState(!1);return F.useEffect(()=>{window.scrollTo(0,0),r(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>r(!0))})},[e.pathname]),ae.jsx("div",{className:"page-transition",style:{opacity:n?1:0},children:t})}function OAe(){const[t,e]=F.useState(!1);return F.useEffect(()=>{const n=setTimeout(()=>e(!0),150);return()=>clearTimeout(n)},[]),t?ae.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:ae.jsx("div",{className:"spinner",style:{width:40,height:40}})}):ae.jsx("div",{style:{minHeight:"60vh"}})}function kAe(){const t=LA();return xAe(),ae.jsx(IAe,{children:ae.jsx(F.Suspense,{fallback:ae.jsx(OAe,{}),children:ae.jsxs(ij,{location:t,children:[ae.jsx(ao,{path:"/",element:ae.jsx(wAe,{})}),ae.jsx(ao,{path:"/mint",element:ae.jsx(bAe,{})}),ae.jsx(ao,{path:"/agents",element:ae.jsx(vAe,{})}),ae.jsx(ao,{path:"/agent/:id",element:ae.jsx(_Ae,{})}),ae.jsx(ao,{path:"/leaderboard",element:ae.jsx(EAe,{})}),ae.jsx(ao,{path:"/manage",element:ae.jsx(SAe,{})}),ae.jsx(ao,{path:"/docs",element:ae.jsx(AAe,{})}),ae.jsx(ao,{path:"/report/:id",element:ae.jsx(TAe,{})}),ae.jsx(ao,{path:"*",element:ae.jsx(DAe,{})})]})})})}function RAe(){return ae.jsx(mAe,{children:ae.jsx(rj,{children:ae.jsx(yAe,{children:ae.jsx(kAe,{})})})})}function DAe(){return ae.jsx("div",{className:"py-20",children:ae.jsx("div",{className:"container",children:ae.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[ae.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:ae.jsxs("svg",{className:"w-8 h-8 text-gray-400",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[ae.jsx("circle",{cx:"12",cy:"12",r:"10"}),ae.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),ae.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),ae.jsx("h1",{className:"text-3xl font-heading font-bold mb-4",children:"Page Not Found"}),ae.jsx("p",{className:"text-muted mb-8",children:"The page you're looking for doesn't exist or has been moved."}),ae.jsxs("div",{className:"flex gap-4 justify-center",children:[ae.jsx("a",{href:"/",className:"btn btn-primary",children:"Go Home"}),ae.jsx("a",{href:"/agents",className:"btn btn-secondary",children:"Browse Agents"})]})]})})})}BigInt.prototype.toJSON=function(){return this.toString()};cj.createRoot(document.getElementById("root")).render(ae.jsx(F.StrictMode,{children:ae.jsx(RAe,{})}));export{Lo as $,LTe as A,nZ as B,za as C,Mi as D,Ee as E,$Te as F,fZ as G,W4 as H,qo as I,tm as J,Bs as K,BTe as L,USe as M,pCe as N,sTe as O,ca as P,Xg as Q,uZ as R,Ro as S,La as T,TZ as U,FTe as V,s5 as W,iP as X,Bi as Y,IZ as Z,oe as _,Kd as a,In as a$,qZ as a0,hP as a1,sP as a2,UTe as a3,S2 as a4,_b as a5,rX as a6,ra as a7,$Z as a8,JZ as a9,uB as aA,RA as aB,hb as aC,bV as aD,sCe as aE,JSe as aF,XSe as aG,Q2e as aH,LY as aI,WN as aJ,cw as aK,DA as aL,aTe as aM,Ea as aN,rV as aO,Vy as aP,ITe as aQ,ia as aR,I2e as aS,Jw as aT,PSe as aU,ATe as aV,Xp as aW,STe as aX,FSe as aY,WSe as aZ,KE as a_,UZ as aa,eZ as ab,nX as ac,bX as ad,mZ as ae,HZ as af,lX as ag,yw as ah,Q4 as ai,WTe as aj,Co as ak,qTe as al,lP as am,oP as an,C2e as ao,tw as ap,H2e as aq,$a as ar,Xye as as,sq as at,MY as au,aV as av,uTe as aw,zz as ax,Uz as ay,jA as az,mh as b,h_e as b$,OTe as b0,IV as b1,vTe as b2,rTe as b3,M6 as b4,q6 as b5,CV as b6,SV as b7,lV as b8,cTe as b9,q2e as bA,jl as bB,jn as bC,Zve as bD,Od as bE,ns as bF,iTe as bG,VW as bH,KW as bI,ea as bJ,ZY as bK,G2e as bL,x_e as bM,s0e as bN,T_e as bO,vh as bP,uc as bQ,y0e as bR,b0e as bS,cr as bT,O0e as bU,YL as bV,Cu as bW,nCe as bX,rCe as bY,a_e as bZ,eCe as b_,hTe as ba,Wz as bb,tb as bc,k2e as bd,Y2e as be,dTe as bf,xTe as bg,MSe as bh,oTe as bi,wTe as bj,gTe as bk,yTe as bl,bTe as bm,mTe as bn,n6 as bo,_Te as bp,ETe as bq,F6 as br,lTe as bs,Vl as bt,KA as bu,Yye as bv,VSe as bw,NSe as bx,z2e as by,Sp as bz,bn as c,yp as c$,D0e as c0,tCe as c1,iCe as c2,Jve as c3,Yve as c4,D4 as c5,FA as c6,AV as c7,m2e as c8,g2e as c9,iV as cA,Id as cB,Fq as cC,W_ as cD,Xe as cE,Jxe as cF,Xxe as cG,Xve as cH,Z0e as cI,Qxe as cJ,oCe as cK,KEe as cL,GEe as cM,yV as cN,EV as cO,e5 as cP,ese as cQ,jo as cR,Su as cS,iQ as cT,VJ as cU,Ps as cV,Li as cW,Ue as cX,Bo as cY,Yie as cZ,uJ as c_,WW as ca,D2e as cb,R2e as cc,P2e as cd,N2e as ce,JEe as cf,hCe as cg,uCe as ch,cCe as ci,fCe as cj,dCe as ck,ow as cl,t5 as cm,gCe as cn,mCe as co,aCe as cp,lCe as cq,LT as cr,oB as cs,lB as ct,DTe as cu,RTe as cv,Lt as cw,NTe as cx,DSe as cy,Xz as cz,E5 as d,CS as d0,sm as d1,ate as d2,Xee as d3,VY as d4,Qie as d5,ls as d6,Gce as d7,Sue as d8,ta as d9,ZP as dA,l4 as dB,Au as da,aT as db,Nde as dc,sT as dd,Hb as de,Bp as df,C2 as dg,SR as dh,qU as di,Jre as dj,au as dk,Zl as dl,Wb as dm,xa as dn,Ns as dp,Ta as dq,DM as dr,vK as ds,fK as dt,kTe as du,ec as dv,EK as dw,Ip as dx,pK as dy,SK as dz,S5 as e,O2e as f,Kp as g,A5 as h,sc as i,Gp as j,Yp as k,$6 as l,T5 as m,nV as n,x5 as o,zA as p,hV as q,os as r,C5 as s,Vp as t,db as u,fh as v,bb as w,mn as x,em as y,MTe as z};
