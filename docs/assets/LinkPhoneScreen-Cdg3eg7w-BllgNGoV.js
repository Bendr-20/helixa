import{j as s}from"./vendor-wallet-iWeBopzN.js";import{F as d}from"./PhoneIcon-DQtHTqgM.js";import{r as m}from"./vendor-react-NLnOsXgy.js";import{w as p}from"./ConnectPhoneForm-_lOAQG_X-B6ln-3pX.js";import{a as S,r as b,I as f}from"./index-Be6yqfoo.js";import{n as h}from"./ScreenLayout-DTmQLGPf-BD5hz2wk.js";import"./ModalHeader-D8-mhjp4-eNM9AhWy.js";import"./Chip-D2-wZOHJ-DsvZoB0v.js";import"./LoadingSkeleton-U6-3yFwI-CKLEKfG1.js";import"./Screen-Bp-TN9gb-BwPY4_rR.js";import"./index-Dq_xe9dz-C8jIZYp1.js";const y=({title:n="Connect your phone",subtitle:a="Add your number to your account",onSubmit:t,isSubmitting:r=!1})=>{let[e,u]=m.useState(null),i=async()=>{e?.qualifiedPhoneNumber&&await t(e)};return s.jsx(h,{title:n,subtitle:a,icon:d,primaryCta:{label:r?"Submitting":"Submit",onClick:i,disabled:!e?.isValid||r},watermark:!0,children:s.jsx(p,{onChange:o=>{u(o)},onSubmit:i,noIncludeSubmitButton:!0,hideRecent:!0})})},E={component:()=>{let{currentScreen:n,data:a,navigate:t,setModalData:r}=S(),e=b(),{initLoginWithSms:u}=f(),[i,o]=m.useState(!1);return s.jsx(y,{subtitle:`Add your number to your ${e?.name} account`,onSubmit:async l=>{o(!0);try{await u({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),t("AwaitingPasswordlessCodeScreen")}catch(c){r({errorModalData:{error:c,previousScreen:a?.errorModalData?.previousScreen||n||"LinkPhoneScreen"}}),t("ErrorScreen")}finally{o(!1)}},isSubmitting:i})}};export{E as LinkPhoneScreen,y as LinkPhoneScreenView,E as default};
