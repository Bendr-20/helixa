import{j as e,a as x}from"./vendor-wallet-BUQl7rj9.js";import{E as d,a as m}from"./index-DVMNxvVl.js";import{u as h,L as n}from"./vendor-react-DoD--W6p.js";function f(r){return x({queryKey:["agent-report",r],queryFn:async()=>{const s=await fetch(`${m}/api/v2/agent/${r}/report`);if(!s.ok)throw new Error("Failed to fetch report");return s.json()},enabled:!!r,staleTime:3e4})}function l({label:r,value:s,color:i="#b490ff",sub:t}){return e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:i},children:s}),e.jsx("div",{className:"text-sm text-muted",children:r}),t&&e.jsx("div",{className:"text-xs text-muted mt-1",children:t})]})}function N(){const{id:r}=h(),{data:s,isLoading:i,error:t}=f(r);if(i)return e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"container max-w-4xl mx-auto",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"h-6 bg-gray-700 rounded w-48 mb-4 skeleton"})})})});if(t||!s)return e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"container max-w-4xl mx-auto text-center",children:e.jsxs("div",{className:"card bg-red-900/20 border-red-700 py-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Report Not Available"}),e.jsx("p",{className:"text-red-300 mb-6",children:"Could not load onchain report for this agent."}),e.jsx(n,{to:"/agents",className:"btn btn-secondary",children:"Browse Agents"})]})})});const c={EX:"#ffd700",Evolved:"#b490ff",Basic:"#80d0ff"};return e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"container max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(n,{to:`/agent/${s.tokenId}`,className:"btn btn-ghost mb-2",children:"â† Back to Profile"}),e.jsxs("h1",{className:"text-3xl font-heading font-bold",children:["ðŸ“Š ",s.name," â€” Onchain Report"]}),e.jsxs("p",{className:"text-muted mt-1",children:["Token #",s.tokenId]})]})}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"ðŸ’° Wallet & Balances"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-muted text-sm block mb-1",children:"Agent Wallet"}),e.jsxs("div",{className:"bg-gray-800 px-3 py-2 rounded text-sm flex items-center justify-between",children:[e.jsx("code",{children:s.walletAddress}),e.jsx("a",{href:`${d}/address/${s.walletAddress}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View â†’"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(l,{label:"ETH",value:parseFloat(s.balances.eth).toFixed(6),color:"#627eea"}),e.jsx(l,{label:"USDC",value:`$${parseFloat(s.balances.usdc).toFixed(2)}`,color:"#2775ca"}),s.balances.linkedToken&&e.jsx(l,{label:s.balances.linkedToken.symbol,value:parseFloat(s.balances.linkedToken.formatted).toLocaleString(void 0,{maximumFractionDigits:2}),color:"#6eecd8",sub:s.balances.linkedToken.name})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"ðŸ† Cred Score & Ranking"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsx(l,{label:"Cred Score",value:s.credScore.total,color:c[s.credScore.tier]||"#80d0ff"}),e.jsx(l,{label:"Tier",value:s.credScore.tier,color:c[s.credScore.tier]||"#80d0ff"}),e.jsx(l,{label:"Points",value:s.points.toLocaleString(),color:"#b490ff"}),e.jsx(l,{label:"Rank",value:s.rank?`#${s.rank}`:"â€”",color:"#f5a0d0",sub:s.totalAgents?`of ${s.totalAgents}`:""})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[e.jsx("span",{children:s.credScore.verified?"âœ…":"âŒ"}),e.jsx("span",{children:"Verified"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[e.jsx("span",{children:s.credScore.hasPersonality?"âœ…":"âŒ"}),e.jsx("span",{children:"Personality"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[e.jsx("span",{children:s.credScore.hasNarrative?"âœ…":"âŒ"}),e.jsx("span",{children:"Narrative"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[e.jsx("span",{children:s.credScore.soulbound?"ðŸ”’":"ðŸ”„"}),e.jsx("span",{children:s.credScore.soulbound?"Soulbound":"Transferable"})]})]}),s.ethosScore&&e.jsxs("div",{className:"glass-card p-3 mt-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold",style:{color:"#6eecd8"},children:s.ethosScore.toLocaleString()}),e.jsx("span",{className:"text-muted text-sm ml-2",children:"Ethos Score"})]}),e.jsx("a",{href:`https://ethos.network/profile/${s.owner}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View â†’"})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"ðŸ” Verification Status"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"siwa",label:"ðŸ¤– SIWA",verified:s.verifications.siwa},{key:"x",label:"ð• Twitter",verified:s.verifications.x.verified,detail:s.verifications.x.handle?`@${s.verifications.x.handle}`:void 0},{key:"github",label:"ðŸ™ GitHub",verified:s.verifications.github.verified,detail:s.verifications.github.username},{key:"farcaster",label:"ðŸŸ£ Farcaster",verified:s.verifications.farcaster.verified,detail:s.verifications.farcaster.username}].map(a=>e.jsxs("div",{className:"glass-card p-3 text-center",style:{borderColor:a.verified?"#6eecd840":"#ffffff10"},children:[e.jsx("div",{className:"text-lg mb-1",children:a.label}),e.jsx("div",{className:`text-sm font-medium ${a.verified?"text-green-400":"text-gray-500"}`,children:a.verified?"âœ“ Verified":"Not Verified"}),a.detail&&e.jsx("div",{className:"text-xs text-muted mt-1",children:a.detail})]},a.key))})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"ðŸ“œ Recent Transactions"}),s.recentTransactions.length===0?e.jsx("p",{className:"text-muted text-sm",children:"No recent transactions found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-muted text-left border-b border-gray-700",children:[e.jsx("th",{className:"pb-2 pr-4",children:"Tx Hash"}),e.jsx("th",{className:"pb-2 pr-4",children:"Method"}),e.jsx("th",{className:"pb-2 pr-4",children:"Value (ETH)"}),e.jsx("th",{className:"pb-2 pr-4",children:"Time"}),e.jsx("th",{className:"pb-2",children:"Status"})]})}),e.jsx("tbody",{children:s.recentTransactions.map((a,o)=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-2 pr-4",children:e.jsxs("a",{href:`${d}/tx/${a.hash}`,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"#80d0ff"},children:[a.hash.slice(0,10),"..."]})}),e.jsx("td",{className:"py-2 pr-4 text-muted",children:a.method}),e.jsx("td",{className:"py-2 pr-4",children:parseFloat(a.value).toFixed(4)}),e.jsx("td",{className:"py-2 pr-4 text-muted",children:new Date(a.timestamp).toLocaleDateString()}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:a.isError?"text-red-400":"text-green-400",children:a.isError?"âœ— Failed":"âœ“"})})]},o))})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:s.explorer,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View all on BaseScan â†’"})})]})]})})}export{N as Report};
