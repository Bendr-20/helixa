import{j as l}from"./vendor-wallet-iWeBopzN.js";import{r as i}from"./vendor-react-NLnOsXgy.js";import{a as d,r as k,I as y,bq as w,_ as C}from"./index-CPsDcot4.js";import{n as g}from"./ScreenLayout-DTmQLGPf-XyHj3VpN.js";import{C as v}from"./circle-alert-0AkLlZ42.js";import{C as h}from"./circle-check-big-YWHND4yl.js";import{c as b}from"./createLucideIcon-4wkIQryq.js";import"./ModalHeader-D8-mhjp4-B2mPQY48.js";import"./Screen-Bp-TN9gb-D6GkpXTy.js";import"./index-Dq_xe9dz-DCDZnyX3.js";const S=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x=b("ban",S),R=({appName:t,success:a,error:e,onRevoke:r,onDeny:n,onClose:o})=>l.jsx(g,a||e?{title:e?"Something went wrong":"Success!",subtitle:e?"Please try again.":"You've successfully revoked permissions.",icon:e?v:h,iconVariant:e?"error":"success",onBack:o,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:x,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:n},onBack:o,watermark:!0}),T={component:()=>{let{data:t}=d(),a=k(),{closePrivyModal:e}=y(),[r,n]=i.useState(!1),[o,m]=i.useState(),{onRevoke:u,onSuccess:p,onError:f}=t.delegatedActions.revoke,s=async()=>{r?p():f(o??new C("User declined revoking access to their delegated wallet.")),e({shouldCallAuthOnSuccess:!1})};return i.useEffect((()=>{if(!r&&!o)return;let c=setTimeout(s,w);return()=>clearTimeout(c)}),[r,o]),l.jsx(R,{appName:a.name,success:r,error:o,onRevoke:async()=>{try{await u(),n(!0)}catch(c){m(c)}},onDeny:()=>{s()},onClose:s})}};export{T as DelegatedActionsRevokeScreen,R as DelegatedActionsRevokeScreenView,T as default};
