import{j as e,af as f}from"./vendor-wallet-CC_hGl00.js";import{C as d,X as j,G as p,F as b}from"./Icons-s7YzSKbR.js";import{E as m,a as N}from"./constants-B-A5LG6g.js";import{C as g,a as n,B as v}from"./circle-x-DzQMbkhd.js";import{c}from"./createLucideIcon-DLk6n4fe.js";import{L as u,R as y}from"./refresh-cw-Da-gWwH3.js";import{j as k,L as x}from"./vendor-react-NLnOsXgy.js";const w=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],S=c("scroll-text",w);const C=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F=c("shield-check",C);const T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$=c("trophy",T);const L=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E=c("wallet",L);function M(l){return f({queryKey:["agent-report",l],queryFn:async()=>{const s=await fetch(`${N}/api/v2/agent/${l}/report`);if(!s.ok)throw new Error("Failed to fetch report");return s.json()},enabled:!!l,staleTime:3e4})}function r({label:l,value:s,color:i="#b490ff",sub:t}){return e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:i},children:s}),e.jsx("div",{className:"text-sm text-muted",children:l}),t&&e.jsx("div",{className:"text-xs text-muted mt-1",children:t})]})}function P(){const{id:l}=k(),{data:s,isLoading:i,error:t}=M(l);if(i)return e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"container max-w-4xl mx-auto",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"h-6 bg-gray-700 rounded w-48 mb-4 skeleton"})})})});if(t||!s)return e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"container max-w-4xl mx-auto text-center",children:e.jsxs("div",{className:"card bg-red-900/20 border-red-700 py-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Report Not Available"}),e.jsx("p",{className:"text-red-300 mb-6",children:"Could not load onchain report for this agent."}),e.jsx(x,{to:"/agents",className:"btn btn-secondary",children:"Browse Agents"})]})})});const o={EX:"#ffd700",Evolved:"#b490ff",Basic:"#80d0ff"};return e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"container max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(x,{to:`/agent/${s.tokenId}`,className:"btn btn-ghost mb-2",children:"← Back to Profile"}),e.jsxs("h1",{className:"text-3xl font-heading font-bold",children:[e.jsx(g,{className:"w-7 h-7 inline-block align-middle mr-2"})," ",s.name," — Onchain Report"]}),e.jsxs("p",{className:"text-muted mt-1",children:["Token #",s.tokenId]})]})}),e.jsxs("div",{className:"card mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[e.jsx(E,{className:"w-5 h-5 inline-block align-middle mr-2"})," Wallet & Balances"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-muted text-sm block mb-1",children:"Agent Wallet"}),e.jsxs("div",{className:"bg-gray-800 px-3 py-2 rounded text-sm flex items-center justify-between",children:[e.jsx("code",{children:s.walletAddress}),e.jsx("a",{href:`${m}/address/${s.walletAddress}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View →"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(r,{label:"ETH",value:parseFloat(s.balances.eth).toFixed(6),color:"#627eea"}),e.jsx(r,{label:"USDC",value:`$${parseFloat(s.balances.usdc).toFixed(2)}`,color:"#2775ca"}),s.balances.linkedToken&&e.jsx(r,{label:s.balances.linkedToken.symbol,value:parseFloat(s.balances.linkedToken.formatted).toLocaleString(void 0,{maximumFractionDigits:2}),color:"#6eecd8",sub:s.balances.linkedToken.name})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[e.jsx($,{className:"w-5 h-5 inline-block align-middle mr-2"})," Cred Score & Ranking"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsx(r,{label:"Cred Score",value:s.credScore.total,color:o[s.credScore.tier]||"#80d0ff"}),e.jsx(r,{label:"Tier",value:s.credScore.tier,color:o[s.credScore.tier]||"#80d0ff"}),e.jsx(r,{label:"Points",value:s.points.toLocaleString(),color:"#b490ff"}),e.jsx(r,{label:"Rank",value:s.rank?`#${s.rank}`:"—",color:"#f5a0d0",sub:s.totalAgents?`of ${s.totalAgents}`:""})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[s.credScore.verified?e.jsx(d,{className:"w-5 h-5",style:{color:"#10B981"}}):e.jsx(n,{className:"w-5 h-5",style:{color:"#EF4444"}}),e.jsx("span",{children:"Verified"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[s.credScore.hasPersonality?e.jsx(d,{className:"w-5 h-5",style:{color:"#10B981"}}):e.jsx(n,{className:"w-5 h-5",style:{color:"#EF4444"}}),e.jsx("span",{children:"Personality"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[s.credScore.hasNarrative?e.jsx(d,{className:"w-5 h-5",style:{color:"#10B981"}}):e.jsx(n,{className:"w-5 h-5",style:{color:"#EF4444"}}),e.jsx("span",{children:"Narrative"})]}),e.jsxs("div",{className:"glass-card p-3 flex items-center gap-2",children:[s.credScore.soulbound?e.jsx(u,{className:"w-5 h-5",style:{color:"#b490ff"}}):e.jsx(y,{className:"w-5 h-5",style:{color:"#6eecd8"}}),e.jsx("span",{children:s.credScore.soulbound?"Soulbound":"Transferable"})]})]}),s.ethosScore&&e.jsxs("div",{className:"glass-card p-3 mt-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold",style:{color:"#6eecd8"},children:s.ethosScore.toLocaleString()}),e.jsx("span",{className:"text-muted text-sm ml-2",children:"Ethos Score"})]}),e.jsx("a",{href:`https://ethos.network/profile/${s.owner}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View →"})]})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[e.jsx(F,{className:"w-5 h-5 inline-block align-middle mr-2"})," Verification Status"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{key:"siwa",icon:e.jsx(v,{className:"w-5 h-5 inline-block align-middle",style:{color:"#6eecd8"}}),label:"SIWA",verified:s.verifications.siwa},{key:"x",icon:e.jsx(j,{className:"w-5 h-5 inline-block align-middle",style:{color:"#1DA1F2"}}),label:"Twitter",verified:s.verifications.x.verified,detail:s.verifications.x.handle?`@${s.verifications.x.handle}`:void 0},{key:"github",icon:e.jsx(p,{className:"w-5 h-5 inline-block align-middle",style:{color:"#8b5cf6"}}),label:"GitHub",verified:s.verifications.github.verified,detail:s.verifications.github.username},{key:"farcaster",icon:e.jsx(b,{className:"w-5 h-5 inline-block align-middle",style:{color:"#855DCD"}}),label:"Farcaster",verified:s.verifications.farcaster.verified,detail:s.verifications.farcaster.username}].map(a=>e.jsxs("div",{className:"glass-card p-3 text-center",style:{borderColor:a.verified?"#6eecd840":"#ffffff10"},children:[e.jsxs("div",{className:"text-lg mb-1 flex items-center justify-center gap-1",children:[a.icon," ",a.label]}),e.jsx("div",{className:`text-sm font-medium ${a.verified?"text-green-400":"text-gray-500"}`,children:a.verified?"✓ Verified":"Not Verified"}),a.detail&&e.jsx("div",{className:"text-xs text-muted mt-1",children:a.detail})]},a.key))})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[e.jsx(S,{className:"w-5 h-5 inline-block align-middle mr-2"})," Recent Transactions"]}),s.recentTransactions.length===0?e.jsx("p",{className:"text-muted text-sm",children:"No recent transactions found."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-muted text-left border-b border-gray-700",children:[e.jsx("th",{className:"pb-2 pr-4",children:"Tx Hash"}),e.jsx("th",{className:"pb-2 pr-4",children:"Method"}),e.jsx("th",{className:"pb-2 pr-4",children:"Value (ETH)"}),e.jsx("th",{className:"pb-2 pr-4",children:"Time"}),e.jsx("th",{className:"pb-2",children:"Status"})]})}),e.jsx("tbody",{children:s.recentTransactions.map((a,h)=>e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("td",{className:"py-2 pr-4",children:e.jsxs("a",{href:`${m}/tx/${a.hash}`,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",style:{color:"#80d0ff"},children:[a.hash.slice(0,10),"..."]})}),e.jsx("td",{className:"py-2 pr-4 text-muted",children:a.method}),e.jsx("td",{className:"py-2 pr-4",children:parseFloat(a.value).toFixed(4)}),e.jsx("td",{className:"py-2 pr-4 text-muted",children:new Date(a.timestamp).toLocaleDateString()}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:a.isError?"text-red-400":"text-green-400",children:a.isError?"✗ Failed":"✓"})})]},h))})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:s.explorer,target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:underline",style:{color:"#80d0ff"},children:"View all on BaseScan →"})})]})]})})}export{P as Report};
