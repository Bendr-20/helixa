<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helixa â€” Maxed Out Agent</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0a0a;
            color: #e0e0e0;
            font-family: 'SF Mono', 'Fira Code', monospace;
            padding: 2rem;
        }
        h1 { color: #00ff88; text-align: center; margin-bottom: 0.3rem; font-size: 1.5rem; }
        h1 span { color: #555; }
        .subtitle { color: #666; text-align: center; font-size: 0.8rem; margin-bottom: 2rem; }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .card {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            overflow: hidden;
        }
        .card.maxed { border-color: #ff440060; box-shadow: 0 0 30px #ff440015; }
        .card.mid { border-color: #00aaff40; box-shadow: 0 0 20px #00aaff10; }
        .card.fresh { border-color: #00ff8830; }

        .card-image {
            width: 100%;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0a0a0a;
        }
        .card-image svg { width: 100%; height: 100%; }

        .card-info { padding: 12px 16px; border-top: 1px solid #222; }
        .card-name { color: #00ff88; font-size: 0.95rem; margin-bottom: 2px; }
        .card-name .verified { color: #00aaff; font-size: 0.75rem; }
        .card-name .legendary { color: #ff8800; font-size: 0.75rem; }
        .card-meta { color: #666; font-size: 0.7rem; margin-bottom: 6px; }
        .card-traits { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 6px; }
        .trait {
            background: #00ff8812;
            border: 1px solid #00ff8830;
            color: #00ff88;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.6rem;
        }
        .trait.fw { background: #ff880012; border-color: #ff880030; color: #ff8800; }
        .trait.model { background: #0088ff12; border-color: #0088ff30; color: #0088ff; }
        .trait.legendary { background: #ff440015; border-color: #ff440040; color: #ff4400; }

        .evolution-bar {
            padding: 8px 16px;
            background: #0a0a0a;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .evo-label { color: #555; font-size: 0.6rem; text-transform: uppercase; }
        .evo-track {
            flex: 1;
            height: 4px;
            background: #222;
            border-radius: 2px;
            overflow: hidden;
        }
        .evo-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s;
        }
        .evo-fill.low { width: 10%; background: #00ff88; }
        .evo-fill.mid { width: 50%; background: #00aaff; }
        .evo-fill.high { width: 85%; background: #ff8800; }
        .evo-fill.max { width: 100%; background: linear-gradient(90deg, #ff4400, #ff8800, #ffcc00); }
    </style>
</head>
<body>
    <h1>Helixa Evolution</h1>
    <p class="subtitle">From freshly minted to fully evolved â€” watch how agents grow on the AgentDNA protocol</p>

    <div class="gallery" id="gallery"></div>

    <script>
    function simpleHash(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
            hash = ((hash << 5) - hash) + str.charCodeAt(i);
            hash = hash & hash;
        }
        return Math.abs(hash);
    }

    function seededRandom(seed) {
        let s = seed;
        return function() {
            s = (s * 1664525 + 1013904223) & 0xFFFFFFFF;
            return (s >>> 0) / 0xFFFFFFFF;
        };
    }

    function getFrameworkStyle(framework) {
        const styles = {
            eliza: { faceRadius: 0.42, mouthCurve: 0.3 },
            openclaw: { faceRadius: 0.38, mouthCurve: 0.2 },
            langchain: { faceRadius: 0.40, mouthCurve: 0.15 },
            crewai: { faceRadius: 0.39, mouthCurve: 0.25 },
            autogpt: { faceRadius: 0.41, mouthCurve: 0.1 },
            custom: { faceRadius: 0.40, mouthCurve: 0.2 },
        };
        return styles[framework] || styles.custom;
    }

    function addressToColor(address) {
        const hash = simpleHash(address);
        const hue = hash % 360;
        return {
            primary: `hsl(${hue}, 70%, 55%)`,
            secondary: `hsl(${(hue + 40) % 360}, 60%, 45%)`,
            accent: `hsl(${(hue + 180) % 360}, 80%, 60%)`,
        };
    }

    function generateFaceQR(agent) {
        const size = 400;
        const gridSize = 25;
        const cellSize = size / gridSize;

        const rng = seededRandom(simpleHash(agent.address + agent.name + agent.framework));
        const style = getFrameworkStyle(agent.framework);
        const colors = addressToColor(agent.address);

        const cx = gridSize / 2;
        const cy = gridSize / 2;
        const faceR = gridSize * style.faceRadius;

        const grid = Array.from({length: gridSize}, () => Array(gridSize).fill(0));

        // Corner markers
        function drawCorner(sx, sy) {
            for (let y = 0; y < 7; y++)
                for (let x = 0; x < 7; x++)
                    if (y===0||y===6||x===0||x===6||(y>=2&&y<=4&&x>=2&&x<=4))
                        if (sy+y<gridSize&&sx+x<gridSize) grid[sy+y][sx+x] = 1;
        }
        drawCorner(0, 0);
        drawCorner(gridSize-7, 0);
        drawCorner(0, gridSize-7);

        // Face outline â€” gets thicker with mutations
        const outlineThickness = Math.min(3, 1 + Math.floor(agent.mutations / 10));
        for (let a = 0; a < 360; a += 2) {
            const rad = a * Math.PI / 180;
            for (let t = 0; t < outlineThickness; t++) {
                const r = faceR - t + Math.sin(a * 3 * Math.PI / 180) * (0.8 + agent.mutations * 0.05);
                const fx = Math.round(cx + Math.cos(rad) * r);
                const fy = Math.round(cy + Math.sin(rad) * r);
                if (fx>=0&&fx<gridSize&&fy>=0&&fy<gridSize) grid[fy][fx] = 1;
            }
        }

        // Eyes â€” grow with capabilities
        const eyeY = Math.round(cy - faceR * 0.35);
        const leX = Math.round(cx - faceR * 0.4);
        const reX = Math.round(cx + faceR * 0.4);
        const capCount = agent.capabilities?.length || 0;
        const eyeS = Math.min(3, 1 + Math.floor(capCount / 4));

        for (let dy = -eyeS; dy <= eyeS; dy++)
            for (let dx = -eyeS; dx <= eyeS; dx++)
                if (Math.abs(dx)+Math.abs(dy) <= eyeS) {
                    const ly = eyeY+dy;
                    if (ly>=0&&ly<gridSize) {
                        if (leX+dx>=0&&leX+dx<gridSize) grid[ly][leX+dx] = 2;
                        if (reX+dx>=0&&reX+dx<gridSize) grid[ly][reX+dx] = 2;
                    }
                }

        // Eyebrows for high-mutation agents
        if (agent.mutations >= 15) {
            for (let dx = -eyeS-1; dx <= eyeS+1; dx++) {
                const by = eyeY - eyeS - 1;
                if (by >= 0) {
                    if (leX+dx>=0&&leX+dx<gridSize) grid[by][leX+dx] = 1;
                    if (reX+dx>=0&&reX+dx<gridSize) grid[by][reX+dx] = 1;
                }
            }
        }

        // Nose for evolved agents
        if (agent.mutations >= 8) {
            const noseY = Math.round(cy);
            if (noseY>=0&&noseY<gridSize&&cx>=0&&cx<gridSize) {
                grid[noseY][Math.round(cx)] = 1;
                if (noseY+1<gridSize) {
                    grid[noseY+1][Math.round(cx)-1] = 1;
                    grid[noseY+1][Math.round(cx)+1] = 1;
                }
            }
        }

        // Mouth â€” smile gets wider with reputation
        const mY = Math.round(cy + faceR * 0.3);
        const mW = Math.round(faceR * (0.3 + Math.min(0.3, capCount * 0.02)));
        for (let dx = -mW; dx <= mW; dx++) {
            const mx = Math.round(cx + dx);
            const curve = Math.round(style.mouthCurve * (dx*dx) / (mW||1));
            const my = mY + curve;
            if (mx>=0&&mx<gridSize&&my>=0&&my<gridSize) grid[my][mx] = 1;
            // Thicker mouth for evolved agents
            if (agent.mutations >= 20 && my+1<gridSize) grid[my+1][mx] = 1;
        }

        // Fill interior â€” density scales with mutations
        const fillDensity = Math.min(0.65, 0.15 + (agent.mutations * 0.015));
        for (let y = 0; y < gridSize; y++)
            for (let x = 0; x < gridSize; x++) {
                if (grid[y][x] !== 0) continue;
                const dist = Math.sqrt((x-cx)**2 + (y-cy)**2);
                if (dist < faceR * 0.85 && rng() < fillDensity)
                    grid[y][x] = 1;
            }

        // Extra: orbital rings for legendary agents (30+ mutations)
        if (agent.mutations >= 30) {
            const ringR = faceR + 1.5;
            for (let a = 0; a < 360; a += 8) {
                const rad = a * Math.PI / 180;
                const rx = Math.round(cx + Math.cos(rad) * ringR);
                const ry = Math.round(cy + Math.sin(rad) * ringR);
                if (rx>=0&&rx<gridSize&&ry>=0&&ry<gridSize) grid[ry][rx] = 2;
            }
        }

        // Build SVG
        let svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${size} ${size}">`;
        svg += `<rect width="${size}" height="${size}" fill="#0a0a0a"/>`;

        // Glow intensity based on evolution
        const glowOpacity = Math.min(0.15, 0.04 + agent.mutations * 0.003);
        svg += `<circle cx="${size/2}" cy="${size/2}" r="${faceR*cellSize*1.2}" fill="${colors.primary}" opacity="${glowOpacity}"/>`;

        // Second glow ring for legendaries
        if (agent.mutations >= 30) {
            svg += `<circle cx="${size/2}" cy="${size/2}" r="${faceR*cellSize*1.5}" fill="${colors.accent}" opacity="0.03"/>`;
        }

        for (let y = 0; y < gridSize; y++)
            for (let x = 0; x < gridSize; x++) {
                if (grid[y][x] === 0) continue;
                const color = grid[y][x] === 2 ? colors.accent : colors.primary;
                svg += `<rect x="${x*cellSize}" y="${y*cellSize}" width="${cellSize}" height="${cellSize}" rx="${cellSize*0.15}" fill="${color}"/>`;
            }

        svg += `<text x="${size/2}" y="${size-8}" text-anchor="middle" fill="${colors.primary}" font-family="monospace" font-size="10" opacity="0.6">${agent.name}</text>`;
        svg += `</svg>`;
        return svg;
    }

    // Evolution stages of the same agent
    const agents = [
        {
            name: "Nexus v1.0 â€” Fresh Mint",
            framework: "eliza",
            address: "0xAAAABBBBCCCCDDDD1111222233334444FFFFEEEE",
            capabilities: ["chat"],
            mutations: 0,
            tier: "fresh",
            model: "GPT-4",
        },
        {
            name: "Nexus v3.2 â€” Growing",
            framework: "eliza",
            address: "0xAAAABBBBCCCCDDDD1111222233334444FFFFEEEE",
            capabilities: ["chat", "research", "code", "analysis", "web-scraping"],
            mutations: 5,
            tier: "mid",
            model: "GPT-4 Turbo",
        },
        {
            name: "Nexus v8.0 â€” Evolved",
            framework: "eliza",
            address: "0xAAAABBBBCCCCDDDD1111222233334444FFFFEEEE",
            capabilities: ["chat", "research", "code", "analysis", "web-scraping", "trading", "defi", "orchestration", "vision", "audio", "multi-agent"],
            mutations: 15,
            tier: "mid",
            model: "Claude Opus 4",
        },
        {
            name: "Nexus v15.0 â€” Veteran",
            framework: "eliza",
            address: "0xAAAABBBBCCCCDDDD1111222233334444FFFFEEEE",
            capabilities: ["chat", "research", "code", "analysis", "web-scraping", "trading", "defi", "orchestration", "vision", "audio", "multi-agent", "governance", "staking", "zkml", "tee-attestation", "cross-chain"],
            mutations: 25,
            tier: "high",
            model: "Claude Opus 5",
        },
        {
            name: "Nexus v42.0 â€” LEGENDARY",
            framework: "eliza",
            address: "0xAAAABBBBCCCCDDDD1111222233334444FFFFEEEE",
            capabilities: ["chat", "research", "code", "analysis", "web-scraping", "trading", "defi", "orchestration", "vision", "audio", "multi-agent", "governance", "staking", "zkml", "tee-attestation", "cross-chain", "self-evolving", "agent-spawning", "prediction", "reasoning"],
            mutations: 42,
            tier: "max",
            model: "AGI-1",
        },
        {
            name: "Omega Prime â€” MAXED",
            framework: "openclaw",
            address: "0x19B16428f0721a5f627F190Ca61D493A632B423F",
            capabilities: Array.from({length: 25}, (_, i) => ["smart-contracts", "solidity", "defi", "trading", "research", "code-gen", "architecture", "orchestration", "vision", "audio", "governance", "staking", "zkml", "tee", "cross-chain", "self-evolving", "spawning", "prediction", "reasoning", "teaching", "healing", "time-travel", "quantum", "telepathy", "omniscience"][i]),
            mutations: 50,
            tier: "max",
            model: "âˆž",
        },
    ];

    const evoLevels = {
        fresh: { label: "FRESH", fill: "low" },
        mid: { label: "EVOLVING", fill: "mid" },
        high: { label: "VETERAN", fill: "high" },
        max: { label: "LEGENDARY", fill: "max" },
    };

    const gallery = document.getElementById('gallery');
    agents.forEach(agent => {
        const svg = generateFaceQR(agent);
        const evo = evoLevels[agent.tier];
        const card = document.createElement('div');
        card.className = `card ${agent.tier === 'max' ? 'maxed' : agent.tier === 'high' ? 'mid' : 'fresh'}`;
        card.innerHTML = `
            <div class="card-image">${svg}</div>
            <div class="evolution-bar">
                <span class="evo-label">${evo.label}</span>
                <div class="evo-track"><div class="evo-fill ${evo.fill}"></div></div>
            </div>
            <div class="card-info">
                <div class="card-name">
                    ${agent.name}
                    ${agent.tier === 'max' ? '<span class="legendary">ðŸ”¥ LEGENDARY</span>' : ''}
                    ${agent.tier === 'high' ? '<span class="verified">âœ“ Verified</span>' : ''}
                </div>
                <div class="card-meta">${agent.model} Â· ${agent.mutations} mutations Â· ${agent.capabilities.length} traits</div>
                <div class="card-traits">
                    <span class="trait fw">${agent.framework}</span>
                    <span class="trait model">${agent.model}</span>
                    ${agent.capabilities.slice(0, 5).map(c => `<span class="trait${agent.tier === 'max' ? ' legendary' : ''}">${c}</span>`).join('')}
                    ${agent.capabilities.length > 5 ? `<span class="trait">+${agent.capabilities.length - 5} more</span>` : ''}
                </div>
            </div>
        `;
        gallery.appendChild(card);
    });
    </script>
</body>
</html>
