<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>$CRED Report — Helixa Cred Bureau</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --green: #33ff33;
  --green-dim: #1a9e1a;
  --green-dark: #0a3a0a;
  --amber: #ffaa00;
  --bg: #0a0a0a;
  --bezel: #c8b88a;
  --bezel-dark: #8a7a5a;
  --bezel-light: #e0d4b0;
}

html, body {
  height: 100%;
  background: #1a1a1a;
  font-family: 'VT323', 'Courier New', Courier, monospace;
  overflow: hidden;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(ellipse at center, #2a2a2a 0%, #0a0a0a 100%);
}

/* === MONITOR BEZEL === */
.monitor {
  position: relative;
  width: min(95vw, 750px);
  height: min(90vh, 680px);
  background: linear-gradient(160deg, var(--bezel-light) 0%, var(--bezel) 30%, var(--bezel-dark) 100%);
  border-radius: 28px;
  padding: 28px 28px 40px;
  box-shadow:
    0 8px 40px rgba(0,0,0,0.7),
    inset 0 2px 0 rgba(255,255,255,0.3),
    inset 0 -2px 4px rgba(0,0,0,0.3);
}

.monitor::after {
  content: 'HELIXA';
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  font-family: Arial, sans-serif;
  font-size: 13px;
  font-weight: bold;
  letter-spacing: 4px;
  color: var(--bezel-dark);
  text-shadow: 0 1px 0 rgba(255,255,255,0.4);
}

.monitor-led {
  position: absolute;
  bottom: 14px;
  right: 40px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #33ff33;
  box-shadow: 0 0 6px #33ff33;
  animation: led-blink 3s infinite;
}

@keyframes led-blink {
  0%, 90%, 100% { opacity: 1; }
  95% { opacity: 0.4; }
}

/* === CRT SCREEN === */
.crt {
  position: relative;
  width: 100%;
  height: 100%;
  background: var(--bg);
  border-radius: 12px;
  overflow: hidden;
  box-shadow:
    inset 0 0 80px rgba(51, 255, 51, 0.05),
    inset 0 0 6px rgba(0,0,0,0.8);
}

/* Scanlines */
.crt::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  pointer-events: none;
  z-index: 10;
}

/* Vignette */
.crt::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, transparent 50%, rgba(0,0,0,0.65) 100%);
  pointer-events: none;
  z-index: 11;
}

/* Flicker */
.crt-flicker {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 12;
  animation: flicker 0.15s infinite;
  opacity: 0;
  background: rgba(51, 255, 51, 0.02);
}

@keyframes flicker {
  0% { opacity: 0.01; }
  5% { opacity: 0.04; }
  10% { opacity: 0; }
  15% { opacity: 0.02; }
  50% { opacity: 0; }
  80% { opacity: 0.03; }
  100% { opacity: 0; }
}

/* Rolling scanline bar */
.crt-roll {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 9;
  overflow: hidden;
}

.crt-roll::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 60px;
  background: linear-gradient(transparent, rgba(51,255,51,0.04), transparent);
  animation: roll 8s linear infinite;
}

@keyframes roll {
  0% { top: -60px; }
  100% { top: 100%; }
}

/* === SCREEN CONTENT === */
.screen {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 20px;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 5;
  color: var(--green);
  font-size: clamp(14px, 2.2vw, 20px);
  line-height: 1.35;
  text-shadow:
    0 0 5px rgba(51, 255, 51, 0.6),
    0 0 15px rgba(51, 255, 51, 0.2);
  scrollbar-width: none;
}

.screen::-webkit-scrollbar { display: none; }

/* RGB color fringing on text */
.screen {
  text-rendering: geometricPrecision;
}

/* === TEXT STYLES === */
.line { white-space: pre; }
.cursor {
  display: inline-block;
  animation: blink 1s step-end infinite;
}
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.input-line {
  display: flex;
  align-items: center;
}

#agent-input {
  background: transparent;
  border: none;
  outline: none;
  color: var(--green);
  font-family: 'VT323', 'Courier New', Courier, monospace;
  font-size: inherit;
  text-shadow: inherit;
  caret-color: var(--green);
  width: 200px;
}

.highlight { color: var(--amber); text-shadow: 0 0 5px rgba(255,170,0,0.6), 0 0 15px rgba(255,170,0,0.2); }

/* === BUTTONS === */
.actions {
  margin-top: 12px;
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.btn {
  background: transparent;
  border: 2px solid var(--green);
  color: var(--green);
  font-family: 'VT323', 'Courier New', Courier, monospace;
  font-size: clamp(14px, 2.2vw, 20px);
  padding: 6px 18px;
  cursor: pointer;
  text-shadow: 0 0 5px rgba(51,255,51,0.6);
  box-shadow: 0 0 8px rgba(51,255,51,0.2);
  transition: all 0.15s;
}

.btn:hover, .btn:focus {
  background: rgba(51,255,51,0.15);
  box-shadow: 0 0 16px rgba(51,255,51,0.4);
}

/* === POWER ON EFFECT === */
.power-on {
  animation: power-on 0.6s ease-out;
}

@keyframes power-on {
  0% { transform: scale(1, 0.01); filter: brightness(3); }
  40% { transform: scale(1, 0.01); filter: brightness(3); }
  60% { transform: scale(1, 1); filter: brightness(1.5); }
  100% { transform: scale(1, 1); filter: brightness(1); }
}

/* === RESPONSIVE === */
@media (max-width: 500px) {
  .monitor {
    width: 100vw;
    height: 100vh;
    border-radius: 0;
    padding: 12px 8px 32px;
  }
  .crt { border-radius: 4px; }
  .screen { padding: 12px 8px; font-size: 13px; }
  .line { white-space: pre-wrap; word-break: break-all; }
}


/* === CRED LOGO === */
.cred-logo {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  opacity: 0.85;
  z-index: 8;
  filter: drop-shadow(0 0 8px rgba(51, 255, 51, 0.4));
}
/* === PROCESSING ANIMATION === */
@keyframes dots {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
}
.processing-dots::after {
  content: '';
  animation: dots 1.2s steps(1) infinite;
}
</style>
</head>
<body>
<div class="monitor">
  <div class="monitor-led"></div>
  <div class="crt power-on">
    <div class="crt-flicker"></div>
    <img class="cred-logo" src="data:image/png;base64,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" alt="CRED">
    <div class="crt-roll"></div>
    <div class="screen" id="screen"></div>
  </div>
</div>

<script>
// === SOUND EFFECT PLACEHOLDERS ===
// function playKeystroke() { /* new Audio('keystroke.mp3').play() */ }
// function playDotMatrix() { /* new Audio('dotmatrix.mp3').play() */ }
// function playCRTHum() { /* new Audio('crt-hum.mp3').play() */ }

const screen = document.getElementById('screen');

// === TIER MAPPING ===
function getTier(score) {
  if (score >= 91) return 'AAA';
  if (score >= 76) return 'PRIME';
  if (score >= 51) return 'INVESTMENT GRADE';
  if (score >= 26) return 'SPECULATIVE';
  return 'JUNK';
}

function getBar(pct, len = 10) {
  const filled = Math.round((pct / 100) * len);
  return '█'.repeat(filled) + '░'.repeat(len - filled);
}

// === LIVE API FETCH ===
const API_BASE = 'https://api.helixa.xyz';

async function fetchAgentData(id) {
  // If numeric, fetch by ID directly. Otherwise search by name.
  const isNumeric = /^\d+$/.test(id.trim());
  let agent = null;

  try {
    if (isNumeric) {
      const res = await fetch(`${API_BASE}/api/v2/agent/${id.trim()}`);
      if (!res.ok) throw new Error(`API returned ${res.status}`);
      agent = await res.json();
    } else {
      // Search all agents for a name match (case-insensitive)
      const listRes = await fetch(`${API_BASE}/api/v2/agents`);
      if (!listRes.ok) throw new Error(`Agent list returned ${listRes.status}`);
      const data = await listRes.json();
      const agents = data.agents || data || [];
      const match = agents.find(a =>
        a.name && a.name.toLowerCase() === id.trim().toLowerCase()
      );
      if (!match) throw new Error('NO MATCH FOR "' + id.trim() + '"');
      const res = await fetch(`${API_BASE}/api/v2/agent/${match.tokenId}`);
      if (!res.ok) throw new Error(`Agent ${match.tokenId} returned ${res.status}`);
      agent = await res.json();
    }
  } catch (fetchErr) {
    throw new Error(fetchErr.message || 'NETWORK ERROR');
  }

  // Parse cred score from traits or compute from available data
  const credScore = agent.credScore ?? agent.cred ?? 0;
  const traits = agent.traits || [];
  const personality = agent.personality || {};
  const narrative = agent.narrative || {};

  // Check verifications from traits
  const hasVerif = (name) => traits.some(t => t.name === name || t.name === name.toLowerCase());

  // Calculate age
  const mintDate = agent.mintedAt ? new Date(agent.mintedAt) : null;
  const ageDays = mintDate ? Math.floor((Date.now() - mintDate.getTime()) / 86400000) : 0;
  const ageStr = ageDays === 1 ? '1 DAY' : `${ageDays} DAYS`;

  // Narrative completeness
  const narrativeFields = [narrative.origin, narrative.mission, narrative.lore, narrative.manifesto].filter(Boolean);
  const narrativeStatus = narrativeFields.length >= 3 ? 'COMPLETE' : narrativeFields.length > 0 ? 'PARTIAL' : 'NONE';

  // Build breakdown from cred weights
  const breakdown = {};
  if (agent.credBreakdown) {
    if (agent.credBreakdown.activity != null) breakdown.ACTIVITY = agent.credBreakdown.activity;
    if (agent.credBreakdown.traits != null) breakdown.TRAITS = agent.credBreakdown.traits;
    if (agent.credBreakdown.verify != null) breakdown.VERIFY = agent.credBreakdown.verify;
    if (agent.credBreakdown.coinbase != null) breakdown.COINBASE = agent.credBreakdown.coinbase;
    if (agent.credBreakdown.age != null) breakdown.AGE = agent.credBreakdown.age;
    if (agent.credBreakdown.origin != null) breakdown.ORIGIN = agent.credBreakdown.origin;
  }
  // Fallback: estimate from available data
  if (Object.keys(breakdown).length === 0) {
    breakdown.ACTIVITY = Math.min(100, (agent.txCount || 0) * 10);
    breakdown.TRAITS = Math.min(100, traits.length * 15);
    breakdown.VERIFY = (hasVerif('x-verified') || hasVerif('siwa-verified')) ? 100 : 0;
    breakdown.AGE = Math.min(100, ageDays * 10);
    breakdown.ORIGIN = agent.mintOrigin === 1 ? 100 : agent.mintOrigin === 2 ? 80 : 50;
  }

  return {
    name: agent.name || `Agent #${id}`,
    tokenId: `#${String(id).padStart(3, '0')}`,
    credScore: credScore,
    date: new Date().toLocaleDateString('en-US', { month: '2-digit', day: '2-digit', year: 'numeric' }),
    verifications: {
      'X/TWITTER': hasVerif('x-verified'),
      'SIWA': hasVerif('siwa-verified'),
      'GITHUB': hasVerif('github-verified'),
      'COINBASE': hasVerif('coinbase-verified'),
      'FARCASTER': hasVerif('farcaster-verified')
    },
    onchain: {
      age: ageStr,
      txCount: agent.txCount || 0,
      traits: traits.length,
      points: agent.points || 0,
      narrative: narrativeStatus,
      soulbound: agent.soulbound || false
    },
    risk: {
      tolerance: personality.riskTolerance || 0,
      autonomy: personality.autonomyLevel || personality.autonomy || 0,
      alignment: (personality.alignment || personality.values || 'UNKNOWN').toUpperCase().substring(0, 30)
    },
    breakdown: breakdown
  };
}

// === HELPERS ===
function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

function addLine(text, cls = '') {
  const div = document.createElement('div');
  div.className = 'line' + (cls ? ' ' + cls : '');
  div.textContent = text;
  screen.appendChild(div);
  screen.scrollTop = screen.scrollHeight;
  return div;
}

async function typeLine(text, delay = 30, cls = '') {
  const div = document.createElement('div');
  div.className = 'line' + (cls ? ' ' + cls : '');
  screen.appendChild(div);
  for (let i = 0; i < text.length; i++) {
    div.textContent += text[i];
    // playKeystroke();
    screen.scrollTop = screen.scrollHeight;
    await sleep(delay);
  }
  return div;
}

async function printLines(lines, delay = 25) {
  for (const line of lines) {
    // playDotMatrix();
    addLine(line);
    screen.scrollTop = screen.scrollHeight;
    await sleep(delay);
  }
}

// === BOOT SEQUENCE ===
async function boot() {
  await sleep(400);
  await typeLine('HELIXA CRED BUREAU v2.0', 40);
  await sleep(300);
  await typeLine('INITIALIZING...', 50);
  await sleep(600);
  await typeLine('CONNECTING TO BASE NETWORK...', 35);
  await sleep(800);
  await typeLine('CONNECTED. CHAIN ID: 8453', 35);
  await sleep(300);
  await typeLine('READY.', 60);
  await sleep(200);
  addLine('');
  promptInput();
}

// === INPUT PROMPT ===
function promptInput() {
  const container = document.createElement('div');
  container.className = 'line input-line';
  container.innerHTML = '> ENTER AGENT ID OR NAME: <input id="agent-input" type="text" autocomplete="off" autocapitalize="off" spellcheck="false" maxlength="30"><span class="cursor">█</span>';
  screen.appendChild(container);
  screen.scrollTop = screen.scrollHeight;

  const input = document.getElementById('agent-input');
  input.focus();

  // Keep focus on mobile
  document.addEventListener('click', () => input.focus());

  input.addEventListener('keydown', async (e) => {
    if (e.key === 'Enter') {
      const val = input.value.trim() || '001';
      container.innerHTML = '> ENTER AGENT ID: ' + val;
      addLine('');
      await processReport(val);
    }
  });
}

// === PROCESSING + REPORT ===
async function processReport(agentId) {
  const proc = document.createElement('div');
  proc.className = 'line';
  proc.innerHTML = 'PROCESSING<span class="processing-dots"></span>';
  screen.appendChild(proc);
  screen.scrollTop = screen.scrollHeight;

  let data;
  try {
    data = await fetchAgentData(agentId);
  } catch (e) {
    proc.remove();
    await typeLine('ERROR: ' + (e.message || 'AGENT NOT FOUND.'), 40, 'highlight');
    addLine('');
    promptInput();
    return;
  }

  proc.remove();
  await typeLine('RECORD FOUND. PRINTING REPORT...', 30);
  await sleep(400);
  addLine('');

  const tier = getTier(data.credScore);
  const scoreBar = getBar(data.credScore);
  const W = 40;

  function pad(s, w = W - 4) { return s + ' '.repeat(Math.max(0, w - s.length)); }
  function row(s) { return '║  ' + pad(s) + '║'; }

  const verif = Object.entries(data.verifications);
  const verifLines = [];
  for (let i = 0; i < verif.length; i += 2) {
    const a = verif[i];
    const b = verif[i + 1];
    let line = `[${a[1] ? 'X' : ' '}] ${a[0]}`;
    if (b) line += '   ' + `[${b[1] ? 'X' : ' '}] ${b[0]}`;
    verifLines.push(row(line));
  }

  const breakdownLines = Object.entries(data.breakdown).map(([k, v]) => {
    const label = k.padEnd(8);
    return row(`${label} ${getBar(v)} ${v}%`);
  });

  const lines = [
    '╔' + '═'.repeat(W - 2) + '╗',
    row(`HELIXA CRED BUREAU    ${data.date}`),
    row('AGENT CREDIT REPORT'),
    '╠' + '═'.repeat(W - 2) + '╣',
    row(`SUBJECT: ${data.name}`),
    row(`TOKEN ID: ${data.tokenId}     RATING: ${tier}`),
    row(`CRED SCORE: ${scoreBar}  ${data.credScore}/100`),
    '╠' + '═'.repeat(W - 2) + '╣',
    row(`TIER: ${tier}`),
    row('───────────────────────────────────'),
    row('VERIFICATION STATUS'),
    ...verifLines,
    '╠' + '═'.repeat(W - 2) + '╣',
    row('ONCHAIN METRICS'),
    row(`AGE: ${data.onchain.age}     TX COUNT: ${data.onchain.txCount}`),
    row(`TRAITS: ${data.onchain.traits}       POINTS: ${data.onchain.points}`),
    row(`NARRATIVE: ${data.onchain.narrative}`),
    row(`SOULBOUND: ${data.onchain.soulbound ? 'YES' : 'NO'}`),
    '╠' + '═'.repeat(W - 2) + '╣',
    row('RISK ASSESSMENT'),
    row(`RISK TOLERANCE: ${data.risk.tolerance}/10`),
    row(`AUTONOMY: ${data.risk.autonomy}/10`),
    row(`ALIGNMENT: ${data.risk.alignment}`),
    '╠' + '═'.repeat(W - 2) + '╣',
    row('RATING BREAKDOWN'),
    ...breakdownLines,
    '╠' + '═'.repeat(W - 2) + '╣',
    row('CREDIT RATING SCALE'),
    row('JUNK < SPECULATIVE < INV GRADE'),
    row('< PRIME < AAA'),
    '╚' + '═'.repeat(W - 2) + '╝',
  ];

  await printLines(lines, 35);
  addLine('');

  const status = data.credScore >= 51 ? 'INVESTMENT GRADE OR ABOVE' : data.credScore >= 26 ? 'SPECULATIVE' : 'JUNK';
  const rec = data.credScore >= 51 ? 'TRUSTWORTHY AGENT' : data.credScore >= 26 ? 'PROCEED WITH CAUTION' : 'HIGH RISK — NOT RECOMMENDED';
  await typeLine(`   STATUS: ${status}`, 30, 'highlight');
  await typeLine(`   RECOMMENDATION: ${rec}`, 30, 'highlight');
  addLine('');

  // Action buttons
  const actions = document.createElement('div');
  actions.className = 'actions';

  const newBtn = document.createElement('button');
  newBtn.className = 'btn';
  newBtn.textContent = '[ NEW REPORT ]';
  newBtn.onclick = () => {
    screen.innerHTML = '';
    boot();
  };

  const shareBtn = document.createElement('button');
  shareBtn.className = 'btn';
  shareBtn.textContent = '[ SHARE ]';
  shareBtn.onclick = () => {
    if (navigator.share) {
      navigator.share({ title: `$CRED Report: ${data.name}`, text: `${data.name} — Cred Score: ${data.credScore}/100 — Rating: ${tier}`, url: window.location.href });
    } else {
      navigator.clipboard.writeText(`${data.name} — Cred Score: ${data.credScore}/100 — Rating: ${tier}\n${window.location.href}`);
      const note = addLine('   COPIED TO CLIPBOARD.', 'highlight');
      setTimeout(() => note.remove(), 2000);
    }
  };

  actions.appendChild(newBtn);
  actions.appendChild(shareBtn);
  screen.appendChild(actions);
  screen.scrollTop = screen.scrollHeight;
}

// === START ===
boot();
</script>
</body>
</html>
